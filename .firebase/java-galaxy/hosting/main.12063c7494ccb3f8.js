(self.webpackChunkjavaGalaxy=self.webpackChunkjavaGalaxy||[]).push([[179],{7908:(Vt,Be,k)=>{"use strict";k.d(Be,{b:()=>tE,s:()=>p1});var u=k(4650),$=k(1481),f=k(2569);const ye=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",loadChildren:()=>Promise.resolve().then(k.bind(k,1147)).then(o=>o.HomeModule)},{path:"auth",loadChildren:()=>Promise.resolve().then(k.bind(k,3401)).then(o=>o.AuthenticationModule)},{path:"code",loadChildren:()=>Promise.resolve().then(k.bind(k,6892)).then(o=>o.TutorialContentModule)},{path:"**",redirectTo:"home"}];let K=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[f.Bz.forRoot(ye,{initialNavigation:"enabledBlocking"}),f.Bz]}),o})();var q=k(5861),Z=k(6895),ae=k(9383),X=k(7579);let ne=(()=>{class o{constructor(){this.theme=new X.x,this.innerWidth=new X.x,this.innerHeight=new X.x,this.animationGlowSun=new X.x,this.themeChanged$=this.theme?.asObservable(),this.innerWidth$=this.innerWidth?.asObservable(),this.startAnimationGlowSun$=this.animationGlowSun?.asObservable()}changeTheme(t){this.theme?.next(t)}resizeWindow(t,n){this.innerWidthDimension=t,this.innerHeightDimension=n,this.innerWidth?.next(t),this.innerHeight?.next(n)}startAnimationGlowSun(t){console.log("nel service: "+t),this.animationGlowSun?.next(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var ue=k(5657),he=k(4629),Ne=k(7350),Fe=k(3353),Le=k(8249),We=k(7340),He=k(805),Me=k(9592),mt=k(982),nn=k(2076),qe=k(4128),ie=k(4004);let je=(()=>{class o{constructor(t,n){this._renderer=t,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,n){this._renderer.setProperty(this._elementRef.nativeElement,t,n)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.Qsj),u.Y36(u.SBq))},o.\u0275dir=u.lG2({type:o}),o})(),ve=(()=>{class o extends je{}return o.\u0275fac=function(){let e;return function(n){return(e||(e=u.n5z(o)))(n||o)}}(),o.\u0275dir=u.lG2({type:o,features:[u.qOj]}),o})();const _e=new u.OlP("NgValueAccessor"),ze={provide:_e,useExisting:(0,u.Gpc)(()=>st),multi:!0},lt=new u.OlP("CompositionEventMode");let st=(()=>{class o extends je{constructor(t,n,r){super(t,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $e(){const o=(0,Z.q)()?(0,Z.q)().getUserAgent():"";return/android (\d+)/.test(o.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(lt,8))},o.\u0275dir=u.lG2({type:o,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,n){1&t&&u.NdJ("input",function(a){return n._handleInput(a.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(a){return n._compositionEnd(a.target.value)})},features:[u._Bn([ze]),u.qOj]}),o})();const Se=new u.OlP("NgValidators"),Ge=new u.OlP("NgAsyncValidators");function Ei(o){return null!=o}function Yi(o){return(0,u.QGY)(o)?(0,nn.D)(o):o}function _i(o){let e={};return o.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Fr(o,e){return e.map(t=>t(o))}function $r(o){return o.map(e=>function es(o){return!o.validate}(e)?e:t=>e.validate(t))}function pi(o){return null!=o?function sn(o){if(!o)return null;const e=o.filter(Ei);return 0==e.length?null:function(t){return _i(Fr(t,e))}}($r(o)):null}function mi(o){return null!=o?function wr(o){if(!o)return null;const e=o.filter(Ei);return 0==e.length?null:function(t){const n=Fr(t,e).map(Yi);return(0,qe.D)(n).pipe((0,ie.U)(_i))}}($r(o)):null}function Zr(o,e){return null===o?[e]:Array.isArray(o)?[...o,e]:[o,e]}function pt(o){return o?Array.isArray(o)?o:[o]:[]}function Oe(o,e){return Array.isArray(o)?o.includes(e):o===e}function we(o,e){const t=pt(e);return pt(o).forEach(r=>{Oe(t,r)||t.push(r)}),t}function ct(o,e){return pt(e).filter(t=>!Oe(o,t))}class Ct{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pi(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qt extends Ct{get formDirective(){return null}get path(){return null}}class An extends Ct{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ei=(()=>{class o extends class kn{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(t){super(t)}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(An,2))},o.\u0275dir=u.lG2({type:o,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,n){2&t&&u.ekj("ng-untouched",n.isUntouched)("ng-touched",n.isTouched)("ng-pristine",n.isPristine)("ng-dirty",n.isDirty)("ng-valid",n.isValid)("ng-invalid",n.isInvalid)("ng-pending",n.isPending)},features:[u.qOj]}),o})();const Gi="VALID",xe="INVALID",J="PENDING",V="DISABLED";function le(o){return Array.isArray(o)?pi(o):o||null}function nt(o){return Array.isArray(o)?mi(o):o||null}function Ft(o){return null!=o&&!Array.isArray(o)&&"object"==typeof o}function qr(o,e){(function di(o,e){const t=function ho(o){return o._rawValidators}(o);null!==e.validator?o.setValidators(Zr(t,e.validator)):"function"==typeof t&&o.setValidators([t]);const n=function nr(o){return o._rawAsyncValidators}(o);null!==e.asyncValidator?o.setAsyncValidators(Zr(n,e.asyncValidator)):"function"==typeof n&&o.setAsyncValidators([n]);const r=()=>o.updateValueAndValidity();hs(e._rawValidators,r),hs(e._rawAsyncValidators,r)})(o,e),e.valueAccessor.writeValue(o.value),o.disabled&&e.valueAccessor.setDisabledState?.(!0),function la(o,e){e.valueAccessor.registerOnChange(t=>{o._pendingValue=t,o._pendingChange=!0,o._pendingDirty=!0,"change"===o.updateOn&&ca(o,e)})}(o,e),function Ds(o,e){const t=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};o.registerOnChange(t),e._registerOnDestroy(()=>{o._unregisterOnChange(t)})}(o,e),function Mr(o,e){e.valueAccessor.registerOnTouched(()=>{o._pendingTouched=!0,"blur"===o.updateOn&&o._pendingChange&&ca(o,e),"submit"!==o.updateOn&&o.markAsTouched()})}(o,e),function oa(o,e){if(e.valueAccessor.setDisabledState){const t=n=>{e.valueAccessor.setDisabledState(n)};o.registerOnDisabledChange(t),e._registerOnDestroy(()=>{o._unregisterOnDisabledChange(t)})}}(o,e)}function hs(o,e){o.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ca(o,e){o._pendingDirty&&o.markAsDirty(),o.setValue(o._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1}function rs(o,e){const t=o.indexOf(e);t>-1&&o.splice(t,1)}function Ec(o){return"object"==typeof o&&null!==o&&2===Object.keys(o).length&&"value"in o&&"disabled"in o}const Vl={provide:An,useExisting:(0,u.Gpc)(()=>Ar)},qa=(()=>Promise.resolve())();let Ar=(()=>{class o extends An{constructor(t,n,r,a,c){super(),this._changeDetectorRef=c,this.control=new class extends class zt{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=le(this._rawValidators),this._composedAsyncValidatorFn=nt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gi}get invalid(){return this.status===xe}get pending(){return this.status==J}get disabled(){return this.status===V}get enabled(){return this.status!==V}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=le(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nt(e)}addValidators(e){this.setValidators(we(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(we(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ct(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ct(e,this._rawAsyncValidators))}hasValidator(e){return Oe(this._rawValidators,e)}hasAsyncValidator(e){return Oe(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=J,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=V,this.errors=null,this._forEachChild(n=>{n.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gi,this._forEachChild(n=>{n.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gi||this.status===J)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?V:Gi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=J,this._hasOwnPendingAsyncValidator=!0;const t=Yi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((n,r)=>n&&n._find(r),this)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?V:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(J)?J:this._anyControlsHaveStatus(xe)?xe:Gi}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ft(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}{constructor(e=null,t,n){super(function B(o){return(Ft(o)?o.validators:o)||null}(t),function Ue(o,e){return(Ft(e)?e.asyncValidators:o)||null}(n,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ft(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ec(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){rs(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){rs(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ec(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function gr(o,e){if(!e)return null;let t,n,r;return Array.isArray(e),e.forEach(a=>{a.constructor===st?t=a:function Ro(o){return Object.getPrototypeOf(o.constructor)===ve}(a)?n=a:r=a}),r||n||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const n=t.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function fs(o,e){if(!o.hasOwnProperty("model"))return!1;const t=o.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qa.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const n=t.isDisabled.currentValue,r=0!==n&&(0,u.D6c)(n);qa.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function is(o,e){return[...e.path,o]}(t,this._parent):[t]}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(Qt,9),u.Y36(Se,10),u.Y36(Ge,10),u.Y36(_e,10),u.Y36(u.sBO,8))},o.\u0275dir=u.lG2({type:o,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Vl]),u.qOj,u.TTD]}),o})(),Ao=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({}),o})(),Ou=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[Ao]}),o})(),Lu=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[Ou]}),o})();var Vo=k(3608),Js=k(1795);function il(o,e){if(1&o&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&o){const t=u.oxw();u.xp6(1),u.Oqu(t.label||"empty")}}function Kl(o,e){1&o&&u.GkF(0)}const Aa=function(o){return{height:o}},rl=function(o,e){return{"p-dropdown-item":!0,"p-highlight":o,"p-disabled":e}},Ho=function(o){return{$implicit:o}},Ia=["container"],_a=["filter"],Bc=["in"],Nu=["editableInput"];function R(o,e){if(1&o&&(u.ynx(0),u._uU(1),u.BQk()),2&o){const t=u.oxw(2);u.xp6(1),u.Oqu(t.label||"empty")}}function j(o,e){1&o&&u.GkF(0)}const F=function(o){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":o}};function se(o,e){if(1&o&&(u.TgZ(0,"span",12),u.YNc(1,R,2,1,"ng-container",13),u.YNc(2,j,1,0,"ng-container",14),u.qZA()),2&o){const t=u.oxw();u.Q6J("ngClass",u.VKq(9,F,null==t.label||0===t.label.length))("pTooltip",t.tooltip)("tooltipPosition",t.tooltipPosition)("positionStyle",t.tooltipPositionStyle)("tooltipStyleClass",t.tooltipStyleClass),u.uIk("id",t.labelId),u.xp6(1),u.Q6J("ngIf",!t.selectedItemTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",u.VKq(11,Ho,t.selectedOption))}}const Te=function(o){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":o}};function tt(o,e){if(1&o&&(u.TgZ(0,"span",15),u._uU(1),u.qZA()),2&o){const t=u.oxw();u.Q6J("ngClass",u.VKq(2,Te,null==t.placeholder||0===t.placeholder.length)),u.xp6(1),u.Oqu(t.placeholder||"empty")}}function ut(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"input",16,17),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.onEditableInputClick())})("input",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.onEditableInputChange(r))})("focus",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.onEditableInputFocus(r))})("blur",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.onInputBlur(r))}),u.qZA()}if(2&o){const t=u.oxw();u.Q6J("disabled",t.disabled),u.uIk("maxlength",t.maxlength)("placeholder",t.placeholder)("aria-expanded",t.overlayVisible)}}function Xt(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"i",18),u.NdJ("click",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.clear(r))}),u.qZA()}}function Qn(o,e){1&o&&u.GkF(0)}function oi(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"div",26)(1,"div",27),u.NdJ("click",function(r){return r.stopPropagation()}),u.TgZ(2,"input",28,29),u.NdJ("keydown.enter",function(r){return r.preventDefault()})("keydown",function(r){u.CHM(t);const a=u.oxw(2);return u.KtG(a.onKeydown(r,!1))})("input",function(r){u.CHM(t);const a=u.oxw(2);return u.KtG(a.onFilterInputChange(r))}),u.qZA(),u._UZ(4,"span",30),u.qZA()()}if(2&o){const t=u.oxw(2);u.xp6(2),u.Q6J("value",t.filterValue||""),u.uIk("placeholder",t.filterPlaceholder)("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.overlayVisible?"p-highlighted-option":t.labelId)}}function Ai(o,e){if(1&o&&(u.TgZ(0,"span"),u._uU(1),u.qZA()),2&o){const t=u.oxw().$implicit,n=u.oxw(3);u.xp6(1),u.Oqu(n.getOptionGroupLabel(t)||"empty")}}function Kn(o,e){1&o&&u.GkF(0)}function or(o,e){1&o&&u.GkF(0)}const hi=function(o,e){return{$implicit:o,selectedOption:e}};function Ji(o,e){if(1&o&&(u.TgZ(0,"li",32),u.YNc(1,Ai,2,1,"span",13),u.YNc(2,Kn,1,0,"ng-container",14),u.qZA(),u.YNc(3,or,1,0,"ng-container",14)),2&o){const t=e.$implicit;u.oxw(2);const n=u.MAs(8),r=u.oxw();u.xp6(1),u.Q6J("ngIf",!r.groupTemplate),u.xp6(1),u.Q6J("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",u.VKq(5,Ho,t)),u.xp6(1),u.Q6J("ngTemplateOutlet",n)("ngTemplateOutletContext",u.WLB(7,hi,r.getOptionGroupChildren(t),r.selectedOption))}}function Ur(o,e){if(1&o&&(u.ynx(0),u.YNc(1,Ji,4,10,"ng-template",31),u.BQk()),2&o){const t=u.oxw(2);u.xp6(1),u.Q6J("ngForOf",t.optionsToDisplay)}}function Jr(o,e){1&o&&u.GkF(0)}function Us(o,e){if(1&o&&(u.ynx(0),u.YNc(1,Jr,1,0,"ng-container",14),u.BQk()),2&o){u.oxw();const t=u.MAs(8),n=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t)("ngTemplateOutletContext",u.WLB(2,hi,n.optionsToDisplay,n.selectedOption))}}function Vs(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"p-dropdownItem",35),u.NdJ("onClick",function(r){u.CHM(t);const a=u.oxw(4);return u.KtG(a.onItemClick(r))}),u.qZA()}if(2&o){const t=e.$implicit,n=u.oxw(2).selectedOption,r=u.oxw(2);u.Q6J("option",t)("selected",n==t)("label",r.getOptionLabel(t))("disabled",r.isOptionDisabled(t))("template",r.itemTemplate)}}function gs(o,e){if(1&o&&(u.ynx(0),u.YNc(1,Vs,1,5,"ng-template",31),u.BQk()),2&o){const t=u.oxw().$implicit;u.xp6(1),u.Q6J("ngForOf",t)}}function bo(o,e){if(1&o){const t=u.EpF();u.ynx(0),u.TgZ(1,"p-dropdownItem",35),u.NdJ("onClick",function(r){u.CHM(t);const a=u.oxw(5);return u.KtG(a.onItemClick(r))}),u.qZA(),u.BQk()}if(2&o){const t=e.$implicit,n=u.oxw(3).selectedOption,r=u.oxw(2);u.xp6(1),u.Q6J("option",t)("selected",n==t)("label",r.getOptionLabel(t))("disabled",r.isOptionDisabled(t))("template",r.itemTemplate)}}function Uc(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"cdk-virtual-scroll-viewport",37,38),u.NdJ("scrolledIndexChange",function(){u.CHM(t);const r=u.oxw(4);return u.KtG(r.scrollToSelectedVirtualScrollElement())}),u.YNc(2,bo,2,5,"ng-container",39),u.qZA()}if(2&o){const t=u.oxw(2).$implicit,n=u.oxw(2);u.Q6J("ngStyle",u.VKq(3,Aa,n.scrollHeight))("itemSize",n.itemSize),u.xp6(2),u.Q6J("cdkVirtualForOf",t)}}function Mf(o,e){if(1&o&&u.YNc(0,Uc,3,5,"cdk-virtual-scroll-viewport",36),2&o){const t=u.oxw(3);u.Q6J("ngIf",t.virtualScroll&&t.optionsToDisplay&&t.optionsToDisplay.length)}}function va(o,e){if(1&o&&(u.YNc(0,gs,2,1,"ng-container",33),u.YNc(1,Mf,1,1,"ng-template",null,34,u.W1O)),2&o){const t=u.MAs(2),n=u.oxw(2);u.Q6J("ngIf",!n.virtualScroll)("ngIfElse",t)}}function Fu(o,e){if(1&o&&(u.ynx(0),u._uU(1),u.BQk()),2&o){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.emptyFilterMessageLabel," ")}}function Jd(o,e){1&o&&u.GkF(0,null,41)}function ku(o,e){if(1&o&&(u.TgZ(0,"li",40),u.YNc(1,Fu,2,1,"ng-container",33),u.YNc(2,Jd,2,0,"ng-container",20),u.qZA()),2&o){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.emptyFilterTemplate&&!t.emptyTemplate)("ngIfElse",t.emptyFilter),u.xp6(1),u.Q6J("ngTemplateOutlet",t.emptyFilterTemplate||t.emptyTemplate)}}function Sf(o,e){if(1&o&&(u.ynx(0),u._uU(1),u.BQk()),2&o){const t=u.oxw(3);u.xp6(1),u.hij(" ",t.emptyMessageLabel," ")}}function Tf(o,e){1&o&&u.GkF(0,null,42)}function sl(o,e){if(1&o&&(u.TgZ(0,"li",40),u.YNc(1,Sf,2,1,"ng-container",33),u.YNc(2,Tf,2,0,"ng-container",20),u.qZA()),2&o){const t=u.oxw(2);u.xp6(1),u.Q6J("ngIf",!t.emptyTemplate)("ngIfElse",t.empty),u.xp6(1),u.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function Qd(o,e){1&o&&u.GkF(0)}const Bu=function(o,e){return{showTransitionParams:o,hideTransitionParams:e}},ol=function(o){return{value:"visible",params:o}},Uu=function(o){return{"p-dropdown-virtualscroll":o}};function Vu(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("click",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.onOverlayClick(r))})("@overlayAnimation.start",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.onOverlayAnimationStart(r))})("@overlayAnimation.start",function(r){u.CHM(t);const a=u.oxw();return u.KtG(a.onOverlayAnimationEnd(r))}),u.YNc(1,Qn,1,0,"ng-container",20),u.YNc(2,oi,5,4,"div",21),u.TgZ(3,"div",22)(4,"ul",23),u.YNc(5,Ur,2,1,"ng-container",13),u.YNc(6,Us,2,5,"ng-container",13),u.YNc(7,va,3,2,"ng-template",null,24,u.W1O),u.YNc(9,ku,3,3,"li",25),u.YNc(10,sl,3,3,"li",25),u.qZA()(),u.YNc(11,Qd,1,0,"ng-container",20),u.qZA()}if(2&o){const t=u.oxw();u.Tol(t.panelStyleClass),u.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",u.VKq(19,ol,u.WLB(16,Bu,t.showTransitionOptions,t.hideTransitionOptions)))("ngStyle",t.panelStyle),u.xp6(1),u.Q6J("ngTemplateOutlet",t.headerTemplate),u.xp6(1),u.Q6J("ngIf",t.filter),u.xp6(1),u.Udp("max-height",t.virtualScroll?"auto":t.scrollHeight||"auto"),u.xp6(1),u.Q6J("ngClass",u.VKq(21,Uu,t.virtualScroll)),u.uIk("id",t.listId),u.xp6(1),u.Q6J("ngIf",t.group),u.xp6(1),u.Q6J("ngIf",!t.group),u.xp6(3),u.Q6J("ngIf",t.filterValue&&t.isEmpty()),u.xp6(1),u.Q6J("ngIf",!t.filterValue&&t.isEmpty()),u.xp6(1),u.Q6J("ngTemplateOutlet",t.footerTemplate)}}const ya=function(o,e,t,n){return{"p-dropdown p-component":!0,"p-disabled":o,"p-dropdown-open":e,"p-focus":t,"p-dropdown-clearable":n}},Hu={provide:_e,useExisting:(0,u.Gpc)(()=>Jl),multi:!0};let xo=(()=>{class o{constructor(){this.onClick=new u.vpe}onOptionClick(t){this.onClick.emit({originalEvent:t,option:this.option})}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=u.Xpm({type:o,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){1&t&&(u.TgZ(0,"li",0),u.NdJ("click",function(a){return n.onOptionClick(a)}),u.YNc(1,il,2,1,"span",1),u.YNc(2,Kl,1,0,"ng-container",2),u.qZA()),2&t&&(u.Q6J("ngStyle",u.VKq(8,Aa,n.itemSize+"px"))("id",n.selected?"p-highlighted-option":"")("ngClass",u.WLB(10,rl,n.selected,n.disabled)),u.uIk("aria-label",n.label)("aria-selected",n.selected),u.xp6(1),u.Q6J("ngIf",!n.template),u.xp6(1),u.Q6J("ngTemplateOutlet",n.template)("ngTemplateOutletContext",u.VKq(13,Ho,n.option)))},dependencies:[Js.H,Z.PC,Z.mk,Z.O5,Z.tP],encapsulation:2}),o})(),Jl=(()=>{class o{constructor(t,n,r,a,c,h,p){this.el=t,this.renderer=n,this.cd=r,this.zone=a,this.filterService=c,this.config=h,this.overlayService=p,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new u.vpe,this.onFilter=new u.vpe,this.onFocus=new u.vpe,this.onBlur=new u.vpe,this.onClick=new u.vpe,this.onShow=new u.vpe,this.onHide=new u.vpe,this.onClear=new u.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=(0,mt.Th)()}get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":default:this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(t){this._options=t,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(t){this._filterValue=t,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(He.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(He.ws.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(t){return this.optionLabel?mt.gb.resolveFieldData(t,this.optionLabel):null!=t.label?t.label:t}getOptionValue(t){return this.optionValue?mt.gb.resolveFieldData(t,this.optionValue):this.optionLabel||void 0===t.value?t:t.value}isOptionDisabled(t){return this.optionDisabled?mt.gb.resolveFieldData(t,this.optionDisabled):void 0!==t.disabled&&t.disabled}getOptionGroupLabel(t){return this.optionGroupLabel?mt.gb.resolveFieldData(t,this.optionGroupLabel):null!=t.label?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren?mt.gb.resolveFieldData(t,this.optionGroupChildren):t.items}onItemClick(t){const n=t.option;this.isOptionDisabled(n)||(this.selectItem(t.originalEvent,n),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(t,n){this.selectedOption!=n&&(this.selectedOption=n,this.value=this.getOptionValue(n),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:t,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let n=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(n.start>this.virtualScrollSelectedIndex||n.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}Me.p.findSingle(this.overlay,"li.p-highlight")&&Me.p.scrollInView(this.itemsWrapper,Me.p.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.updateSelectedOption(t),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(t){this.selectedOption=this.findOption(t,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onMouseclick(t){this.disabled||this.readonly||this.isInputClick(t)||(this.onClick.emit(t),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}isInputClick(t){return Me.p.hasClass(t.target,"p-dropdown-clear-icon")||t.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&t.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(t){return!(this.el.nativeElement.isSameNode(t.target)||this.el.nativeElement.contains(t.target)||this.overlay&&this.overlay.contains(t.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(t){this.focused=!0,this.hide(),this.onFocus.emit(t)}onEditableInputChange(t){this.value=t.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":if(this.overlay=t.element,this.itemsWrapper=Me.p.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&mt.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let r=Me.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");r&&r.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t);break;case"void":this.onOverlayHide(),this.onHide.emit(t)}}onOverlayAnimationEnd(t){"void"===t.toState&&mt.P9.clear(t.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(t){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(t&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Me.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Me.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?Me.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Me.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(t){let n;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=t-1;0<=r;r--){let a=this.optionsToDisplay[r];if(!this.isOptionDisabled(a)){n=a;break}}if(!n)for(let r=this.optionsToDisplay.length-1;r>=t;r--){let a=this.optionsToDisplay[r];if(!this.isOptionDisabled(a)){n=a;break}}}return n}findNextEnabledOption(t){let n;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let r=t+1;r<this.optionsToDisplay.length;r++){let a=this.optionsToDisplay[r];if(!this.isOptionDisabled(a)){n=a;break}}if(!n)for(let r=0;r<t;r++){let a=this.optionsToDisplay[r];if(!this.isOptionDisabled(a)){n=a;break}}}return n}onKeydown(t,n){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(t.which){case 40:if(!this.overlayVisible&&t.altKey)this.show();else if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let a=r.itemIndex+1;a<this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex]).length?(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[a]),this.selectedOptionUpdated=!0):this.optionsToDisplay[r.groupIndex+1]&&(this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,a=this.findNextEnabledOption(r);a&&(this.selectItem(t,a),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 38:if(this.group){let r=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==r){let a=r.itemIndex-1;if(a>=0)this.selectItem(t,this.getOptionGroupChildren(this.optionsToDisplay[r.groupIndex])[a]),this.selectedOptionUpdated=!0;else if(a<0){let c=this.optionsToDisplay[r.groupIndex-1];c&&(this.selectItem(t,this.getOptionGroupChildren(c)[this.getOptionGroupChildren(c).length-1]),this.selectedOptionUpdated=!0)}}}else{let r=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,a=this.findPrevEnabledOption(r);a&&(this.selectItem(t,a),this.selectedOptionUpdated=!0)}t.preventDefault();break;case 32:n&&(this.overlayVisible?this.hide():this.show(),t.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),t.preventDefault();break;case 27:case 9:this.hide();break;default:n&&!t.metaKey&&this.search(t)}}search(t){this.searchTimeout&&clearTimeout(this.searchTimeout);const n=t.key;let r;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=n,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+n:n,this.group){let a=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};r=this.searchOptionWithinGroup(a)}else{let a=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;r=this.searchOption(++a)}r&&!this.isOptionDisabled(r)&&(this.selectItem(t,r),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(t){let n;return this.searchValue&&(n=this.searchOptionInRange(t,this.optionsToDisplay.length),n||(n=this.searchOptionInRange(0,t))),n}searchOptionInRange(t,n){for(let r=t;r<n;r++){let a=this.optionsToDisplay[r];if(this.getOptionLabel(a).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(a))return a}return null}searchOptionWithinGroup(t){if(this.searchValue){for(let r=t.groupIndex;r<this.optionsToDisplay.length;r++)for(let a=t.groupIndex===r?t.itemIndex+1:0;a<this.getOptionGroupChildren(this.optionsToDisplay[r]).length;a++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[a];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}for(let r=0;r<=t.groupIndex;r++)for(let a=0;a<(t.groupIndex===r?t.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[r]).length);a++){let c=this.getOptionGroupChildren(this.optionsToDisplay[r])[a];if(this.getOptionLabel(c).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(c))return c}}return null}findOptionIndex(t,n){let r=-1;if(n)for(let a=0;a<n.length;a++)if(null==t&&null==this.getOptionValue(n[a])||mt.gb.equals(t,this.getOptionValue(n[a]),this.dataKey)){r=a;break}return r}findOptionGroupIndex(t,n){let r,a;if(n)for(let c=0;c<n.length&&(r=c,a=this.findOptionIndex(t,this.getOptionGroupChildren(n[c])),-1===a);c++);return-1!==a?{groupIndex:r,itemIndex:a}:-1}findOption(t,n,r){if(this.group&&!r){let a;if(n&&n.length)for(let c of n)if(a=this.findOption(t,this.getOptionGroupChildren(c),!0),a)break;return a}{let a=this.findOptionIndex(t,n);return-1!=a?n[a]:null}}onFilterInputChange(t){let n=t.target.value;n&&n.length?(this._filterValue=n,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:t,filter:this._filterValue})}activateFilter(){let t=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let n=[];for(let r of this.options){let a=this.filterService.filter(this.getOptionGroupChildren(r),t,this.filterValue,this.filterMatchMode,this.filterLocale);a&&a.length&&n.push({...r,[this.optionGroupChildren]:a})}this.optionsToDisplay=n}else this.optionsToDisplay=this.filterService.filter(this.options,t,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?Me.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Me.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",n=>{!this.preventDocumentDefault&&this.isOutsideClicked(n)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!Me.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Me.V(this.containerViewChild.nativeElement,t=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(t){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:t,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(t)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&mt.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(He.iZ),u.Y36(He.b4),u.Y36(He.F0))},o.\u0275cmp=u.Xpm({type:o,selectors:[["p-dropdown"]],contentQueries:function(t,n,r){if(1&t&&u.Suo(r,He.jx,4),2&t){let a;u.iGM(a=u.CRH())&&(n.templates=a)}},viewQuery:function(t,n){if(1&t&&(u.Gf(Ia,5),u.Gf(_a,5),u.Gf(Bc,5),u.Gf(Le.N7,5),u.Gf(Nu,5)),2&t){let r;u.iGM(r=u.CRH())&&(n.containerViewChild=r.first),u.iGM(r=u.CRH())&&(n.filterViewChild=r.first),u.iGM(r=u.CRH())&&(n.accessibleViewChild=r.first),u.iGM(r=u.CRH())&&(n.viewPort=r.first),u.iGM(r=u.CRH())&&(n.editableInputViewChild=r.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(t,n){2&t&&u.ekj("p-inputwrapper-filled",n.filled)("p-inputwrapper-focus",n.focused||n.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[u._Bn([Hu])],decls:12,vars:25,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","combobox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(t,n){1&t&&(u.TgZ(0,"div",0,1),u.NdJ("click",function(a){return n.onMouseclick(a)}),u.TgZ(2,"div",2)(3,"input",3,4),u.NdJ("focus",function(a){return n.onInputFocus(a)})("blur",function(a){return n.onInputBlur(a)})("keydown",function(a){return n.onKeydown(a,!0)}),u.qZA()(),u.YNc(5,se,3,13,"span",5),u.YNc(6,tt,2,4,"span",6),u.YNc(7,ut,2,4,"input",7),u.YNc(8,Xt,1,0,"i",8),u.TgZ(9,"div",9),u._UZ(10,"span",10),u.qZA(),u.YNc(11,Vu,12,23,"div",11),u.qZA()),2&t&&(u.Tol(n.styleClass),u.Q6J("ngClass",u.l5B(20,ya,n.disabled,n.overlayVisible,n.focused,n.showClear&&!n.disabled))("ngStyle",n.style),u.xp6(3),u.Q6J("disabled",n.disabled),u.uIk("id",n.inputId)("placeholder",n.placeholder)("aria-label",n.ariaLabel)("aria-expanded",!1)("aria-labelledby",n.ariaLabelledBy)("tabindex",n.tabindex)("autofocus",n.autofocus)("aria-activedescendant",n.overlayVisible?n.labelId:null),u.xp6(2),u.Q6J("ngIf",!n.editable&&null!=n.label),u.xp6(1),u.Q6J("ngIf",!n.editable&&null==n.label),u.xp6(1),u.Q6J("ngIf",n.editable),u.xp6(1),u.Q6J("ngIf",null!=n.value&&n.showClear&&!n.disabled),u.xp6(1),u.uIk("aria-expanded",n.overlayVisible),u.xp6(1),u.Q6J("ngClass",n.dropdownIcon),u.xp6(1),u.Q6J("ngIf",n.overlayVisible))},dependencies:[xo,Le.N7,Z.mk,Z.PC,Z.O5,Vo.u,Z.tP,Z.sg,Le.xd,Le.x0],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[(0,We.X$)("overlayAnimation",[(0,We.eR)(":enter",[(0,We.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,We.jt)("{{showTransitionParams}}")]),(0,We.eR)(":leave",[(0,We.jt)("{{hideTransitionParams}}",(0,We.oB)({opacity:0}))])])]},changeDetection:0}),o})(),al=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[[Z.ez,He.m8,Le.Cl,Vo.z,Js.T],He.m8,Le.Cl]}),o})();const IA=function(o){return{"p-hidden":o}};function Xd(o,e){if(1&o&&u._UZ(0,"li",4),2&o){const t=u.oxw().$implicit;u.Q6J("ngClass",u.VKq(1,IA,!1===t.visible))}}function zu(o,e){if(1&o&&u._UZ(0,"span",15),2&o){const t=u.oxw(3).$implicit;u.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function eh(o,e){if(1&o&&(u.TgZ(0,"span",16),u._uU(1),u.qZA()),2&o){const t=u.oxw(3).$implicit;u.xp6(1),u.Oqu(t.label)}}function Hs(o,e){if(1&o&&u._UZ(0,"span",17),2&o){const t=u.oxw(3).$implicit;u.Q6J("innerHTML",t.label,u.oJD)}}const ll=function(o,e){return{"pi-angle-down":o,"pi-angle-right":e}};function N(o,e){if(1&o&&u._UZ(0,"span",18),2&o){const t=u.oxw(4);u.Q6J("ngClass",u.WLB(1,ll,t.root,!t.root))}}const ce=function(o){return{"p-menuitem-link":!0,"p-disabled":o}};function A(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"a",10),u.NdJ("click",function(r){u.CHM(t);const a=u.oxw(2).$implicit,c=u.oxw();return u.KtG(c.onItemClick(r,a))})("mouseenter",function(r){u.CHM(t);const a=u.oxw(2).$implicit,c=u.oxw();return u.KtG(c.onItemMouseEnter(r,a))}),u.YNc(1,zu,1,2,"span",11),u.YNc(2,eh,2,1,"span",12),u.YNc(3,Hs,1,1,"ng-template",null,13,u.W1O),u.YNc(5,N,1,4,"span",14),u.qZA()}if(2&o){const t=u.MAs(4),n=u.oxw(2).$implicit,r=u.oxw();u.Q6J("target",n.target)("ngClass",u.VKq(13,ce,n.disabled)),u.uIk("href",n.url,u.LSH)("data-automationid",n.automationId)("title",n.title)("id",n.id)("tabindex",n.disabled?null:"0")("aria-haspopup",null!=r.item.items)("aria-expanded",r.item===r.activeItem),u.xp6(1),u.Q6J("ngIf",n.icon),u.xp6(1),u.Q6J("ngIf",!1!==n.escape)("ngIfElse",t),u.xp6(3),u.Q6J("ngIf",n.items)}}function T(o,e){if(1&o&&u._UZ(0,"span",15),2&o){const t=u.oxw(3).$implicit;u.Q6J("ngClass",t.icon)("ngStyle",t.iconStyle)}}function G(o,e){if(1&o&&(u.TgZ(0,"span",16),u._uU(1),u.qZA()),2&o){const t=u.oxw(3).$implicit;u.xp6(1),u.Oqu(t.label)}}function oe(o,e){if(1&o&&u._UZ(0,"span",17),2&o){const t=u.oxw(3).$implicit;u.Q6J("innerHTML",t.label,u.oJD)}}function rt(o,e){if(1&o&&u._UZ(0,"span",18),2&o){const t=u.oxw(4);u.Q6J("ngClass",u.WLB(1,ll,t.root,!t.root))}}const en=function(){return{exact:!1}};function Cn(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"a",19),u.NdJ("click",function(r){u.CHM(t);const a=u.oxw(2).$implicit,c=u.oxw();return u.KtG(c.onItemClick(r,a))})("mouseenter",function(r){u.CHM(t);const a=u.oxw(2).$implicit,c=u.oxw();return u.KtG(c.onItemMouseEnter(r,a))}),u.YNc(1,T,1,2,"span",11),u.YNc(2,G,2,1,"span",12),u.YNc(3,oe,1,1,"ng-template",null,20,u.W1O),u.YNc(5,rt,1,4,"span",14),u.qZA()}if(2&o){const t=u.MAs(4),n=u.oxw(2).$implicit;u.Q6J("routerLink",n.routerLink)("queryParams",n.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",n.routerLinkActiveOptions||u.DdM(20,en))("target",n.target)("ngClass",u.VKq(21,ce,n.disabled))("fragment",n.fragment)("queryParamsHandling",n.queryParamsHandling)("preserveFragment",n.preserveFragment)("skipLocationChange",n.skipLocationChange)("replaceUrl",n.replaceUrl)("state",n.state),u.uIk("data-automationid",n.automationId)("title",n.title)("id",n.id)("tabindex",n.disabled?null:"0"),u.xp6(1),u.Q6J("ngIf",n.icon),u.xp6(1),u.Q6J("ngIf",!1!==n.escape)("ngIfElse",t),u.xp6(3),u.Q6J("ngIf",n.items)}}function ni(o,e){if(1&o){const t=u.EpF();u.TgZ(0,"p-menubarSub",21),u.NdJ("leafClick",function(){u.CHM(t);const r=u.oxw(3);return u.KtG(r.onLeafClick())}),u.qZA()}if(2&o){const t=u.oxw(2).$implicit,n=u.oxw();u.Q6J("parentActive",t===n.activeItem)("item",t)("mobileActive",n.mobileActive)("autoDisplay",n.autoDisplay)}}const xi=function(o,e){return{"p-menuitem":!0,"p-menuitem-active":o,"p-hidden":e}};function yi(o,e){if(1&o&&(u.TgZ(0,"li",5,6),u.YNc(2,A,6,15,"a",7),u.YNc(3,Cn,6,23,"a",8),u.YNc(4,ni,1,4,"p-menubarSub",9),u.qZA()),2&o){const t=u.oxw().$implicit,n=u.oxw();u.Tol(t.styleClass),u.Q6J("ngClass",u.WLB(8,xi,t===n.activeItem,!1===t.visible))("ngStyle",t.style)("tooltipOptions",t.tooltipOptions),u.xp6(2),u.Q6J("ngIf",!t.routerLink),u.xp6(1),u.Q6J("ngIf",t.routerLink),u.xp6(1),u.Q6J("ngIf",t.items)}}function Un(o,e){if(1&o&&(u.YNc(0,Xd,1,3,"li",2),u.YNc(1,yi,5,11,"li",3)),2&o){const t=e.$implicit;u.Q6J("ngIf",t.separator),u.xp6(1),u.Q6J("ngIf",!t.separator)}}const ji=function(o,e){return{"p-submenu-list":o,"p-menubar-root-list":e}},ar=["menubutton"],Ir=["rootmenu"];function fi(o,e){1&o&&u.GkF(0)}function Ql(o,e){if(1&o&&(u.TgZ(0,"div",9),u.YNc(1,fi,1,0,"ng-container",10),u.qZA()),2&o){const t=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t.startTemplate)}}function Xl(o,e){1&o&&u.GkF(0)}function Gu(o,e){if(1&o&&(u.TgZ(0,"div",11),u.YNc(1,Xl,1,0,"ng-container",10),u.qZA()),2&o){const t=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t.endTemplate)}}function _A(o,e){1&o&&(u.TgZ(0,"div",11),u.Hsn(1),u.qZA())}const vp=function(o){return{"p-menubar p-component":!0,"p-menubar-mobile-active":o}},th=["*"];let ba=(()=>{class o{constructor(t,n,r){this.el=t,this.renderer=n,this.cd=r,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new u.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(t){this.root||(this._parentActive=t,t||(this.activeItem=null))}onItemClick(t,n){n.disabled?t.preventDefault():(!n.url&&!n.routerLink&&t.preventDefault(),n.command&&n.command({originalEvent:t,item:n}),n.items&&(this.activeItem&&n===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=n,this.root&&this.bindDocumentClickListener())),n.items||this.onLeafClick())}onItemMouseEnter(t,n){n.disabled||this.mobileActive?t.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=n,this.bindDocumentClickListener()):(this.activeItem=n,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=t=>{this.el&&!this.el.nativeElement.contains(t.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO))},o.\u0275cmp=u.Xpm({type:o,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"target","ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(t,n){1&t&&(u.TgZ(0,"ul",0),u.YNc(1,Un,2,2,"ng-template",1),u.qZA()),2&t&&(u.Q6J("ngClass",u.WLB(3,ji,!n.root,n.root)),u.uIk("role",n.root?"menubar":"menu"),u.xp6(1),u.Q6J("ngForOf",n.root?n.item:n.item.items))},dependencies:[o,Z.mk,Z.sg,Z.O5,Vo.u,Z.PC,Js.H,f.yS,f.Od],encapsulation:2}),o})(),cl=(()=>{class o{constructor(t,n,r,a){this.el=t,this.renderer=n,this.cd=r,this.config=a,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"start":this.startTemplate=t.template;break;case"end":this.endTemplate=t.template}})}toggle(t){this.mobileActive?(this.hide(),mt.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,mt.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),t.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=t=>{this.mobileActive&&this.rootmenu.el.nativeElement!==t.target&&!this.rootmenu.el.nativeElement.contains(t.target)&&this.menubutton.nativeElement!==t.target&&!this.menubutton.nativeElement.contains(t.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),mt.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(He.b4))},o.\u0275cmp=u.Xpm({type:o,selectors:[["p-menubar"]],contentQueries:function(t,n,r){if(1&t&&u.Suo(r,He.jx,4),2&t){let a;u.iGM(a=u.CRH())&&(n.templates=a)}},viewQuery:function(t,n){if(1&t&&(u.Gf(ar,5),u.Gf(Ir,5)),2&t){let r;u.iGM(r=u.CRH())&&(n.menubutton=r.first),u.iGM(r=u.CRH())&&(n.rootmenu=r.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:th,decls:10,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],[1,"p-menubar-end"]],template:function(t,n){if(1&t&&(u.F$t(),u.TgZ(0,"div",0),u.YNc(1,Ql,2,1,"div",1),u.TgZ(2,"a",2,3),u.NdJ("click",function(a){return n.toggle(a)}),u._UZ(4,"i",4),u.qZA(),u.TgZ(5,"p-menubarSub",5,6),u.NdJ("leafClick",function(){return n.onLeafClick()}),u.qZA(),u.YNc(7,Gu,2,1,"div",7),u.YNc(8,_A,2,0,"ng-template",null,8,u.W1O),u.qZA()),2&t){const r=u.MAs(9);u.Tol(n.styleClass),u.Q6J("ngClass",u.VKq(12,vp,n.mobileActive))("ngStyle",n.style),u.xp6(1),u.Q6J("ngIf",n.startTemplate),u.xp6(4),u.Q6J("item",n.model)("baseZIndex",n.baseZIndex)("autoZIndex",n.autoZIndex)("mobileActive",n.mobileActive)("autoDisplay",n.autoDisplay),u.xp6(2),u.Q6J("ngIf",n.endTemplate)("ngIfElse",r)}},dependencies:[ba,Z.mk,Z.PC,Z.O5,Z.tP],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),o})(),zo=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[[Z.ez,f.Bz,Js.T,Vo.z],f.Bz,Vo.z]}),o})();var Ef=k(5593);const Wu=function(o,e){return{"p-button-icon":!0,"p-button-icon-left":o,"p-button-icon-right":e}};function Qs(o,e){if(1&o&&u._UZ(0,"span",3),2&o){const t=u.oxw();u.Tol(t.checked?t.onIcon:t.offIcon),u.Q6J("ngClass",u.WLB(3,Wu,"left"===t.iconPos,"right"===t.iconPos))}}const Df=function(o,e,t){return{"p-button p-togglebutton p-component":!0,"p-button-icon-only":o,"p-highlight":e,"p-disabled":t}},vA={provide:_e,useExisting:(0,u.Gpc)(()=>wi),multi:!0};let wi=(()=>{class o{constructor(t){this.cd=t,this.iconPos="left",this.onChange=new u.vpe,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}toggle(t){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:t,checked:this.checked}),this.cd.markForCheck())}onBlur(){this.onModelTouched()}writeValue(t){this.checked=t,this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.sBO))},o.\u0275cmp=u.Xpm({type:o,selectors:[["p-toggleButton"]],hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:"tabindex",iconPos:"iconPos"},outputs:{onChange:"onChange"},features:[u._Bn([vA])],decls:4,vars:12,consts:[["role","checkbox","pRipple","",3,"ngClass","ngStyle","click","keydown.enter"],[3,"class","ngClass",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u.NdJ("click",function(a){return n.toggle(a)})("keydown.enter",function(a){return n.toggle(a)}),u.YNc(1,Qs,1,6,"span",1),u.TgZ(2,"span",2),u._uU(3),u.qZA()()),2&t&&(u.Tol(n.styleClass),u.Q6J("ngClass",u.kEZ(8,Df,n.onIcon&&n.offIcon&&!n.hasOnLabel&&!n.hasOffLabel,n.checked,n.disabled))("ngStyle",n.style),u.uIk("tabindex",n.disabled?null:"0")("aria-checked",n.checked),u.xp6(1),u.Q6J("ngIf",n.onIcon||n.offIcon),u.xp6(2),u.Oqu(n.checked?n.hasOnLabel?n.onLabel:"":n.hasOffLabel?n.offLabel:""))},dependencies:[Js.H,Z.mk,Z.PC,Z.O5],styles:[".p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]   .p-button-label[_ngcontent-%COMP%]{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child){border-right:0 none}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus{position:relative;z-index:1}.p-button-label[_ngcontent-%COMP%]{transition:all .2s}"],changeDetection:0}),o})(),yp=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({imports:[[Z.ez,Js.T]]}),o})();const w=100,Hc=1e3,Cs=1001,pr=1003,Qi=1006,pl=1008,Yu=1009,nc=1014,ic=1015,qu=1016,ch=1020,Mo=1023,So=1026,Ku=1027,Uf=2300,rc=2301,Sa=3e3,Pi=3001,Yo="srgb",sc="srgb-linear";class To{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const a=r.indexOf(t);-1!==a&&r.splice(a,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const n=this._listeners[e.type];if(void 0!==n){e.target=this;const r=n.slice(0);for(let a=0,c=r.length;a<c;a++)r[a].call(this,e);e.target=null}}}const as=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zf=1234567;const Gc=Math.PI/180,ph=180/Math.PI;function zs(){const o=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(as[255&o]+as[o>>8&255]+as[o>>16&255]+as[o>>24&255]+"-"+as[255&e]+as[e>>8&255]+"-"+as[e>>16&15|64]+as[e>>24&255]+"-"+as[63&t|128]+as[t>>8&255]+"-"+as[t>>16&255]+as[t>>24&255]+as[255&n]+as[n>>8&255]+as[n>>16&255]+as[n>>24&255]).toLowerCase()}function Xi(o,e,t){return Math.max(e,Math.min(t,o))}function zp(o,e){return(o%e+e)%e}function mh(o,e,t){return(1-t)*o+t*e}function Wc(o){return 0==(o&o-1)&&0!==o}function XA(o){return Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))}function Wp(o){return Math.pow(2,Math.floor(Math.log(o)/Math.LN2))}var Zy=Object.freeze({__proto__:null,DEG2RAD:Gc,RAD2DEG:ph,generateUUID:zs,clamp:Xi,euclideanModulo:zp,mapLinear:function Uy(o,e,t,n,r){return n+(o-e)*(r-n)/(t-e)},inverseLerp:function Vy(o,e,t){return o!==e?(t-o)/(e-o):0},lerp:mh,damp:function Gp(o,e,t,n){return mh(o,e,1-Math.exp(-t*n))},pingpong:function Hy(o,e=1){return e-Math.abs(zp(o,2*e)-e)},smoothstep:function JA(o,e,t){return o<=e?0:o>=t?1:(o=(o-e)/(t-e))*o*(3-2*o)},smootherstep:function zy(o,e,t){return o<=e?0:o>=t?1:(o=(o-e)/(t-e))*o*o*(o*(6*o-15)+10)},randInt:function QA(o,e){return o+Math.floor(Math.random()*(e-o+1))},randFloat:function nM(o,e){return o+Math.random()*(e-o)},randFloatSpread:function Gy(o){return o*(.5-Math.random())},seededRandom:function Ch(o){void 0!==o&&(zf=o);let e=zf+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function Wy(o){return o*Gc},radToDeg:function ed(o){return o*ph},isPowerOfTwo:Wc,ceilPowerOfTwo:XA,floorPowerOfTwo:Wp,setQuaternionFromProperEuler:function eI(o,e,t,n,r){const a=Math.cos,c=Math.sin,h=a(t/2),p=c(t/2),m=a((e+n)/2),I=c((e+n)/2),_=a((e-n)/2),b=c((e-n)/2),M=a((n-e)/2),P=c((n-e)/2);switch(r){case"XYX":o.set(h*I,p*_,p*b,h*m);break;case"YZY":o.set(p*b,h*I,p*_,h*m);break;case"ZXZ":o.set(p*_,p*b,h*I,h*m);break;case"XZX":o.set(h*I,p*P,p*M,h*m);break;case"YXY":o.set(p*M,h*I,p*P,h*m);break;case"ZYZ":o.set(p*P,p*M,h*I,h*m);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:function $y(o,e){switch(e.constructor){case Float32Array:return o;case Uint16Array:return Math.round(65535*o);case Uint8Array:return Math.round(255*o);case Int16Array:return Math.round(32767*o);case Int8Array:return Math.round(127*o);default:throw new Error("Invalid component type.")}},denormalize:function jy(o,e){switch(e.constructor){case Float32Array:return o;case Uint16Array:return o/65535;case Uint8Array:return o/255;case Int16Array:return Math.max(o/32767,-1);case Int8Array:return Math.max(o/127,-1);default:throw new Error("Invalid component type.")}}});class Mt{constructor(e=0,t=0){Mt.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),a=this.x-e.x,c=this.y-e.y;return this.x=a*n-c*r+e.x,this.y=a*r+c*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class eo{constructor(){eo.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,n,r,a,c,h,p,m){const I=this.elements;return I[0]=e,I[1]=r,I[2]=h,I[3]=t,I[4]=a,I[5]=p,I[6]=n,I[7]=c,I[8]=m,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,c=n[0],h=n[3],p=n[6],m=n[1],I=n[4],_=n[7],b=n[2],M=n[5],P=n[8],E=r[0],D=r[3],z=r[6],W=r[1],ee=r[4],Y=r[7],de=r[2],fe=r[5],Ee=r[8];return a[0]=c*E+h*W+p*de,a[3]=c*D+h*ee+p*fe,a[6]=c*z+h*Y+p*Ee,a[1]=m*E+I*W+_*de,a[4]=m*D+I*ee+_*fe,a[7]=m*z+I*Y+_*Ee,a[2]=b*E+M*W+P*de,a[5]=b*D+M*ee+P*fe,a[8]=b*z+M*Y+P*Ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],c=e[4],h=e[5],p=e[6],m=e[7],I=e[8];return t*c*I-t*h*m-n*a*I+n*h*p+r*a*m-r*c*p}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],c=e[4],h=e[5],p=e[6],m=e[7],I=e[8],_=I*c-h*m,b=h*p-I*a,M=m*a-c*p,P=t*_+n*b+r*M;if(0===P)return this.set(0,0,0,0,0,0,0,0,0);const E=1/P;return e[0]=_*E,e[1]=(r*m-I*n)*E,e[2]=(h*n-r*c)*E,e[3]=b*E,e[4]=(I*t-r*p)*E,e[5]=(r*a-h*t)*E,e[6]=M*E,e[7]=(n*p-m*t)*E,e[8]=(c*t-n*a)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,a,c,h){const p=Math.cos(a),m=Math.sin(a);return this.set(n*p,n*m,-n*(p*c+m*h)+c+e,-r*m,r*p,-r*(-m*c+p*h)+h+t,0,0,1),this}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,a=r[0],c=r[3],h=r[6],p=r[1],m=r[4],I=r[7];return r[0]=t*a+n*p,r[3]=t*c+n*m,r[6]=t*h+n*I,r[1]=-n*a+t*p,r[4]=-n*c+t*m,r[7]=-n*h+t*I,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function Gf(o){for(let e=o.length-1;e>=0;--e)if(o[e]>65535)return!0;return!1}function jc(o){return document.createElementNS("http://www.w3.org/1999/xhtml",o)}function nd(o){return o<.04045?.0773993808*o:Math.pow(.9478672986*o+.0521327014,2.4)}function jp(o){return o<.0031308?12.92*o:1.055*Math.pow(o,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const Ah={[Yo]:{[sc]:nd},[sc]:{[Yo]:jp}},Ta={legacyMode:!0,get workingColorSpace(){return sc},set workingColorSpace(o){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(o,e,t){if(this.legacyMode||e===t||!e||!t)return o;if(Ah[e]&&void 0!==Ah[e][t]){const n=Ah[e][t];return o.r=n(o.r),o.g=n(o.g),o.b=n(o.b),o}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(o,e){return this.convert(o,this.workingColorSpace,e)},toWorkingColorSpace:function(o,e){return this.convert(o,e,this.workingColorSpace)}},qy={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qr={r:0,g:0,b:0},Ea={h:0,s:0,l:0},$p={h:0,s:0,l:0};function Zp(o,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?o+6*(e-o)*t:t<.5?e:t<2/3?o+6*(e-o)*(2/3-t):o}function Ih(o,e){return e.r=o.r,e.g=o.g,e.b=o.b,e}let $c,Wt=(()=>{class o{constructor(t,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,n=Yo){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ta.toWorkingColorSpace(this,n),this}setRGB(t,n,r,a=sc){return this.r=t,this.g=n,this.b=r,Ta.toWorkingColorSpace(this,a),this}setHSL(t,n,r,a=sc){if(t=zp(t,1),n=Xi(n,0,1),r=Xi(r,0,1),0===n)this.r=this.g=this.b=r;else{const c=r<=.5?r*(1+n):r+n-r*n,h=2*r-c;this.r=Zp(h,c,t+1/3),this.g=Zp(h,c,t),this.b=Zp(h,c,t-1/3)}return Ta.toWorkingColorSpace(this,a),this}setStyle(t,n=Yo){function r(c){void 0!==c&&parseFloat(c)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let c;const p=a[2];switch(a[1]){case"rgb":case"rgba":if(c=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,Ta.toWorkingColorSpace(this,n),r(c[4]),this;if(c=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,Ta.toWorkingColorSpace(this,n),r(c[4]),this;break;case"hsl":case"hsla":if(c=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(p)){const m=parseFloat(c[1])/360,I=parseInt(c[2],10)/100,_=parseInt(c[3],10)/100;return r(c[4]),this.setHSL(m,I,_,n)}}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const c=a[1],h=c.length;if(3===h)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,Ta.toWorkingColorSpace(this,n),this;if(6===h)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,Ta.toWorkingColorSpace(this,n),this}return t&&t.length>0?this.setColorName(t,n):this}setColorName(t,n=Yo){const r=qy[t.toLowerCase()];return void 0!==r?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=nd(t.r),this.g=nd(t.g),this.b=nd(t.b),this}copyLinearToSRGB(t){return this.r=jp(t.r),this.g=jp(t.g),this.b=jp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Yo){return Ta.fromWorkingColorSpace(Ih(this,Qr),t),Xi(255*Qr.r,0,255)<<16^Xi(255*Qr.g,0,255)<<8^Xi(255*Qr.b,0,255)<<0}getHexString(t=Yo){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,n=sc){Ta.fromWorkingColorSpace(Ih(this,Qr),n);const r=Qr.r,a=Qr.g,c=Qr.b,h=Math.max(r,a,c),p=Math.min(r,a,c);let m,I;const _=(p+h)/2;if(p===h)m=0,I=0;else{const b=h-p;switch(I=_<=.5?b/(h+p):b/(2-h-p),h){case r:m=(a-c)/b+(a<c?6:0);break;case a:m=(c-r)/b+2;break;case c:m=(r-a)/b+4}m/=6}return t.h=m,t.s=I,t.l=_,t}getRGB(t,n=sc){return Ta.fromWorkingColorSpace(Ih(this,Qr),n),t.r=Qr.r,t.g=Qr.g,t.b=Qr.b,t}getStyle(t=Yo){return Ta.fromWorkingColorSpace(Ih(this,Qr),t),t!==Yo?`color(${t} ${Qr.r} ${Qr.g} ${Qr.b})`:`rgb(${255*Qr.r|0},${255*Qr.g|0},${255*Qr.b|0})`}offsetHSL(t,n,r){return this.getHSL(Ea),Ea.h+=t,Ea.s+=n,Ea.l+=r,this.setHSL(Ea.h,Ea.s,Ea.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,n){return this.r=t.r+n.r,this.g=t.g+n.g,this.b=t.b+n.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,n){return this.r+=(t.r-this.r)*n,this.g+=(t.g-this.g)*n,this.b+=(t.b-this.b)*n,this}lerpColors(t,n,r){return this.r=t.r+(n.r-t.r)*r,this.g=t.g+(n.g-t.g)*r,this.b=t.b+(n.b-t.b)*r,this}lerpHSL(t,n){this.getHSL(Ea),t.getHSL($p);const r=mh(Ea.h,$p.h,n),a=mh(Ea.s,$p.s,n),c=mh(Ea.l,$p.l,n);return this.setHSL(r,a,c),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,n=0){return this.r=t[n],this.g=t[n+1],this.b=t[n+2],this}toArray(t=[],n=0){return t[n]=this.r,t[n+1]=this.g,t[n+2]=this.b,t}fromBufferAttribute(t,n){return this.r=t.getX(n),this.g=t.getY(n),this.b=t.getZ(n),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return o.NAMES=qy,o})();class Yp{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===$c&&($c=jc("canvas")),$c.width=e.width,$c.height=e.height;const n=$c.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=$c}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=jc("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),a=r.data;for(let c=0;c<a.length;c++)a[c]=255*nd(a[c]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t[n]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*nd(t[n]/255)):nd(t[n]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Zc{constructor(e=null){this.isSource=!0,this.uuid=zs(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let a;if(Array.isArray(r)){a=[];for(let c=0,h=r.length;c<h;c++)a.push(_h(r[c].isDataTexture?r[c].image:r[c]))}else a=_h(r);n.url=a}return t||(e.images[this.uuid]=n),n}}function _h(o){return typeof HTMLImageElement<"u"&&o instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&o instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&o instanceof ImageBitmap?Yp.getDataURL(o):o.data?{data:Array.from(o.data),width:o.width,height:o.height,type:o.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Ky=0,to=(()=>{class o extends To{constructor(t=o.DEFAULT_IMAGE,n=o.DEFAULT_MAPPING,r=Cs,a=Cs,c=Qi,h=pl,p=Mo,m=Yu,I=1,_=Sa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Ky++}),this.uuid=zs(),this.name="",this.source=new Zc(t),this.mipmaps=[],this.mapping=n,this.wrapS=r,this.wrapT=a,this.magFilter=c,this.minFilter=h,this.anisotropy=I,this.format=p,this.internalFormat=null,this.type=m,this.offset=new Mt(0,0),this.repeat=new Mt(1,1),this.center=new Mt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new eo,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=_,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const n=void 0===t||"string"==typeof t;if(!n&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),n||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Hc:t.x=t.x-Math.floor(t.x);break;case Cs:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case Hc:t.y=t.y-Math.floor(t.y);break;case Cs:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}}return o.DEFAULT_IMAGE=null,o.DEFAULT_MAPPING=300,o})();class bi{constructor(e=0,t=0,n=0,r=1){bi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=this.w,c=e.elements;return this.x=c[0]*t+c[4]*n+c[8]*r+c[12]*a,this.y=c[1]*t+c[5]*n+c[9]*r+c[13]*a,this.z=c[2]*t+c[6]*n+c[10]*r+c[14]*a,this.w=c[3]*t+c[7]*n+c[11]*r+c[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,a;const p=e.elements,m=p[0],I=p[4],_=p[8],b=p[1],M=p[5],P=p[9],E=p[2],D=p[6],z=p[10];if(Math.abs(I-b)<.01&&Math.abs(_-E)<.01&&Math.abs(P-D)<.01){if(Math.abs(I+b)<.1&&Math.abs(_+E)<.1&&Math.abs(P+D)<.1&&Math.abs(m+M+z-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const ee=(m+1)/2,Y=(M+1)/2,de=(z+1)/2,fe=(I+b)/4,Ee=(_+E)/4,Q=(P+D)/4;return ee>Y&&ee>de?ee<.01?(n=0,r=.707106781,a=.707106781):(n=Math.sqrt(ee),r=fe/n,a=Ee/n):Y>de?Y<.01?(n=.707106781,r=0,a=.707106781):(r=Math.sqrt(Y),n=fe/r,a=Q/r):de<.01?(n=.707106781,r=.707106781,a=0):(a=Math.sqrt(de),n=Ee/a,r=Q/a),this.set(n,r,a,t),this}let W=Math.sqrt((D-P)*(D-P)+(_-E)*(_-E)+(b-I)*(b-I));return Math.abs(W)<.001&&(W=1),this.x=(D-P)/W,this.y=(_-E)/W,this.z=(b-I)/W,this.w=Math.acos((m+M+z-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class qo extends To{constructor(e,t,n={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new bi(0,0,e,t),this.scissorTest=!1,this.viewport=new bi(0,0,e,t),this.texture=new to({width:e,height:t,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Qi,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(e,t,n=1){(this.width!==e||this.height!==t||this.depth!==n)&&(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Zc(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qp extends to{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=pr,this.minFilter=pr,this.wrapR=Cs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Kp extends to{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=pr,this.minFilter=pr,this.wrapR=Cs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Gs{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,a,c,h){let p=n[r+0],m=n[r+1],I=n[r+2],_=n[r+3];const b=a[c+0],M=a[c+1],P=a[c+2],E=a[c+3];if(0===h)return e[t+0]=p,e[t+1]=m,e[t+2]=I,void(e[t+3]=_);if(1===h)return e[t+0]=b,e[t+1]=M,e[t+2]=P,void(e[t+3]=E);if(_!==E||p!==b||m!==M||I!==P){let D=1-h;const z=p*b+m*M+I*P+_*E,W=z>=0?1:-1,ee=1-z*z;if(ee>Number.EPSILON){const de=Math.sqrt(ee),fe=Math.atan2(de,z*W);D=Math.sin(D*fe)/de,h=Math.sin(h*fe)/de}const Y=h*W;if(p=p*D+b*Y,m=m*D+M*Y,I=I*D+P*Y,_=_*D+E*Y,D===1-h){const de=1/Math.sqrt(p*p+m*m+I*I+_*_);p*=de,m*=de,I*=de,_*=de}}e[t]=p,e[t+1]=m,e[t+2]=I,e[t+3]=_}static multiplyQuaternionsFlat(e,t,n,r,a,c){const h=n[r],p=n[r+1],m=n[r+2],I=n[r+3],_=a[c],b=a[c+1],M=a[c+2],P=a[c+3];return e[t]=h*P+I*_+p*M-m*b,e[t+1]=p*P+I*b+m*_-h*M,e[t+2]=m*P+I*M+h*b-p*_,e[t+3]=I*P-h*_-p*b-m*M,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,a=e._z,c=e._order,h=Math.cos,p=Math.sin,m=h(n/2),I=h(r/2),_=h(a/2),b=p(n/2),M=p(r/2),P=p(a/2);switch(c){case"XYZ":this._x=b*I*_+m*M*P,this._y=m*M*_-b*I*P,this._z=m*I*P+b*M*_,this._w=m*I*_-b*M*P;break;case"YXZ":this._x=b*I*_+m*M*P,this._y=m*M*_-b*I*P,this._z=m*I*P-b*M*_,this._w=m*I*_+b*M*P;break;case"ZXY":this._x=b*I*_-m*M*P,this._y=m*M*_+b*I*P,this._z=m*I*P+b*M*_,this._w=m*I*_-b*M*P;break;case"ZYX":this._x=b*I*_-m*M*P,this._y=m*M*_+b*I*P,this._z=m*I*P-b*M*_,this._w=m*I*_+b*M*P;break;case"YZX":this._x=b*I*_+m*M*P,this._y=m*M*_+b*I*P,this._z=m*I*P-b*M*_,this._w=m*I*_-b*M*P;break;case"XZY":this._x=b*I*_-m*M*P,this._y=m*M*_-b*I*P,this._z=m*I*P+b*M*_,this._w=m*I*_+b*M*P;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],a=t[8],c=t[1],h=t[5],p=t[9],m=t[2],I=t[6],_=t[10],b=n+h+_;if(b>0){const M=.5/Math.sqrt(b+1);this._w=.25/M,this._x=(I-p)*M,this._y=(a-m)*M,this._z=(c-r)*M}else if(n>h&&n>_){const M=2*Math.sqrt(1+n-h-_);this._w=(I-p)/M,this._x=.25*M,this._y=(r+c)/M,this._z=(a+m)/M}else if(h>_){const M=2*Math.sqrt(1+h-n-_);this._w=(a-m)/M,this._x=(r+c)/M,this._y=.25*M,this._z=(p+I)/M}else{const M=2*Math.sqrt(1+_-n-h);this._w=(c-r)/M,this._x=(a+m)/M,this._y=(p+I)/M,this._z=.25*M}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xi(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,a=e._z,c=e._w,h=t._x,p=t._y,m=t._z,I=t._w;return this._x=n*I+c*h+r*m-a*p,this._y=r*I+c*p+a*h-n*m,this._z=a*I+c*m+n*p-r*h,this._w=c*I-n*h-r*p-a*m,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,a=this._z,c=this._w;let h=c*e._w+n*e._x+r*e._y+a*e._z;if(h<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,h=-h):this.copy(e),h>=1)return this._w=c,this._x=n,this._y=r,this._z=a,this;const p=1-h*h;if(p<=Number.EPSILON){const M=1-t;return this._w=M*c+t*this._w,this._x=M*n+t*this._x,this._y=M*r+t*this._y,this._z=M*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const m=Math.sqrt(p),I=Math.atan2(m,h),_=Math.sin((1-t)*I)/m,b=Math.sin(t*I)/m;return this._w=c*_+this._w*b,this._x=n*_+this._x*b,this._y=r*_+this._y*b,this._z=a*_+this._z*b,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(a),n*Math.cos(a),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class me{constructor(e=0,t=0,n=0){me.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(tI.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(tI.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*r,this.y=a[1]*t+a[4]*n+a[7]*r,this.z=a[2]*t+a[5]*n+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,a=e.elements,c=1/(a[3]*t+a[7]*n+a[11]*r+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*r+a[12])*c,this.y=(a[1]*t+a[5]*n+a[9]*r+a[13])*c,this.z=(a[2]*t+a[6]*n+a[10]*r+a[14])*c,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,a=e.x,c=e.y,h=e.z,p=e.w,m=p*t+c*r-h*n,I=p*n+h*t-a*r,_=p*r+a*n-c*t,b=-a*t-c*n-h*r;return this.x=m*p+b*-a+I*-h-_*-c,this.y=I*p+b*-c+_*-a-m*-h,this.z=_*p+b*-h+m*-c-I*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r,this.y=a[1]*t+a[5]*n+a[9]*r,this.z=a[2]*t+a[6]*n+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,a=e.z,c=t.x,h=t.y,p=t.z;return this.x=r*p-a*h,this.y=a*c-n*p,this.z=n*h-r*c,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return vh.copy(this).projectOnVector(e),this.sub(vh)}reflect(e){return this.sub(vh.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Xi(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const vh=new me,tI=new Gs;class Yc{constructor(e=new me(1/0,1/0,1/0),t=new me(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,a=-1/0,c=-1/0,h=-1/0;for(let p=0,m=e.length;p<m;p+=3){const I=e[p],_=e[p+1],b=e[p+2];I<t&&(t=I),_<n&&(n=_),b<r&&(r=b),I>a&&(a=I),_>c&&(c=_),b>h&&(h=b)}return this.min.set(t,n,r),this.max.set(a,c,h),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,a=-1/0,c=-1/0,h=-1/0;for(let p=0,m=e.count;p<m;p++){const I=e.getX(p),_=e.getY(p),b=e.getZ(p);I<t&&(t=I),_<n&&(n=_),b<r&&(r=b),I>a&&(a=I),_>c&&(c=_),b>h&&(h=b)}return this.min.set(t,n,r),this.max.set(a,c,h),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=oc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n)if(t&&null!=n.attributes&&void 0!==n.attributes.position){const a=n.attributes.position;for(let c=0,h=a.count;c<h;c++)oc.fromBufferAttribute(a,c).applyMatrix4(e.matrixWorld),this.expandByPoint(oc)}else null===n.boundingBox&&n.computeBoundingBox(),Jp.copy(n.boundingBox),Jp.applyMatrix4(e.matrixWorld),this.union(Jp);const r=e.children;for(let a=0,c=r.length;a<c;a++)this.expandByObject(r[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,oc),oc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_l),yh.subVectors(this.max,_l),id.subVectors(e.a,_l),Tr.subVectors(e.b,_l),ac.subVectors(e.c,_l),Il.subVectors(Tr,id),Da.subVectors(ac,Tr),vr.subVectors(id,ac);let t=[0,-Il.z,Il.y,0,-Da.z,Da.y,0,-vr.z,vr.y,Il.z,0,-Il.x,Da.z,0,-Da.x,vr.z,0,-vr.x,-Il.y,Il.x,0,-Da.y,Da.x,0,-vr.y,vr.x,0];return!(!jf(t,id,Tr,ac,yh)||(t=[1,0,0,0,1,0,0,0,1],!jf(t,id,Tr,ac,yh)))&&(Wf.crossVectors(Il,Da),t=[Wf.x,Wf.y,Wf.z],jf(t,id,Tr,ac,yh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return oc.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(oc).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Al[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Al[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Al[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Al[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Al[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Al[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Al[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Al[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Al)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Al=[new me,new me,new me,new me,new me,new me,new me,new me],oc=new me,Jp=new Yc,id=new me,Tr=new me,ac=new me,Il=new me,Da=new me,vr=new me,_l=new me,yh=new me,Wf=new me,qc=new me;function jf(o,e,t,n,r){for(let a=0,c=o.length-3;a<=c;a+=3){qc.fromArray(o,a);const h=r.x*Math.abs(qc.x)+r.y*Math.abs(qc.y)+r.z*Math.abs(qc.z),p=e.dot(qc),m=t.dot(qc),I=n.dot(qc);if(Math.max(-Math.max(p,m,I),Math.min(p,m,I))>h)return!1}return!0}const Jy=new Yc,Qp=new me,$f=new me,Zf=new me;class Kc{constructor(e=new me,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Jy.setFromPoints(e).getCenter(n);let r=0;for(let a=0,c=e.length;a<c;a++)r=Math.max(r,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Zf.subVectors(e,this.center);const t=Zf.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(Zf.multiplyScalar(r/n)),this.radius+=r}return this}union(e){return!0===this.center.equals(e.center)?$f.set(0,0,1).multiplyScalar(e.radius):$f.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Qp.copy(e.center).add($f)),this.expandByPoint(Qp.copy(e.center).sub($f)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const vl=new me,Yf=new me,qf=new me,lc=new me,cc=new me,Eo=new me,Xp=new me;class Kf{constructor(e=new me,t=new me(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,vl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=vl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(vl.copy(this.direction).multiplyScalar(t).add(this.origin),vl.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Yf.copy(e).add(t).multiplyScalar(.5),qf.copy(t).sub(e).normalize(),lc.copy(this.origin).sub(Yf);const a=.5*e.distanceTo(t),c=-this.direction.dot(qf),h=lc.dot(this.direction),p=-lc.dot(qf),m=lc.lengthSq(),I=Math.abs(1-c*c);let _,b,M,P;if(I>0)if(_=c*p-h,b=c*h-p,P=a*I,_>=0)if(b>=-P)if(b<=P){const E=1/I;_*=E,b*=E,M=_*(_+c*b+2*h)+b*(c*_+b+2*p)+m}else b=a,_=Math.max(0,-(c*b+h)),M=-_*_+b*(b+2*p)+m;else b=-a,_=Math.max(0,-(c*b+h)),M=-_*_+b*(b+2*p)+m;else b<=-P?(_=Math.max(0,-(-c*a+h)),b=_>0?-a:Math.min(Math.max(-a,-p),a),M=-_*_+b*(b+2*p)+m):b<=P?(_=0,b=Math.min(Math.max(-a,-p),a),M=b*(b+2*p)+m):(_=Math.max(0,-(c*a+h)),b=_>0?a:Math.min(Math.max(-a,-p),a),M=-_*_+b*(b+2*p)+m);else b=c>0?-a:a,_=Math.max(0,-(c*b+h)),M=-_*_+b*(b+2*p)+m;return n&&n.copy(this.direction).multiplyScalar(_).add(this.origin),r&&r.copy(qf).multiplyScalar(b).add(Yf),M}intersectSphere(e,t){vl.subVectors(e.center,this.origin);const n=vl.dot(this.direction),r=vl.dot(vl)-n*n,a=e.radius*e.radius;if(r>a)return null;const c=Math.sqrt(a-r),h=n-c,p=n+c;return h<0&&p<0?null:this.at(h<0?p:h,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,a,c,h,p;const m=1/this.direction.x,I=1/this.direction.y,_=1/this.direction.z,b=this.origin;return m>=0?(n=(e.min.x-b.x)*m,r=(e.max.x-b.x)*m):(n=(e.max.x-b.x)*m,r=(e.min.x-b.x)*m),I>=0?(a=(e.min.y-b.y)*I,c=(e.max.y-b.y)*I):(a=(e.max.y-b.y)*I,c=(e.min.y-b.y)*I),n>c||a>r||((a>n||n!=n)&&(n=a),(c<r||r!=r)&&(r=c),_>=0?(h=(e.min.z-b.z)*_,p=(e.max.z-b.z)*_):(h=(e.max.z-b.z)*_,p=(e.min.z-b.z)*_),n>p||h>r)||((h>n||n!=n)&&(n=h),(p<r||r!=r)&&(r=p),r<0)?null:this.at(n>=0?n:r,t)}intersectsBox(e){return null!==this.intersectBox(e,vl)}intersectTriangle(e,t,n,r,a){cc.subVectors(t,e),Eo.subVectors(n,e),Xp.crossVectors(cc,Eo);let h,c=this.direction.dot(Xp);if(c>0){if(r)return null;h=1}else{if(!(c<0))return null;h=-1,c=-c}lc.subVectors(this.origin,e);const p=h*this.direction.dot(Eo.crossVectors(lc,Eo));if(p<0)return null;const m=h*this.direction.dot(cc.cross(lc));if(m<0||p+m>c)return null;const I=-h*lc.dot(Xp);return I<0?null:this.at(I/c,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Jn{constructor(){Jn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,n,r,a,c,h,p,m,I,_,b,M,P,E,D){const z=this.elements;return z[0]=e,z[4]=t,z[8]=n,z[12]=r,z[1]=a,z[5]=c,z[9]=h,z[13]=p,z[2]=m,z[6]=I,z[10]=_,z[14]=b,z[3]=M,z[7]=P,z[11]=E,z[15]=D,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Jn).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/bh.setFromMatrixColumn(e,0).length(),a=1/bh.setFromMatrixColumn(e,1).length(),c=1/bh.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*c,t[9]=n[9]*c,t[10]=n[10]*c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,a=e.z,c=Math.cos(n),h=Math.sin(n),p=Math.cos(r),m=Math.sin(r),I=Math.cos(a),_=Math.sin(a);if("XYZ"===e.order){const b=c*I,M=c*_,P=h*I,E=h*_;t[0]=p*I,t[4]=-p*_,t[8]=m,t[1]=M+P*m,t[5]=b-E*m,t[9]=-h*p,t[2]=E-b*m,t[6]=P+M*m,t[10]=c*p}else if("YXZ"===e.order){const b=p*I,M=p*_,P=m*I,E=m*_;t[0]=b+E*h,t[4]=P*h-M,t[8]=c*m,t[1]=c*_,t[5]=c*I,t[9]=-h,t[2]=M*h-P,t[6]=E+b*h,t[10]=c*p}else if("ZXY"===e.order){const b=p*I,M=p*_,P=m*I,E=m*_;t[0]=b-E*h,t[4]=-c*_,t[8]=P+M*h,t[1]=M+P*h,t[5]=c*I,t[9]=E-b*h,t[2]=-c*m,t[6]=h,t[10]=c*p}else if("ZYX"===e.order){const b=c*I,M=c*_,P=h*I,E=h*_;t[0]=p*I,t[4]=P*m-M,t[8]=b*m+E,t[1]=p*_,t[5]=E*m+b,t[9]=M*m-P,t[2]=-m,t[6]=h*p,t[10]=c*p}else if("YZX"===e.order){const b=c*p,M=c*m,P=h*p,E=h*m;t[0]=p*I,t[4]=E-b*_,t[8]=P*_+M,t[1]=_,t[5]=c*I,t[9]=-h*I,t[2]=-m*I,t[6]=M*_+P,t[10]=b-E*_}else if("XZY"===e.order){const b=c*p,M=c*m,P=h*p,E=h*m;t[0]=p*I,t[4]=-_,t[8]=m*I,t[1]=b*_+E,t[5]=c*I,t[9]=M*_-P,t[2]=P*_-M,t[6]=h*I,t[10]=E*_+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(oM,e,Pa)}lookAt(e,t,n){const r=this.elements;return no.subVectors(e,t),0===no.lengthSq()&&(no.z=1),no.normalize(),Oa.crossVectors(n,no),0===Oa.lengthSq()&&(1===Math.abs(n.z)?no.x+=1e-4:no.z+=1e-4,no.normalize(),Oa.crossVectors(n,no)),Oa.normalize(),rd.crossVectors(no,Oa),r[0]=Oa.x,r[4]=rd.x,r[8]=no.x,r[1]=Oa.y,r[5]=rd.y,r[9]=no.y,r[2]=Oa.z,r[6]=rd.z,r[10]=no.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,a=this.elements,c=n[0],h=n[4],p=n[8],m=n[12],I=n[1],_=n[5],b=n[9],M=n[13],P=n[2],E=n[6],D=n[10],z=n[14],W=n[3],ee=n[7],Y=n[11],de=n[15],fe=r[0],Ee=r[4],Q=r[8],Ae=r[12],Ve=r[1],Ze=r[5],St=r[9],Nt=r[13],Qe=r[2],yt=r[6],ke=r[10],et=r[14],it=r[3],Je=r[7],dt=r[11],kt=r[15];return a[0]=c*fe+h*Ve+p*Qe+m*it,a[4]=c*Ee+h*Ze+p*yt+m*Je,a[8]=c*Q+h*St+p*ke+m*dt,a[12]=c*Ae+h*Nt+p*et+m*kt,a[1]=I*fe+_*Ve+b*Qe+M*it,a[5]=I*Ee+_*Ze+b*yt+M*Je,a[9]=I*Q+_*St+b*ke+M*dt,a[13]=I*Ae+_*Nt+b*et+M*kt,a[2]=P*fe+E*Ve+D*Qe+z*it,a[6]=P*Ee+E*Ze+D*yt+z*Je,a[10]=P*Q+E*St+D*ke+z*dt,a[14]=P*Ae+E*Nt+D*et+z*kt,a[3]=W*fe+ee*Ve+Y*Qe+de*it,a[7]=W*Ee+ee*Ze+Y*yt+de*Je,a[11]=W*Q+ee*St+Y*ke+de*dt,a[15]=W*Ae+ee*Nt+Y*et+de*kt,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],a=e[12],c=e[1],h=e[5],p=e[9],m=e[13],I=e[2],_=e[6],b=e[10],M=e[14];return e[3]*(+a*p*_-r*m*_-a*h*b+n*m*b+r*h*M-n*p*M)+e[7]*(+t*p*M-t*m*b+a*c*b-r*c*M+r*m*I-a*p*I)+e[11]*(+t*m*_-t*h*M-a*c*_+n*c*M+a*h*I-n*m*I)+e[15]*(-r*h*I-t*p*_+t*h*b+r*c*_-n*c*b+n*p*I)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],a=e[3],c=e[4],h=e[5],p=e[6],m=e[7],I=e[8],_=e[9],b=e[10],M=e[11],P=e[12],E=e[13],D=e[14],z=e[15],W=_*D*m-E*b*m+E*p*M-h*D*M-_*p*z+h*b*z,ee=P*b*m-I*D*m-P*p*M+c*D*M+I*p*z-c*b*z,Y=I*E*m-P*_*m+P*h*M-c*E*M-I*h*z+c*_*z,de=P*_*p-I*E*p-P*h*b+c*E*b+I*h*D-c*_*D,fe=t*W+n*ee+r*Y+a*de;if(0===fe)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Ee=1/fe;return e[0]=W*Ee,e[1]=(E*b*a-_*D*a-E*r*M+n*D*M+_*r*z-n*b*z)*Ee,e[2]=(h*D*a-E*p*a+E*r*m-n*D*m-h*r*z+n*p*z)*Ee,e[3]=(_*p*a-h*b*a-_*r*m+n*b*m+h*r*M-n*p*M)*Ee,e[4]=ee*Ee,e[5]=(I*D*a-P*b*a+P*r*M-t*D*M-I*r*z+t*b*z)*Ee,e[6]=(P*p*a-c*D*a-P*r*m+t*D*m+c*r*z-t*p*z)*Ee,e[7]=(c*b*a-I*p*a+I*r*m-t*b*m-c*r*M+t*p*M)*Ee,e[8]=Y*Ee,e[9]=(P*_*a-I*E*a-P*n*M+t*E*M+I*n*z-t*_*z)*Ee,e[10]=(c*E*a-P*h*a+P*n*m-t*E*m-c*n*z+t*h*z)*Ee,e[11]=(I*h*a-c*_*a-I*n*m+t*_*m+c*n*M-t*h*M)*Ee,e[12]=de*Ee,e[13]=(I*E*r-P*_*r+P*n*b-t*E*b-I*n*D+t*_*D)*Ee,e[14]=(P*h*r-c*E*r-P*n*p+t*E*p+c*n*D-t*h*D)*Ee,e[15]=(c*_*r-I*h*r+I*n*p-t*_*p-c*n*b+t*h*b)*Ee,this}scale(e){const t=this.elements,n=e.x,r=e.y,a=e.z;return t[0]*=n,t[4]*=r,t[8]*=a,t[1]*=n,t[5]*=r,t[9]*=a,t[2]*=n,t[6]*=r,t[10]*=a,t[3]*=n,t[7]*=r,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),a=1-n,c=e.x,h=e.y,p=e.z,m=a*c,I=a*h;return this.set(m*c+n,m*h-r*p,m*p+r*h,0,m*h+r*p,I*h+n,I*p-r*c,0,m*p-r*h,I*p+r*c,a*p*p+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,a,c){return this.set(1,n,a,0,e,1,c,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,a=t._x,c=t._y,h=t._z,p=t._w,m=a+a,I=c+c,_=h+h,b=a*m,M=a*I,P=a*_,E=c*I,D=c*_,z=h*_,W=p*m,ee=p*I,Y=p*_,de=n.x,fe=n.y,Ee=n.z;return r[0]=(1-(E+z))*de,r[1]=(M+Y)*de,r[2]=(P-ee)*de,r[3]=0,r[4]=(M-Y)*fe,r[5]=(1-(b+z))*fe,r[6]=(D+W)*fe,r[7]=0,r[8]=(P+ee)*Ee,r[9]=(D-W)*Ee,r[10]=(1-(b+E))*Ee,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let a=bh.set(r[0],r[1],r[2]).length();const c=bh.set(r[4],r[5],r[6]).length(),h=bh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],Do.copy(this);const m=1/a,I=1/c,_=1/h;return Do.elements[0]*=m,Do.elements[1]*=m,Do.elements[2]*=m,Do.elements[4]*=I,Do.elements[5]*=I,Do.elements[6]*=I,Do.elements[8]*=_,Do.elements[9]*=_,Do.elements[10]*=_,t.setFromRotationMatrix(Do),n.x=a,n.y=c,n.z=h,this}makePerspective(e,t,n,r,a,c){const h=this.elements,m=2*a/(n-r),I=(t+e)/(t-e),_=(n+r)/(n-r),b=-(c+a)/(c-a),M=-2*c*a/(c-a);return h[0]=2*a/(t-e),h[4]=0,h[8]=I,h[12]=0,h[1]=0,h[5]=m,h[9]=_,h[13]=0,h[2]=0,h[6]=0,h[10]=b,h[14]=M,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,t,n,r,a,c){const h=this.elements,p=1/(t-e),m=1/(n-r),I=1/(c-a),_=(t+e)*p,b=(n+r)*m,M=(c+a)*I;return h[0]=2*p,h[4]=0,h[8]=0,h[12]=-_,h[1]=0,h[5]=2*m,h[9]=0,h[13]=-b,h[2]=0,h[6]=0,h[10]=-2*I,h[14]=-M,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const bh=new me,Do=new Jn,oM=new me(0,0,0),Pa=new me(1,1,1),Oa=new me,rd=new me,no=new me,em=new Jn,nI=new Gs;let xh=(()=>{class o{constructor(t=0,n=0,r=0,a=o.DefaultOrder){this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,n,r,a=this._order){return this._x=t,this._y=n,this._z=r,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,n=this._order,r=!0){const a=t.elements,c=a[0],h=a[4],p=a[8],m=a[1],I=a[5],_=a[9],b=a[2],M=a[6],P=a[10];switch(n){case"XYZ":this._y=Math.asin(Xi(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-_,P),this._z=Math.atan2(-h,c)):(this._x=Math.atan2(M,I),this._z=0);break;case"YXZ":this._x=Math.asin(-Xi(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(p,P),this._z=Math.atan2(m,I)):(this._y=Math.atan2(-b,c),this._z=0);break;case"ZXY":this._x=Math.asin(Xi(M,-1,1)),Math.abs(M)<.9999999?(this._y=Math.atan2(-b,P),this._z=Math.atan2(-h,I)):(this._y=0,this._z=Math.atan2(m,c));break;case"ZYX":this._y=Math.asin(-Xi(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(M,P),this._z=Math.atan2(m,c)):(this._x=0,this._z=Math.atan2(-h,I));break;case"YZX":this._z=Math.asin(Xi(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-_,I),this._y=Math.atan2(-b,c)):(this._x=0,this._y=Math.atan2(p,P));break;case"XZY":this._z=Math.asin(-Xi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(M,I),this._y=Math.atan2(p,c)):(this._x=Math.atan2(-_,P),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,n,r){return em.makeRotationFromQuaternion(t),this.setFromRotationMatrix(em,n,r)}setFromVector3(t,n=this._order){return this.set(t.x,t.y,t.z,n)}reorder(t){return nI.setFromEuler(this),this.setFromQuaternion(nI,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],n=0){return t[n]=this._x,t[n+1]=this._y,t[n+2]=this._z,t[n+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return o.DefaultOrder="XYZ",o.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],o})();class tm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let Qy=0;const Jf=new me,uc=new Gs,La=new Jn,nm=new me,Ra=new me,im=new me,iI=new Gs,rI=new me(1,0,0),Qf=new me(0,1,0),sI=new me(0,0,1),Xy={type:"added"},oI={type:"removed"};let ls=(()=>{class o extends To{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Qy++}),this.uuid=zs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=o.DefaultUp.clone();const t=new me,n=new xh,r=new Gs,a=new me(1,1,1);n._onChange(function c(){r.setFromEuler(n,!1)}),r._onChange(function h(){n.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Jn},normalMatrix:{value:new eo}}),this.matrix=new Jn,this.matrixWorld=new Jn,this.matrixAutoUpdate=o.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new tm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,n){this.quaternion.setFromAxisAngle(t,n)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,n){return uc.setFromAxisAngle(t,n),this.quaternion.multiply(uc),this}rotateOnWorldAxis(t,n){return uc.setFromAxisAngle(t,n),this.quaternion.premultiply(uc),this}rotateX(t){return this.rotateOnAxis(rI,t)}rotateY(t){return this.rotateOnAxis(Qf,t)}rotateZ(t){return this.rotateOnAxis(sI,t)}translateOnAxis(t,n){return Jf.copy(t).applyQuaternion(this.quaternion),this.position.add(Jf.multiplyScalar(n)),this}translateX(t){return this.translateOnAxis(rI,t)}translateY(t){return this.translateOnAxis(Qf,t)}translateZ(t){return this.translateOnAxis(sI,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(La.copy(this.matrixWorld).invert())}lookAt(t,n,r){t.isVector3?nm.copy(t):nm.set(t,n,r);const a=this.parent;this.updateWorldMatrix(!0,!1),Ra.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?La.lookAt(Ra,nm,this.up):La.lookAt(nm,Ra,this.up),this.quaternion.setFromRotationMatrix(La),a&&(La.extractRotation(a.matrixWorld),uc.setFromRotationMatrix(La),this.quaternion.premultiply(uc.invert()))}add(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Xy)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(oI)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const n=this.children[t];n.parent=null,n.dispatchEvent(oI)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),La.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),La.multiply(t.parent.matrixWorld)),t.applyMatrix4(La),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,n){if(this[t]===n)return this;for(let r=0,a=this.children.length;r<a;r++){const h=this.children[r].getObjectByProperty(t,n);if(void 0!==h)return h}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ra,t,im),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ra,iI,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return t.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(t){t(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].traverseVisible(t)}traverseAncestors(t){const n=this.parent;null!==n&&(t(n),n.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const n=this.children;for(let r=0,a=n.length;r<a;r++)n[r].updateMatrixWorld(t)}updateWorldMatrix(t,n){const r=this.parent;if(!0===t&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const a=this.children;for(let c=0,h=a.length;c<h;c++)a[c].updateWorldMatrix(!1,!0)}}toJSON(t){const n=void 0===t||"string"==typeof t,r={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const a={};function c(p,m){return void 0===p[m.uuid]&&(p[m.uuid]=m.toJSON(t)),m.uuid}if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),!1===this.frustumCulled&&(a.frustumCulled=!1),0!==this.renderOrder&&(a.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(a.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=c(t.geometries,this.geometry);const p=this.geometry.parameters;if(void 0!==p&&void 0!==p.shapes){const m=p.shapes;if(Array.isArray(m))for(let I=0,_=m.length;I<_;I++)c(t.shapes,m[I]);else c(t.shapes,m)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(c(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const p=[];for(let m=0,I=this.material.length;m<I;m++)p.push(c(t.materials,this.material[m]));a.material=p}else a.material=c(t.materials,this.material);if(this.children.length>0){a.children=[];for(let p=0;p<this.children.length;p++)a.children.push(this.children[p].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let p=0;p<this.animations.length;p++)a.animations.push(c(t.animations,this.animations[p]))}if(n){const p=h(t.geometries),m=h(t.materials),I=h(t.textures),_=h(t.images),b=h(t.shapes),M=h(t.skeletons),P=h(t.animations),E=h(t.nodes);p.length>0&&(r.geometries=p),m.length>0&&(r.materials=m),I.length>0&&(r.textures=I),_.length>0&&(r.images=_),b.length>0&&(r.shapes=b),M.length>0&&(r.skeletons=M),P.length>0&&(r.animations=P),E.length>0&&(r.nodes=E)}return r.object=a,r;function h(p){const m=[];for(const I in p){const _=p[I];delete _.metadata,m.push(_)}return m}}clone(t){return(new this.constructor).copy(this,t)}copy(t,n=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===n)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return o.DefaultUp=new me(0,1,0),o.DefaultMatrixAutoUpdate=!0,o})();const Ko=new me,yl=new me,Xf=new me,Jo=new me,Jc=new me,dc=new me,aI=new me,rm=new me,eg=new me,tg=new me;class cs{constructor(e=new me,t=new me,n=new me){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ko.subVectors(e,t),r.cross(Ko);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,t,n,r,a){Ko.subVectors(r,t),yl.subVectors(n,t),Xf.subVectors(e,t);const c=Ko.dot(Ko),h=Ko.dot(yl),p=Ko.dot(Xf),m=yl.dot(yl),I=yl.dot(Xf),_=c*m-h*h;if(0===_)return a.set(-2,-1,-1);const b=1/_,M=(m*p-h*I)*b,P=(c*I-h*p)*b;return a.set(1-M-P,P,M)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,Jo),Jo.x>=0&&Jo.y>=0&&Jo.x+Jo.y<=1}static getUV(e,t,n,r,a,c,h,p){return this.getBarycoord(e,t,n,r,Jo),p.set(0,0),p.addScaledVector(a,Jo.x),p.addScaledVector(c,Jo.y),p.addScaledVector(h,Jo.z),p}static isFrontFacing(e,t,n,r){return Ko.subVectors(n,t),yl.subVectors(e,t),Ko.cross(yl).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ko.subVectors(this.c,this.b),yl.subVectors(this.a,this.b),.5*Ko.cross(yl).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return cs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return cs.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,a){return cs.getUV(e,this.a,this.b,this.c,t,n,r,a)}containsPoint(e){return cs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return cs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,a=this.c;let c,h;Jc.subVectors(r,n),dc.subVectors(a,n),rm.subVectors(e,n);const p=Jc.dot(rm),m=dc.dot(rm);if(p<=0&&m<=0)return t.copy(n);eg.subVectors(e,r);const I=Jc.dot(eg),_=dc.dot(eg);if(I>=0&&_<=I)return t.copy(r);const b=p*_-I*m;if(b<=0&&p>=0&&I<=0)return c=p/(p-I),t.copy(n).addScaledVector(Jc,c);tg.subVectors(e,a);const M=Jc.dot(tg),P=dc.dot(tg);if(P>=0&&M<=P)return t.copy(a);const E=M*m-p*P;if(E<=0&&m>=0&&P<=0)return h=m/(m-P),t.copy(n).addScaledVector(dc,h);const D=I*P-M*_;if(D<=0&&_-I>=0&&M-P>=0)return aI.subVectors(a,r),h=(_-I)/(_-I+(M-P)),t.copy(r).addScaledVector(aI,h);const z=1/(D+E+b);return c=E*z,h=b*z,t.copy(n).addScaledVector(Jc,c).addScaledVector(dc,h)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let lI=0;class Po extends To{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lI++}),this.uuid=zs(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=w,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(a){const c=[];for(const h in a){const p=a[h];delete p.metadata,c.push(p)}return c}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const a=r(e.textures),c=r(e.images);a.length>0&&(n.textures=a),c.length>0&&(n.images=c)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const r=t.length;n=new Array(r);for(let a=0;a!==r;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class ws extends Po{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Wt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Vr=new me,Qc=new Mt;class Er{constructor(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let n=0;for(let r=0,a=e.length;r<a;r++){let c=e[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),c=new Wt),t[n++]=c.r,t[n++]=c.g,t[n++]=c.b}return this}copyVector2sArray(e){const t=this.array;let n=0;for(let r=0,a=e.length;r<a;r++){let c=e[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),c=new Mt),t[n++]=c.x,t[n++]=c.y}return this}copyVector3sArray(e){const t=this.array;let n=0;for(let r=0,a=e.length;r<a;r++){let c=e[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),c=new me),t[n++]=c.x,t[n++]=c.y,t[n++]=c.z}return this}copyVector4sArray(e){const t=this.array;let n=0;for(let r=0,a=e.length;r<a;r++){let c=e[r];void 0===c&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),c=new bi),t[n++]=c.x,t[n++]=c.y,t[n++]=c.z,t[n++]=c.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Qc.fromBufferAttribute(this,t),Qc.applyMatrix3(e),this.setXY(t,Qc.x,Qc.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Vr.fromBufferAttribute(this,t),Vr.applyMatrix3(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Vr.fromBufferAttribute(this,t),Vr.applyMatrix4(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Vr.fromBufferAttribute(this,t),Vr.applyNormalMatrix(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Vr.fromBufferAttribute(this,t),Vr.transformDirection(e),this.setXYZ(t,Vr.x,Vr.y,Vr.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,a){return this.array[0+(e*=this.itemSize)]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class sm extends Er{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class wh extends Er{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class hn extends Er{constructor(e,t,n){super(new Float32Array(e),t,n)}}let am=0;const As=new Jn,lm=new ls,Xc=new me,io=new Yc,Mh=new Yc,Hr=new me;class Zn extends To{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:am++}),this.uuid=zs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(Gf(e)?wh:sm)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const a=(new eo).getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return As.makeRotationFromQuaternion(e),this.applyMatrix4(As),this}rotateX(e){return As.makeRotationX(e),this.applyMatrix4(As),this}rotateY(e){return As.makeRotationY(e),this.applyMatrix4(As),this}rotateZ(e){return As.makeRotationZ(e),this.applyMatrix4(As),this}translate(e,t,n){return As.makeTranslation(e,t,n),this.applyMatrix4(As),this}scale(e,t,n){return As.makeScale(e,t,n),this.applyMatrix4(As),this}lookAt(e){return lm.lookAt(e),lm.updateMatrix(),this.applyMatrix4(lm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xc).negate(),this.translate(Xc.x,Xc.y,Xc.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const a=e[n];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new hn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Yc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new me(-1/0,-1/0,-1/0),new me(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,r=t.length;n<r;n++)io.setFromBufferAttribute(t[n]),this.morphTargetsRelative?(Hr.addVectors(this.boundingBox.min,io.min),this.boundingBox.expandByPoint(Hr),Hr.addVectors(this.boundingBox.max,io.max),this.boundingBox.expandByPoint(Hr)):(this.boundingBox.expandByPoint(io.min),this.boundingBox.expandByPoint(io.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Kc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new me,1/0);if(e){const n=this.boundingSphere.center;if(io.setFromBufferAttribute(e),t)for(let a=0,c=t.length;a<c;a++)Mh.setFromBufferAttribute(t[a]),this.morphTargetsRelative?(Hr.addVectors(io.min,Mh.min),io.expandByPoint(Hr),Hr.addVectors(io.max,Mh.max),io.expandByPoint(Hr)):(io.expandByPoint(Mh.min),io.expandByPoint(Mh.max));io.getCenter(n);let r=0;for(let a=0,c=e.count;a<c;a++)Hr.fromBufferAttribute(e,a),r=Math.max(r,n.distanceToSquared(Hr));if(t)for(let a=0,c=t.length;a<c;a++){const h=t[a],p=this.morphTargetsRelative;for(let m=0,I=h.count;m<I;m++)Hr.fromBufferAttribute(h,m),p&&(Xc.fromBufferAttribute(e,m),Hr.add(Xc)),r=Math.max(r,n.distanceToSquared(Hr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=e.array,r=t.position.array,a=t.normal.array,c=t.uv.array,h=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Er(new Float32Array(4*h),4));const p=this.getAttribute("tangent").array,m=[],I=[];for(let Ve=0;Ve<h;Ve++)m[Ve]=new me,I[Ve]=new me;const _=new me,b=new me,M=new me,P=new Mt,E=new Mt,D=new Mt,z=new me,W=new me;function ee(Ve,Ze,St){_.fromArray(r,3*Ve),b.fromArray(r,3*Ze),M.fromArray(r,3*St),P.fromArray(c,2*Ve),E.fromArray(c,2*Ze),D.fromArray(c,2*St),b.sub(_),M.sub(_),E.sub(P),D.sub(P);const Nt=1/(E.x*D.y-D.x*E.y);!isFinite(Nt)||(z.copy(b).multiplyScalar(D.y).addScaledVector(M,-E.y).multiplyScalar(Nt),W.copy(M).multiplyScalar(E.x).addScaledVector(b,-D.x).multiplyScalar(Nt),m[Ve].add(z),m[Ze].add(z),m[St].add(z),I[Ve].add(W),I[Ze].add(W),I[St].add(W))}let Y=this.groups;0===Y.length&&(Y=[{start:0,count:n.length}]);for(let Ve=0,Ze=Y.length;Ve<Ze;++Ve){const St=Y[Ve],Nt=St.start;for(let yt=Nt,ke=Nt+St.count;yt<ke;yt+=3)ee(n[yt+0],n[yt+1],n[yt+2])}const de=new me,fe=new me,Ee=new me,Q=new me;function Ae(Ve){Ee.fromArray(a,3*Ve),Q.copy(Ee);const Ze=m[Ve];de.copy(Ze),de.sub(Ee.multiplyScalar(Ee.dot(Ze))).normalize(),fe.crossVectors(Q,Ze);const Nt=fe.dot(I[Ve])<0?-1:1;p[4*Ve]=de.x,p[4*Ve+1]=de.y,p[4*Ve+2]=de.z,p[4*Ve+3]=Nt}for(let Ve=0,Ze=Y.length;Ve<Ze;++Ve){const St=Y[Ve],Nt=St.start;for(let yt=Nt,ke=Nt+St.count;yt<ke;yt+=3)Ae(n[yt+0]),Ae(n[yt+1]),Ae(n[yt+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Er(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let b=0,M=n.count;b<M;b++)n.setXYZ(b,0,0,0);const r=new me,a=new me,c=new me,h=new me,p=new me,m=new me,I=new me,_=new me;if(e)for(let b=0,M=e.count;b<M;b+=3){const P=e.getX(b+0),E=e.getX(b+1),D=e.getX(b+2);r.fromBufferAttribute(t,P),a.fromBufferAttribute(t,E),c.fromBufferAttribute(t,D),I.subVectors(c,a),_.subVectors(r,a),I.cross(_),h.fromBufferAttribute(n,P),p.fromBufferAttribute(n,E),m.fromBufferAttribute(n,D),h.add(I),p.add(I),m.add(I),n.setXYZ(P,h.x,h.y,h.z),n.setXYZ(E,p.x,p.y,p.z),n.setXYZ(D,m.x,m.y,m.z)}else for(let b=0,M=t.count;b<M;b+=3)r.fromBufferAttribute(t,b+0),a.fromBufferAttribute(t,b+1),c.fromBufferAttribute(t,b+2),I.subVectors(c,a),_.subVectors(r,a),I.cross(_),n.setXYZ(b+0,I.x,I.y,I.z),n.setXYZ(b+1,I.x,I.y,I.z),n.setXYZ(b+2,I.x,I.y,I.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const c=n[r].array,h=e.attributes[r],p=h.array,m=h.itemSize*t,I=Math.min(p.length,c.length-m);for(let _=0,b=m;_<I;_++,b++)c[b]=p[_]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Hr.fromBufferAttribute(e,t),Hr.normalize(),e.setXYZ(t,Hr.x,Hr.y,Hr.z)}toNonIndexed(){function e(h,p){const m=h.array,I=h.itemSize,_=h.normalized,b=new m.constructor(p.length*I);let M=0,P=0;for(let E=0,D=p.length;E<D;E++){M=h.isInterleavedBufferAttribute?p[E]*h.data.stride+h.offset:p[E]*I;for(let z=0;z<I;z++)b[P++]=m[M++]}return new Er(b,I,_)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Zn,n=this.index.array,r=this.attributes;for(const h in r){const m=e(r[h],n);t.setAttribute(h,m)}const a=this.morphAttributes;for(const h in a){const p=[],m=a[h];for(let I=0,_=m.length;I<_;I++){const M=e(m[I],n);p.push(M)}t.morphAttributes[h]=p}t.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let h=0,p=c.length;h<p;h++){const m=c[h];t.addGroup(m.start,m.count,m.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const p=this.parameters;for(const m in p)void 0!==p[m]&&(e[m]=p[m]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const p in n)e.data.attributes[p]=n[p].toJSON(e.data);const r={};let a=!1;for(const p in this.morphAttributes){const m=this.morphAttributes[p],I=[];for(let _=0,b=m.length;_<b;_++)I.push(m[_].toJSON(e.data));I.length>0&&(r[p]=I,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(e.data.groups=JSON.parse(JSON.stringify(c)));const h=this.boundingSphere;return null!==h&&(e.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const m in r)this.setAttribute(m,r[m].clone(t));const a=e.morphAttributes;for(const m in a){const I=[],_=a[m];for(let b=0,M=_.length;b<M;b++)I.push(_[b].clone(t));this.morphAttributes[m]=I}this.morphTargetsRelative=e.morphTargetsRelative;const c=e.groups;for(let m=0,I=c.length;m<I;m++){const _=c[m];this.addGroup(_.start,_.count,_.materialIndex)}const h=e.boundingBox;null!==h&&(this.boundingBox=h.clone());const p=e.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const cm=new Jn,Sh=new Kf,ng=new Kc,hc=new me,bl=new me,fc=new me,um=new me,ro=new me,dm=new me,Th=new me,ig=new me,rg=new me,sg=new Mt,og=new Mt,Eh=new Mt,hm=new me,ag=new me;class Dr extends ls{constructor(e=new Zn,t=new ws){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,c=r.length;a<c;a++){const h=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=a}}}}raycast(e,t){const n=this.geometry,r=this.material,a=this.matrixWorld;if(void 0===r||(null===n.boundingSphere&&n.computeBoundingSphere(),ng.copy(n.boundingSphere),ng.applyMatrix4(a),!1===e.ray.intersectsSphere(ng))||(cm.copy(a).invert(),Sh.copy(e.ray).applyMatrix4(cm),null!==n.boundingBox&&!1===Sh.intersectsBox(n.boundingBox)))return;let c;const h=n.index,p=n.attributes.position,m=n.morphAttributes.position,I=n.morphTargetsRelative,_=n.attributes.uv,b=n.attributes.uv2,M=n.groups,P=n.drawRange;if(null!==h)if(Array.isArray(r))for(let E=0,D=M.length;E<D;E++){const z=M[E],W=r[z.materialIndex];for(let de=Math.max(z.start,P.start),fe=Math.min(h.count,Math.min(z.start+z.count,P.start+P.count));de<fe;de+=3){const Ee=h.getX(de),Q=h.getX(de+1),Ae=h.getX(de+2);c=Dh(this,W,e,Sh,p,m,I,_,b,Ee,Q,Ae),c&&(c.faceIndex=Math.floor(de/3),c.face.materialIndex=z.materialIndex,t.push(c))}}else for(let z=Math.max(0,P.start),W=Math.min(h.count,P.start+P.count);z<W;z+=3){const ee=h.getX(z),Y=h.getX(z+1),de=h.getX(z+2);c=Dh(this,r,e,Sh,p,m,I,_,b,ee,Y,de),c&&(c.faceIndex=Math.floor(z/3),t.push(c))}else if(void 0!==p)if(Array.isArray(r))for(let E=0,D=M.length;E<D;E++){const z=M[E],W=r[z.materialIndex];for(let de=Math.max(z.start,P.start),fe=Math.min(p.count,Math.min(z.start+z.count,P.start+P.count));de<fe;de+=3)c=Dh(this,W,e,Sh,p,m,I,_,b,de,de+1,de+2),c&&(c.faceIndex=Math.floor(de/3),c.face.materialIndex=z.materialIndex,t.push(c))}else for(let z=Math.max(0,P.start),W=Math.min(p.count,P.start+P.count);z<W;z+=3)c=Dh(this,r,e,Sh,p,m,I,_,b,z,z+1,z+2),c&&(c.faceIndex=Math.floor(z/3),t.push(c))}}function Dh(o,e,t,n,r,a,c,h,p,m,I,_){hc.fromBufferAttribute(r,m),bl.fromBufferAttribute(r,I),fc.fromBufferAttribute(r,_);const b=o.morphTargetInfluences;if(a&&b){Th.set(0,0,0),ig.set(0,0,0),rg.set(0,0,0);for(let P=0,E=a.length;P<E;P++){const D=b[P],z=a[P];0!==D&&(um.fromBufferAttribute(z,m),ro.fromBufferAttribute(z,I),dm.fromBufferAttribute(z,_),c?(Th.addScaledVector(um,D),ig.addScaledVector(ro,D),rg.addScaledVector(dm,D)):(Th.addScaledVector(um.sub(hc),D),ig.addScaledVector(ro.sub(bl),D),rg.addScaledVector(dm.sub(fc),D)))}hc.add(Th),bl.add(ig),fc.add(rg)}o.isSkinnedMesh&&(o.boneTransform(m,hc),o.boneTransform(I,bl),o.boneTransform(_,fc));const M=function zn(o,e,t,n,r,a,c,h){let p;if(p=1===e.side?n.intersectTriangle(c,a,r,!0,h):n.intersectTriangle(r,a,c,2!==e.side,h),null===p)return null;ag.copy(h),ag.applyMatrix4(o.matrixWorld);const m=t.ray.origin.distanceTo(ag);return m<t.near||m>t.far?null:{distance:m,point:ag.clone(),object:o}}(o,e,t,n,hc,bl,fc,hm);if(M){h&&(sg.fromBufferAttribute(h,m),og.fromBufferAttribute(h,I),Eh.fromBufferAttribute(h,_),M.uv=cs.getUV(hm,hc,bl,fc,sg,og,Eh,new Mt)),p&&(sg.fromBufferAttribute(p,m),og.fromBufferAttribute(p,I),Eh.fromBufferAttribute(p,_),M.uv2=cs.getUV(hm,hc,bl,fc,sg,og,Eh,new Mt));const P={a:m,b:I,c:_,normal:new me,materialIndex:0};cs.getNormal(hc,bl,fc,P.normal),M.face=P}return M}class gc extends Zn{constructor(e=1,t=1,n=1,r=1,a=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:a,depthSegments:c};const h=this;r=Math.floor(r),a=Math.floor(a),c=Math.floor(c);const p=[],m=[],I=[],_=[];let b=0,M=0;function P(E,D,z,W,ee,Y,de,fe,Ee,Q,Ae){const Ve=Y/Ee,Ze=de/Q,St=Y/2,Nt=de/2,Qe=fe/2,yt=Ee+1,ke=Q+1;let et=0,it=0;const Je=new me;for(let dt=0;dt<ke;dt++){const kt=dt*Ze-Nt;for(let Ot=0;Ot<yt;Ot++)Je[E]=(Ot*Ve-St)*W,Je[D]=kt*ee,Je[z]=Qe,m.push(Je.x,Je.y,Je.z),Je[E]=0,Je[D]=0,Je[z]=fe>0?1:-1,I.push(Je.x,Je.y,Je.z),_.push(Ot/Ee),_.push(1-dt/Q),et+=1}for(let dt=0;dt<Q;dt++)for(let kt=0;kt<Ee;kt++){const Gt=b+kt+yt*(dt+1),Zt=b+(kt+1)+yt*(dt+1),Fn=b+(kt+1)+yt*dt;p.push(b+kt+yt*dt,Gt,Fn),p.push(Gt,Zt,Fn),it+=6}h.addGroup(M,it,Ae),M+=it,b+=et}P("z","y","x",-1,-1,n,t,e,c,a,0),P("z","y","x",1,-1,n,t,-e,c,a,1),P("x","z","y",1,1,e,n,t,r,c,2),P("x","z","y",1,-1,e,n,-t,r,c,3),P("x","y","z",1,-1,e,t,n,r,a,4),P("x","y","z",-1,-1,e,t,-n,r,a,5),this.setIndex(p),this.setAttribute("position",new hn(m,3)),this.setAttribute("normal",new hn(I,3)),this.setAttribute("uv",new hn(_,2))}static fromJSON(e){return new gc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function eu(o){const e={};for(const t in o){e[t]={};for(const n in o[t]){const r=o[t][n];e[t][n]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}}return e}function Is(o){const e={};for(let t=0;t<o.length;t++){const n=eu(o[t]);for(const r in n)e[r]=n[r]}return e}const Ph={clone:eu,merge:Is};class Ws extends Po{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=eu(e.uniforms),this.uniformsGroups=function o0(o){const e=[];for(let t=0;t<o.length;t++)e.push(o[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const c=this.uniforms[r].value;t.uniforms[r]=c&&c.isTexture?{type:"t",value:c.toJSON(e).uuid}:c&&c.isColor?{type:"c",value:c.getHex()}:c&&c.isVector2?{type:"v2",value:c.toArray()}:c&&c.isVector3?{type:"v3",value:c.toArray()}:c&&c.isVector4?{type:"v4",value:c.toArray()}:c&&c.isMatrix3?{type:"m3",value:c.toArray()}:c&&c.isMatrix4?{type:"m4",value:c.toArray()}:{value:c}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class fm extends ls{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jn,this.projectionMatrix=new Jn,this.projectionMatrixInverse=new Jn}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class zr extends fm{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*ph*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Gc*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*ph*Math.atan(Math.tan(.5*Gc*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,n,r,a,c){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Gc*this.fov)/this.zoom,n=2*t,r=this.aspect*n,a=-.5*r;const c=this.view;if(null!==this.view&&this.view.enabled){const p=c.fullWidth,m=c.fullHeight;a+=c.offsetX*r/p,t-=c.offsetY*n/m,r*=c.width/p,n*=c.height/m}const h=this.filmOffset;0!==h&&(a+=e*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class iu extends ls{constructor(e,t,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new zr(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new me(1,0,0)),this.add(r);const a=new zr(90,1,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new me(-1,0,0)),this.add(a);const c=new zr(90,1,e,t);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(new me(0,1,0)),this.add(c);const h=new zr(90,1,e,t);h.layers=this.layers,h.up.set(0,0,-1),h.lookAt(new me(0,-1,0)),this.add(h);const p=new zr(90,1,e,t);p.layers=this.layers,p.up.set(0,-1,0),p.lookAt(new me(0,0,1)),this.add(p);const m=new zr(90,1,e,t);m.layers=this.layers,m.up.set(0,-1,0),m.lookAt(new me(0,0,-1)),this.add(m)}update(e,t){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[r,a,c,h,p,m]=this.children,I=e.getRenderTarget(),_=e.toneMapping,b=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;const M=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,c),e.setRenderTarget(n,3),e.render(t,h),e.setRenderTarget(n,4),e.render(t,p),n.texture.generateMipmaps=M,e.setRenderTarget(n,5),e.render(t,m),e.setRenderTarget(I),e.toneMapping=_,e.xr.enabled=b,n.texture.needsPMREMUpdate=!0}}class lg extends to{constructor(e,t,n,r,a,c,h,p,m,I){super(e=void 0!==e?e:[],t=void 0!==t?t:301,n,r,a,c,h,p,m,I),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gm extends qo{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1};this.texture=new lg([n,n,n,n,n,n],t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Qi}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new gc(5,5,5),a=new Ws({name:"CubemapFromEquirect",uniforms:eu(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});a.uniforms.tEquirect.value=t;const c=new Dr(r,a),h=t.minFilter;return t.minFilter===pl&&(t.minFilter=Qi),new iu(1,10,this).update(e,c),t.minFilter=h,c.geometry.dispose(),c.material.dispose(),this}clear(e,t,n,r){const a=e.getRenderTarget();for(let c=0;c<6;c++)e.setRenderTarget(this,c),e.clear(t,n,r);e.setRenderTarget(a)}}const Oh=new me,l0=new me,aM=new eo;class sd{constructor(e=new me(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Oh.subVectors(n,t).cross(l0.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const n=e.delta(Oh),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:t.copy(n).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||aM.getNormalMatrix(e),r=this.coplanarPoint(Oh).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Lh=new Kc,cg=new me;class ug{constructor(e=new sd,t=new sd,n=new sd,r=new sd,a=new sd,c=new sd){this.planes=[e,t,n,r,a,c]}set(e,t,n,r,a,c){const h=this.planes;return h[0].copy(e),h[1].copy(t),h[2].copy(n),h[3].copy(r),h[4].copy(a),h[5].copy(c),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],a=n[1],c=n[2],h=n[3],p=n[4],m=n[5],I=n[6],_=n[7],b=n[8],M=n[9],P=n[10],E=n[11],D=n[12],z=n[13],W=n[14],ee=n[15];return t[0].setComponents(h-r,_-p,E-b,ee-D).normalize(),t[1].setComponents(h+r,_+p,E+b,ee+D).normalize(),t[2].setComponents(h+a,_+m,E+M,ee+z).normalize(),t[3].setComponents(h-a,_-m,E-M,ee-z).normalize(),t[4].setComponents(h-c,_-I,E-P,ee-W).normalize(),t[5].setComponents(h+c,_+I,E+P,ee+W).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Lh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Lh)}intersectsSprite(e){return Lh.center.set(0,0,0),Lh.radius=.7071067811865476,Lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lh)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(cg.x=r.normal.x>0?e.max.x:e.min.x,cg.y=r.normal.y>0?e.max.y:e.min.y,cg.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(cg)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function c0(){let o=null,e=!1,t=null,n=null;function r(a,c){t(a,c),n=o.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(n=o.requestAnimationFrame(r),e=!0)},stop:function(){o.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){o=a}}}function u0(o,e){const t=e.isWebGL2,n=new WeakMap;return{get:function c(m){return m.isInterleavedBufferAttribute&&(m=m.data),n.get(m)},remove:function h(m){m.isInterleavedBufferAttribute&&(m=m.data);const I=n.get(m);I&&(o.deleteBuffer(I.buffer),n.delete(m))},update:function p(m,I){if(m.isGLBufferAttribute){const b=n.get(m);return void((!b||b.version<m.version)&&n.set(m,{buffer:m.buffer,type:m.type,bytesPerElement:m.elementSize,version:m.version}))}m.isInterleavedBufferAttribute&&(m=m.data);const _=n.get(m);void 0===_?n.set(m,function r(m,I){const _=m.array,b=m.usage,M=o.createBuffer();let P;if(o.bindBuffer(I,M),o.bufferData(I,_,b),m.onUploadCallback(),_ instanceof Float32Array)P=5126;else if(_ instanceof Uint16Array)if(m.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");P=5131}else P=5123;else if(_ instanceof Int16Array)P=5122;else if(_ instanceof Uint32Array)P=5125;else if(_ instanceof Int32Array)P=5124;else if(_ instanceof Int8Array)P=5120;else if(_ instanceof Uint8Array)P=5121;else{if(!(_ instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+_);P=5121}return{buffer:M,type:P,bytesPerElement:_.BYTES_PER_ELEMENT,version:m.version}}(m,I)):_.version<m.version&&(function a(m,I,_){const b=I.array,M=I.updateRange;o.bindBuffer(_,m),-1===M.count?o.bufferSubData(_,0,b):(t?o.bufferSubData(_,M.offset*b.BYTES_PER_ELEMENT,b,M.offset,M.count):o.bufferSubData(_,M.offset*b.BYTES_PER_ELEMENT,b.subarray(M.offset,M.offset+M.count)),M.count=-1)}(_.buffer,m,I),_.version=m.version)}}}class Na extends Zn{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const a=e/2,c=t/2,h=Math.floor(n),p=Math.floor(r),m=h+1,I=p+1,_=e/h,b=t/p,M=[],P=[],E=[],D=[];for(let z=0;z<I;z++){const W=z*b-c;for(let ee=0;ee<m;ee++)P.push(ee*_-a,-W,0),E.push(0,0,1),D.push(ee/h),D.push(1-z/p)}for(let z=0;z<p;z++)for(let W=0;W<h;W++){const Y=W+m*(z+1),de=W+1+m*(z+1),fe=W+1+m*z;M.push(W+m*z,Y,fe),M.push(Y,de,fe)}this.setIndex(M),this.setAttribute("position",new hn(P,3)),this.setAttribute("normal",new hn(E,3)),this.setAttribute("uv",new hn(D,2))}static fromJSON(e){return new Na(e.width,e.height,e.widthSegments,e.heightSegments)}}const ii={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},jt={common:{diffuse:{value:new Wt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new eo},uv2Transform:{value:new eo},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Wt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Wt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new eo}},sprite:{diffuse:{value:new Wt(16777215)},opacity:{value:1},center:{value:new Mt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new eo}}},oo={basic:{uniforms:Is([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.fog]),vertexShader:ii.meshbasic_vert,fragmentShader:ii.meshbasic_frag},lambert:{uniforms:Is([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.fog,jt.lights,{emissive:{value:new Wt(0)}}]),vertexShader:ii.meshlambert_vert,fragmentShader:ii.meshlambert_frag},phong:{uniforms:Is([jt.common,jt.specularmap,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,jt.lights,{emissive:{value:new Wt(0)},specular:{value:new Wt(1118481)},shininess:{value:30}}]),vertexShader:ii.meshphong_vert,fragmentShader:ii.meshphong_frag},standard:{uniforms:Is([jt.common,jt.envmap,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.roughnessmap,jt.metalnessmap,jt.fog,jt.lights,{emissive:{value:new Wt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag},toon:{uniforms:Is([jt.common,jt.aomap,jt.lightmap,jt.emissivemap,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.gradientmap,jt.fog,jt.lights,{emissive:{value:new Wt(0)}}]),vertexShader:ii.meshtoon_vert,fragmentShader:ii.meshtoon_frag},matcap:{uniforms:Is([jt.common,jt.bumpmap,jt.normalmap,jt.displacementmap,jt.fog,{matcap:{value:null}}]),vertexShader:ii.meshmatcap_vert,fragmentShader:ii.meshmatcap_frag},points:{uniforms:Is([jt.points,jt.fog]),vertexShader:ii.points_vert,fragmentShader:ii.points_frag},dashed:{uniforms:Is([jt.common,jt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ii.linedashed_vert,fragmentShader:ii.linedashed_frag},depth:{uniforms:Is([jt.common,jt.displacementmap]),vertexShader:ii.depth_vert,fragmentShader:ii.depth_frag},normal:{uniforms:Is([jt.common,jt.bumpmap,jt.normalmap,jt.displacementmap,{opacity:{value:1}}]),vertexShader:ii.meshnormal_vert,fragmentShader:ii.meshnormal_frag},sprite:{uniforms:Is([jt.sprite,jt.fog]),vertexShader:ii.sprite_vert,fragmentShader:ii.sprite_frag},background:{uniforms:{uvTransform:{value:new eo},t2D:{value:null}},vertexShader:ii.background_vert,fragmentShader:ii.background_frag},cube:{uniforms:Is([jt.envmap,{opacity:{value:1}}]),vertexShader:ii.cube_vert,fragmentShader:ii.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ii.equirect_vert,fragmentShader:ii.equirect_frag},distanceRGBA:{uniforms:Is([jt.common,jt.displacementmap,{referencePosition:{value:new me},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ii.distanceRGBA_vert,fragmentShader:ii.distanceRGBA_frag},shadow:{uniforms:Is([jt.lights,jt.fog,{color:{value:new Wt(0)},opacity:{value:1}}]),vertexShader:ii.shadow_vert,fragmentShader:ii.shadow_frag}};function Cg(o,e,t,n,r,a){const c=new Wt(0);let p,m,h=!0===r?0:1,I=null,_=0,b=null;function P(E,D){t.buffers.color.setClear(E.r,E.g,E.b,D,a)}return{getClearColor:function(){return c},setClearColor:function(E,D=1){c.set(E),h=D,P(c,h)},getClearAlpha:function(){return h},setClearAlpha:function(E){h=E,P(c,h)},render:function M(E,D){let z=!1,W=!0===D.isScene?D.background:null;W&&W.isTexture&&(W=e.get(W));const ee=o.xr,Y=ee.getSession&&ee.getSession();Y&&"additive"===Y.environmentBlendMode&&(W=null),null===W?P(c,h):W&&W.isColor&&(P(W,1),z=!0),(o.autoClear||z)&&o.clear(o.autoClearColor,o.autoClearDepth,o.autoClearStencil),W&&(W.isCubeTexture||306===W.mapping)?(void 0===m&&(m=new Dr(new gc(1,1,1),new Ws({name:"BackgroundCubeMaterial",uniforms:eu(oo.cube.uniforms),vertexShader:oo.cube.vertexShader,fragmentShader:oo.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(de,fe,Ee){this.matrixWorld.copyPosition(Ee.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(m)),m.material.uniforms.envMap.value=W,m.material.uniforms.flipEnvMap.value=W.isCubeTexture&&!1===W.isRenderTargetTexture?-1:1,(I!==W||_!==W.version||b!==o.toneMapping)&&(m.material.needsUpdate=!0,I=W,_=W.version,b=o.toneMapping),m.layers.enableAll(),E.unshift(m,m.geometry,m.material,0,0,null)):W&&W.isTexture&&(void 0===p&&(p=new Dr(new Na(2,2),new Ws({name:"BackgroundMaterial",uniforms:eu(oo.background.uniforms),vertexShader:oo.background.vertexShader,fragmentShader:oo.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(p)),p.material.uniforms.t2D.value=W,!0===W.matrixAutoUpdate&&W.updateMatrix(),p.material.uniforms.uvTransform.value.copy(W.matrix),(I!==W||_!==W.version||b!==o.toneMapping)&&(p.material.needsUpdate=!0,I=W,_=W.version,b=o.toneMapping),p.layers.enableAll(),E.unshift(p,p.geometry,p.material,0,0,null))}}}function Rh(o,e,t,n){const r=o.getParameter(34921),a=n.isWebGL2?null:e.get("OES_vertex_array_object"),c=n.isWebGL2||null!==a,h={},p=D(null);let m=p,I=!1;function M(Qe){return n.isWebGL2?o.bindVertexArray(Qe):a.bindVertexArrayOES(Qe)}function P(Qe){return n.isWebGL2?o.deleteVertexArray(Qe):a.deleteVertexArrayOES(Qe)}function D(Qe){const yt=[],ke=[],et=[];for(let it=0;it<r;it++)yt[it]=0,ke[it]=0,et[it]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:yt,enabledAttributes:ke,attributeDivisors:et,object:Qe,attributes:{},index:null}}function ee(){const Qe=m.newAttributes;for(let yt=0,ke=Qe.length;yt<ke;yt++)Qe[yt]=0}function Y(Qe){de(Qe,0)}function de(Qe,yt){const et=m.enabledAttributes,it=m.attributeDivisors;m.newAttributes[Qe]=1,0===et[Qe]&&(o.enableVertexAttribArray(Qe),et[Qe]=1),it[Qe]!==yt&&((n.isWebGL2?o:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Qe,yt),it[Qe]=yt)}function fe(){const Qe=m.newAttributes,yt=m.enabledAttributes;for(let ke=0,et=yt.length;ke<et;ke++)yt[ke]!==Qe[ke]&&(o.disableVertexAttribArray(ke),yt[ke]=0)}function Ee(Qe,yt,ke,et,it,Je){!0!==n.isWebGL2||5124!==ke&&5125!==ke?o.vertexAttribPointer(Qe,yt,ke,et,it,Je):o.vertexAttribIPointer(Qe,yt,ke,it,Je)}function St(){Nt(),I=!0,m!==p&&(m=p,M(m.object))}function Nt(){p.geometry=null,p.program=null,p.wireframe=!1}return{setup:function _(Qe,yt,ke,et,it){let Je=!1;if(c){const dt=function E(Qe,yt,ke){const et=!0===ke.wireframe;let it=h[Qe.id];void 0===it&&(it={},h[Qe.id]=it);let Je=it[yt.id];void 0===Je&&(Je={},it[yt.id]=Je);let dt=Je[et];return void 0===dt&&(dt=D(function b(){return n.isWebGL2?o.createVertexArray():a.createVertexArrayOES()}()),Je[et]=dt),dt}(et,ke,yt);m!==dt&&(m=dt,M(m.object)),Je=function z(Qe,yt,ke,et){const it=m.attributes,Je=yt.attributes;let dt=0;const kt=ke.getAttributes();for(const Ot in kt)if(kt[Ot].location>=0){const Zt=it[Ot];let Fn=Je[Ot];if(void 0===Fn&&("instanceMatrix"===Ot&&Qe.instanceMatrix&&(Fn=Qe.instanceMatrix),"instanceColor"===Ot&&Qe.instanceColor&&(Fn=Qe.instanceColor)),void 0===Zt||Zt.attribute!==Fn||Fn&&Zt.data!==Fn.data)return!0;dt++}return m.attributesNum!==dt||m.index!==et}(Qe,et,ke,it),Je&&function W(Qe,yt,ke,et){const it={},Je=yt.attributes;let dt=0;const kt=ke.getAttributes();for(const Ot in kt)if(kt[Ot].location>=0){let Zt=Je[Ot];void 0===Zt&&("instanceMatrix"===Ot&&Qe.instanceMatrix&&(Zt=Qe.instanceMatrix),"instanceColor"===Ot&&Qe.instanceColor&&(Zt=Qe.instanceColor));const Fn={};Fn.attribute=Zt,Zt&&Zt.data&&(Fn.data=Zt.data),it[Ot]=Fn,dt++}m.attributes=it,m.attributesNum=dt,m.index=et}(Qe,et,ke,it)}else{const dt=!0===yt.wireframe;(m.geometry!==et.id||m.program!==ke.id||m.wireframe!==dt)&&(m.geometry=et.id,m.program=ke.id,m.wireframe=dt,Je=!0)}null!==it&&t.update(it,34963),(Je||I)&&(I=!1,function Q(Qe,yt,ke,et){if(!1===n.isWebGL2&&(Qe.isInstancedMesh||et.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;ee();const it=et.attributes,Je=ke.getAttributes(),dt=yt.defaultAttributeValues;for(const kt in Je){const Ot=Je[kt];if(Ot.location>=0){let Gt=it[kt];if(void 0===Gt&&("instanceMatrix"===kt&&Qe.instanceMatrix&&(Gt=Qe.instanceMatrix),"instanceColor"===kt&&Qe.instanceColor&&(Gt=Qe.instanceColor)),void 0!==Gt){const Zt=Gt.normalized,Fn=Gt.itemSize,Et=t.get(Gt);if(void 0===Et)continue;const Mn=Et.buffer,yn=Et.type,bn=Et.bytesPerElement;if(Gt.isInterleavedBufferAttribute){const tn=Gt.data,li=tn.stride,Lt=Gt.offset;if(tn.isInstancedInterleavedBuffer){for(let Dt=0;Dt<Ot.locationSize;Dt++)de(Ot.location+Dt,tn.meshPerAttribute);!0!==Qe.isInstancedMesh&&void 0===et._maxInstanceCount&&(et._maxInstanceCount=tn.meshPerAttribute*tn.count)}else for(let Dt=0;Dt<Ot.locationSize;Dt++)Y(Ot.location+Dt);o.bindBuffer(34962,Mn);for(let Dt=0;Dt<Ot.locationSize;Dt++)Ee(Ot.location+Dt,Fn/Ot.locationSize,yn,Zt,li*bn,(Lt+Fn/Ot.locationSize*Dt)*bn)}else{if(Gt.isInstancedBufferAttribute){for(let tn=0;tn<Ot.locationSize;tn++)de(Ot.location+tn,Gt.meshPerAttribute);!0!==Qe.isInstancedMesh&&void 0===et._maxInstanceCount&&(et._maxInstanceCount=Gt.meshPerAttribute*Gt.count)}else for(let tn=0;tn<Ot.locationSize;tn++)Y(Ot.location+tn);o.bindBuffer(34962,Mn);for(let tn=0;tn<Ot.locationSize;tn++)Ee(Ot.location+tn,Fn/Ot.locationSize,yn,Zt,Fn*bn,Fn/Ot.locationSize*tn*bn)}}else if(void 0!==dt){const Zt=dt[kt];if(void 0!==Zt)switch(Zt.length){case 2:o.vertexAttrib2fv(Ot.location,Zt);break;case 3:o.vertexAttrib3fv(Ot.location,Zt);break;case 4:o.vertexAttrib4fv(Ot.location,Zt);break;default:o.vertexAttrib1fv(Ot.location,Zt)}}}}fe()}(Qe,yt,ke,et),null!==it&&o.bindBuffer(34963,t.get(it).buffer))},reset:St,resetDefaultState:Nt,dispose:function Ae(){St();for(const Qe in h){const yt=h[Qe];for(const ke in yt){const et=yt[ke];for(const it in et)P(et[it].object),delete et[it];delete yt[ke]}delete h[Qe]}},releaseStatesOfGeometry:function Ve(Qe){if(void 0===h[Qe.id])return;const yt=h[Qe.id];for(const ke in yt){const et=yt[ke];for(const it in et)P(et[it].object),delete et[it];delete yt[ke]}delete h[Qe.id]},releaseStatesOfProgram:function Ze(Qe){for(const yt in h){const ke=h[yt];if(void 0===ke[Qe.id])continue;const et=ke[Qe.id];for(const it in et)P(et[it].object),delete et[it];delete ke[Qe.id]}},initAttributes:ee,enableAttribute:Y,disableUnusedAttributes:fe}}function q0(o,e,t,n){const r=n.isWebGL2;let a;this.setMode=function c(m){a=m},this.render=function h(m,I){o.drawArrays(a,m,I),t.update(I,a,1)},this.renderInstances=function p(m,I,_){if(0===_)return;let b,M;if(r)b=o,M="drawArraysInstanced";else if(b=e.get("ANGLE_instanced_arrays"),M="drawArraysInstancedANGLE",null===b)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");b[M](a,m,I,_),t.update(I,a,_)}}function Nm(o,e,t){let n;function a(Ee){if("highp"===Ee){if(o.getShaderPrecisionFormat(35633,36338).precision>0&&o.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";Ee="mediump"}return"mediump"===Ee&&o.getShaderPrecisionFormat(35633,36337).precision>0&&o.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&o instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&o instanceof WebGL2ComputeRenderingContext;let h=void 0!==t.precision?t.precision:"highp";const p=a(h);p!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",p,"instead."),h=p);const m=c||e.has("WEBGL_draw_buffers"),I=!0===t.logarithmicDepthBuffer,_=o.getParameter(34930),b=o.getParameter(35660),M=o.getParameter(3379),P=o.getParameter(34076),E=o.getParameter(34921),D=o.getParameter(36347),z=o.getParameter(36348),W=o.getParameter(36349),ee=b>0,Y=c||e.has("OES_texture_float");return{isWebGL2:c,drawBuffers:m,getMaxAnisotropy:function r(){if(void 0!==n)return n;if(!0===e.has("EXT_texture_filter_anisotropic")){const Ee=e.get("EXT_texture_filter_anisotropic");n=o.getParameter(Ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:a,precision:h,logarithmicDepthBuffer:I,maxTextures:_,maxVertexTextures:b,maxTextureSize:M,maxCubemapSize:P,maxAttributes:E,maxVertexUniforms:D,maxVaryings:z,maxFragmentUniforms:W,vertexTextures:ee,floatFragmentTextures:Y,floatVertexTextures:ee&&Y,maxSamples:c?o.getParameter(36183):0}}function VI(o){const e=this;let t=null,n=0,r=!1,a=!1;const c=new sd,h=new eo,p={value:null,needsUpdate:!1};function m(){p.value!==t&&(p.value=t,p.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function I(_,b,M,P){const E=null!==_?_.length:0;let D=null;if(0!==E){if(D=p.value,!0!==P||null===D){const z=M+4*E,W=b.matrixWorldInverse;h.getNormalMatrix(W),(null===D||D.length<z)&&(D=new Float32Array(z));for(let ee=0,Y=M;ee!==E;++ee,Y+=4)c.copy(_[ee]).applyMatrix4(W,h),c.normal.toArray(D,Y),D[Y+3]=c.constant}p.value=D,p.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,D}this.uniform=p,this.numPlanes=0,this.numIntersection=0,this.init=function(_,b,M){const P=0!==_.length||b||0!==n||r;return r=b,t=I(_,M,0),n=_.length,P},this.beginShadows=function(){a=!0,I(null)},this.endShadows=function(){a=!1,m()},this.setState=function(_,b,M){const P=_.clippingPlanes,E=_.clipIntersection,D=_.clipShadows,z=o.get(_);if(!r||null===P||0===P.length||a&&!D)a?I(null):m();else{const W=a?0:n,ee=4*W;let Y=z.clippingState||null;p.value=Y,Y=I(P,b,ee,M);for(let de=0;de!==ee;++de)Y[de]=t[de];z.clippingState=Y,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=W}}}function K0(o){let e=new WeakMap;function t(c,h){return 303===h?c.mapping=301:304===h&&(c.mapping=302),c}function r(c){const h=c.target;h.removeEventListener("dispose",r);const p=e.get(h);void 0!==p&&(e.delete(h),p.dispose())}return{get:function n(c){if(c&&c.isTexture&&!1===c.isRenderTargetTexture){const h=c.mapping;if(303===h||304===h){if(e.has(c))return t(e.get(c).texture,c.mapping);{const p=c.image;if(p&&p.height>0){const m=new gm(p.height/2);return m.fromEquirectangularTexture(o,c),e.set(c,m),c.addEventListener("dispose",r),t(m.texture,c.mapping)}return null}}}return c},dispose:function a(){e=new WeakMap}}}oo.physical={uniforms:Is([oo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Mt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Wt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Mt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Wt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Wt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ii.meshphysical_vert,fragmentShader:ii.meshphysical_frag};class cd extends fm{constructor(e=-1,t=1,n=1,r=-1,a=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=a,this.far=c,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,a,c){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=a,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=n-e,c=n+e,h=r+t,p=r-t;if(null!==this.view&&this.view.enabled){const m=(this.right-this.left)/this.view.fullWidth/this.zoom,I=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=m*this.view.offsetX,c=a+m*this.view.width,h-=I*this.view.offsetY,p=h-I*this.view.height}this.projectionMatrix.makeOrthographic(a,c,h,p,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const HI=[.125,.215,.35,.446,.526,.582],Fm=new cd,J0=new Wt;let km=null;const ru=(1+Math.sqrt(5))/2,dd=1/ru,Bm=[new me(1,1,1),new me(-1,1,1),new me(1,1,-1),new me(-1,1,-1),new me(0,ru,dd),new me(0,ru,-dd),new me(dd,0,ru),new me(-dd,0,ru),new me(ru,dd,0),new me(-ru,dd,0)];class Ag{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){km=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,n,r,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=GI(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=zI(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(km),e.scissorTest=!1,_g(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),km=this._renderer.getRenderTarget();const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Qi,minFilter:Qi,generateMipmaps:!1,type:qu,format:Mo,encoding:Sa,depthBuffer:!1},r=Ig(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Ig(e,t,n);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function Q0(o){const e=[],t=[],n=[];let r=o;const a=o-4+1+HI.length;for(let c=0;c<a;c++){const h=Math.pow(2,r);t.push(h);let p=1/h;c>o-4?p=HI[c-o+4-1]:0===c&&(p=0),n.push(p);const m=1/(h-2),I=-m,_=1+m,b=[I,I,_,I,_,_,I,I,_,_,I,_],M=6,P=6,E=3,D=2,z=1,W=new Float32Array(E*P*M),ee=new Float32Array(D*P*M),Y=new Float32Array(z*P*M);for(let fe=0;fe<M;fe++){const Ee=fe%3*2/3-1,Q=fe>2?0:-1;W.set([Ee,Q,0,Ee+2/3,Q,0,Ee+2/3,Q+1,0,Ee,Q,0,Ee+2/3,Q+1,0,Ee,Q+1,0],E*P*fe),ee.set(b,D*P*fe),Y.set([fe,fe,fe,fe,fe,fe],z*P*fe)}const de=new Zn;de.setAttribute("position",new Er(W,E)),de.setAttribute("uv",new Er(ee,D)),de.setAttribute("faceIndex",new Er(Y,z)),e.push(de),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:n}}(a)),this._blurMaterial=function X0(o,e,t){const n=new Float32Array(20),r=new me(0,1,0);return new Ws({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${o}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(a,e,t)}return r}_compileMaterial(e){const t=new Dr(this._lodPlanes[0],e);this._renderer.compile(t,Fm)}_sceneToCubeUV(e,t,n,r){const h=new zr(90,1,t,n),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],I=this._renderer,_=I.autoClear,b=I.toneMapping;I.getClearColor(J0),I.toneMapping=0,I.autoClear=!1;const M=new ws({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),P=new Dr(new gc,M);let E=!1;const D=e.background;D?D.isColor&&(M.color.copy(D),e.background=null,E=!0):(M.color.copy(J0),E=!0);for(let z=0;z<6;z++){const W=z%3;0===W?(h.up.set(0,p[z],0),h.lookAt(m[z],0,0)):1===W?(h.up.set(0,0,p[z]),h.lookAt(0,m[z],0)):(h.up.set(0,p[z],0),h.lookAt(0,0,m[z]));const ee=this._cubeSize;_g(r,W*ee,z>2?ee:0,ee,ee),I.setRenderTarget(r),E&&I.render(P,h),I.render(e,h)}P.geometry.dispose(),P.material.dispose(),I.toneMapping=b,I.autoClear=_,e.background=D}_textureToCubeUV(e,t){const n=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=GI()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=zI());const a=r?this._cubemapMaterial:this._equirectMaterial,c=new Dr(this._lodPlanes[0],a);a.uniforms.envMap.value=e;const p=this._cubeSize;_g(t,0,0,3*p,2*p),n.setRenderTarget(t),n.render(c,Fm)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,a,Bm[(r-1)%Bm.length])}t.autoClear=n}_blur(e,t,n,r,a){const c=this._pingPongRenderTarget;this._halfBlur(e,c,t,n,r,"latitudinal",a),this._halfBlur(c,e,n,n,r,"longitudinal",a)}_halfBlur(e,t,n,r,a,c,h){const p=this._renderer,m=this._blurMaterial;"latitudinal"!==c&&"longitudinal"!==c&&console.error("blur direction must be either latitudinal or longitudinal!");const _=new Dr(this._lodPlanes[r],m),b=m.uniforms,M=this._sizeLods[n]-1,P=isFinite(a)?Math.PI/(2*M):2*Math.PI/39,E=a/P,D=isFinite(a)?1+Math.floor(3*E):20;D>20&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${D} samples when the maximum is set to 20`);const z=[];let W=0;for(let Ee=0;Ee<20;++Ee){const Q=Ee/E,Ae=Math.exp(-Q*Q/2);z.push(Ae),0===Ee?W+=Ae:Ee<D&&(W+=2*Ae)}for(let Ee=0;Ee<z.length;Ee++)z[Ee]=z[Ee]/W;b.envMap.value=e.texture,b.samples.value=D,b.weights.value=z,b.latitudinal.value="latitudinal"===c,h&&(b.poleAxis.value=h);const{_lodMax:ee}=this;b.dTheta.value=P,b.mipInt.value=ee-n;const Y=this._sizeLods[r];_g(t,3*Y*(r>ee-4?r-ee+4:0),4*(this._cubeSize-Y),3*Y,2*Y),p.setRenderTarget(t),p.render(_,Fm)}}function Ig(o,e,t){const n=new qo(o,e,t);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function _g(o,e,t,n,r){o.viewport.set(e,t,n,r),o.scissor.set(e,t,n,r)}function zI(){return new Ws({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function GI(){return new Ws({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function eb(o){let e=new WeakMap,t=null;function a(h){const p=h.target;p.removeEventListener("dispose",a);const m=e.get(p);void 0!==m&&(e.delete(p),m.dispose())}return{get:function n(h){if(h&&h.isTexture){const p=h.mapping,m=303===p||304===p,I=301===p||302===p;if(m||I){if(h.isRenderTargetTexture&&!0===h.needsPMREMUpdate){h.needsPMREMUpdate=!1;let _=e.get(h);return null===t&&(t=new Ag(o)),_=m?t.fromEquirectangular(h,_):t.fromCubemap(h,_),e.set(h,_),_.texture}if(e.has(h))return e.get(h).texture;{const _=h.image;if(m&&_&&_.height>0||I&&_&&function r(h){let p=0;for(let I=0;I<6;I++)void 0!==h[I]&&p++;return 6===p}(_)){null===t&&(t=new Ag(o));const b=m?t.fromEquirectangular(h):t.fromCubemap(h);return e.set(h,b),h.addEventListener("dispose",a),b.texture}return null}}}return h},dispose:function c(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function vg(o){const e={};function t(n){if(void 0!==e[n])return e[n];let r;switch(n){case"WEBGL_depth_texture":r=o.getExtension("WEBGL_depth_texture")||o.getExtension("MOZ_WEBGL_depth_texture")||o.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=o.getExtension("EXT_texture_filter_anisotropic")||o.getExtension("MOZ_EXT_texture_filter_anisotropic")||o.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=o.getExtension("WEBGL_compressed_texture_s3tc")||o.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=o.getExtension("WEBGL_compressed_texture_pvrtc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=o.getExtension(n)}return e[n]=r,r}return{has:function(n){return null!==t(n)},init:function(n){n.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(n){const r=t(n);return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),r}}}function su(o,e,t,n){const r={},a=new WeakMap;function c(_){const b=_.target;null!==b.index&&e.remove(b.index);for(const P in b.attributes)e.remove(b.attributes[P]);b.removeEventListener("dispose",c),delete r[b.id];const M=a.get(b);M&&(e.remove(M),a.delete(b)),n.releaseStatesOfGeometry(b),!0===b.isInstancedBufferGeometry&&delete b._maxInstanceCount,t.memory.geometries--}function m(_){const b=[],M=_.index,P=_.attributes.position;let E=0;if(null!==M){const W=M.array;E=M.version;for(let ee=0,Y=W.length;ee<Y;ee+=3){const de=W[ee+0],fe=W[ee+1],Ee=W[ee+2];b.push(de,fe,fe,Ee,Ee,de)}}else{E=P.version;for(let ee=0,Y=P.array.length/3-1;ee<Y;ee+=3){const de=ee+0,fe=ee+1,Ee=ee+2;b.push(de,fe,fe,Ee,Ee,de)}}const D=new(Gf(b)?wh:sm)(b,1);D.version=E;const z=a.get(_);z&&e.remove(z),a.set(_,D)}return{get:function h(_,b){return!0===r[b.id]||(b.addEventListener("dispose",c),r[b.id]=!0,t.memory.geometries++),b},update:function p(_){const b=_.attributes;for(const P in b)e.update(b[P],34962);const M=_.morphAttributes;for(const P in M){const E=M[P];for(let D=0,z=E.length;D<z;D++)e.update(E[D],34962)}},getWireframeAttribute:function I(_){const b=a.get(_);if(b){const M=_.index;null!==M&&b.version<M.version&&m(_)}else m(_);return a.get(_)}}}function VM(o,e,t,n){const r=n.isWebGL2;let a,h,p;this.setMode=function c(b){a=b},this.setIndex=function m(b){h=b.type,p=b.bytesPerElement},this.render=function I(b,M){o.drawElements(a,M,h,b*p),t.update(M,a,1)},this.renderInstances=function _(b,M,P){if(0===P)return;let E,D;if(r)E=o,D="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),D="drawElementsInstancedANGLE",null===E)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");E[D](a,M,h,b*p,P),t.update(M,a,P)}}function Nh(o){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function n(a,c,h){switch(t.calls++,c){case 4:t.triangles+=h*(a/3);break;case 1:t.lines+=h*(a/2);break;case 3:t.lines+=h*(a-1);break;case 2:t.lines+=h*a;break;case 0:t.points+=h*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c)}}}}function tb(o,e){return o[0]-e[0]}function nb(o,e){return Math.abs(e[1])-Math.abs(o[1])}function Fh(o,e){let t=1;const n=e.isInterleavedBufferAttribute?e.data.array:e.array;n instanceof Int8Array?t=127:n instanceof Uint8Array?t=255:n instanceof Uint16Array?t=65535:n instanceof Int16Array?t=32767:n instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),o.divideScalar(t)}function ib(o,e,t){const n={},r=new Float32Array(8),a=new WeakMap,c=new bi,h=[];for(let m=0;m<8;m++)h[m]=[m,0];return{update:function p(m,I,_,b){const M=m.morphTargetInfluences;if(!0===e.isWebGL2){const P=I.morphAttributes.position||I.morphAttributes.normal||I.morphAttributes.color,E=void 0!==P?P.length:0;let D=a.get(I);if(void 0===D||D.count!==E){let yt=function(){Nt.dispose(),a.delete(I),I.removeEventListener("dispose",yt)};void 0!==D&&D.texture.dispose();const ee=void 0!==I.morphAttributes.position,Y=void 0!==I.morphAttributes.normal,de=void 0!==I.morphAttributes.color,fe=I.morphAttributes.position||[],Ee=I.morphAttributes.normal||[],Q=I.morphAttributes.color||[];let Ae=0;!0===ee&&(Ae=1),!0===Y&&(Ae=2),!0===de&&(Ae=3);let Ve=I.attributes.position.count*Ae,Ze=1;Ve>e.maxTextureSize&&(Ze=Math.ceil(Ve/e.maxTextureSize),Ve=e.maxTextureSize);const St=new Float32Array(Ve*Ze*4*E),Nt=new qp(St,Ve,Ze,E);Nt.type=ic,Nt.needsUpdate=!0;const Qe=4*Ae;for(let ke=0;ke<E;ke++){const et=fe[ke],it=Ee[ke],Je=Q[ke],dt=Ve*Ze*4*ke;for(let kt=0;kt<et.count;kt++){const Ot=kt*Qe;!0===ee&&(c.fromBufferAttribute(et,kt),!0===et.normalized&&Fh(c,et),St[dt+Ot+0]=c.x,St[dt+Ot+1]=c.y,St[dt+Ot+2]=c.z,St[dt+Ot+3]=0),!0===Y&&(c.fromBufferAttribute(it,kt),!0===it.normalized&&Fh(c,it),St[dt+Ot+4]=c.x,St[dt+Ot+5]=c.y,St[dt+Ot+6]=c.z,St[dt+Ot+7]=0),!0===de&&(c.fromBufferAttribute(Je,kt),!0===Je.normalized&&Fh(c,Je),St[dt+Ot+8]=c.x,St[dt+Ot+9]=c.y,St[dt+Ot+10]=c.z,St[dt+Ot+11]=4===Je.itemSize?c.w:1)}}D={count:E,texture:Nt,size:new Mt(Ve,Ze)},a.set(I,D),I.addEventListener("dispose",yt)}let z=0;for(let ee=0;ee<M.length;ee++)z+=M[ee];const W=I.morphTargetsRelative?1:1-z;b.getUniforms().setValue(o,"morphTargetBaseInfluence",W),b.getUniforms().setValue(o,"morphTargetInfluences",M),b.getUniforms().setValue(o,"morphTargetsTexture",D.texture,t),b.getUniforms().setValue(o,"morphTargetsTextureSize",D.size)}else{const P=void 0===M?0:M.length;let E=n[I.id];if(void 0===E||E.length!==P){E=[];for(let Y=0;Y<P;Y++)E[Y]=[Y,0];n[I.id]=E}for(let Y=0;Y<P;Y++){const de=E[Y];de[0]=Y,de[1]=M[Y]}E.sort(nb);for(let Y=0;Y<8;Y++)Y<P&&E[Y][1]?(h[Y][0]=E[Y][0],h[Y][1]=E[Y][1]):(h[Y][0]=Number.MAX_SAFE_INTEGER,h[Y][1]=0);h.sort(tb);const D=I.morphAttributes.position,z=I.morphAttributes.normal;let W=0;for(let Y=0;Y<8;Y++){const de=h[Y],fe=de[0],Ee=de[1];fe!==Number.MAX_SAFE_INTEGER&&Ee?(D&&I.getAttribute("morphTarget"+Y)!==D[fe]&&I.setAttribute("morphTarget"+Y,D[fe]),z&&I.getAttribute("morphNormal"+Y)!==z[fe]&&I.setAttribute("morphNormal"+Y,z[fe]),r[Y]=Ee,W+=Ee):(D&&!0===I.hasAttribute("morphTarget"+Y)&&I.deleteAttribute("morphTarget"+Y),z&&!0===I.hasAttribute("morphNormal"+Y)&&I.deleteAttribute("morphNormal"+Y),r[Y]=0)}const ee=I.morphTargetsRelative?1:1-W;b.getUniforms().setValue(o,"morphTargetBaseInfluence",ee),b.getUniforms().setValue(o,"morphTargetInfluences",r)}}}}function ka(o,e,t,n){let r=new WeakMap;function h(p){const m=p.target;m.removeEventListener("dispose",h),t.remove(m.instanceMatrix),null!==m.instanceColor&&t.remove(m.instanceColor)}return{update:function a(p){const m=n.render.frame,_=e.get(p,p.geometry);return r.get(_)!==m&&(e.update(_),r.set(_,m)),p.isInstancedMesh&&(!1===p.hasEventListener("dispose",h)&&p.addEventListener("dispose",h),t.update(p.instanceMatrix,34962),null!==p.instanceColor&&t.update(p.instanceColor,34962)),_},dispose:function c(){r=new WeakMap}}}const hd=new to,us=new qp,Cc=new Kp,kh=new lg,ao=[],yg=[],ou=new Float32Array(16),au=new Float32Array(9),lu=new Float32Array(4);function Xo(o,e,t){const n=o[0];if(n<=0||n>0)return o;const r=e*t;let a=ao[r];if(void 0===a&&(a=new Float32Array(r),ao[r]=a),0!==e){n.toArray(a,0);for(let c=1,h=0;c!==e;++c)h+=t,o[c].toArray(a,h)}return a}function Pr(o,e){if(o.length!==e.length)return!1;for(let t=0,n=o.length;t<n;t++)if(o[t]!==e[t])return!1;return!0}function Or(o,e){for(let t=0,n=e.length;t<n;t++)o[t]=e[t]}function Ml(o,e){let t=yg[e];void 0===t&&(t=new Int32Array(e),yg[e]=t);for(let n=0;n!==e;++n)t[n]=o.allocateTextureUnit();return t}function fd(o,e){const t=this.cache;t[0]!==e&&(o.uniform1f(this.addr,e),t[0]=e)}function gd(o,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(o.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Pr(t,e))return;o.uniform2fv(this.addr,e),Or(t,e)}}function WI(o,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(o.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(o.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Pr(t,e))return;o.uniform3fv(this.addr,e),Or(t,e)}}function jI(o,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(o.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Pr(t,e))return;o.uniform4fv(this.addr,e),Or(t,e)}}function $I(o,e){const t=this.cache,n=e.elements;if(void 0===n){if(Pr(t,e))return;o.uniformMatrix2fv(this.addr,!1,e),Or(t,e)}else{if(Pr(t,n))return;lu.set(n),o.uniformMatrix2fv(this.addr,!1,lu),Or(t,n)}}function ZI(o,e){const t=this.cache,n=e.elements;if(void 0===n){if(Pr(t,e))return;o.uniformMatrix3fv(this.addr,!1,e),Or(t,e)}else{if(Pr(t,n))return;au.set(n),o.uniformMatrix3fv(this.addr,!1,au),Or(t,n)}}function YI(o,e){const t=this.cache,n=e.elements;if(void 0===n){if(Pr(t,e))return;o.uniformMatrix4fv(this.addr,!1,e),Or(t,e)}else{if(Pr(t,n))return;ou.set(n),o.uniformMatrix4fv(this.addr,!1,ou),Or(t,n)}}function qI(o,e){const t=this.cache;t[0]!==e&&(o.uniform1i(this.addr,e),t[0]=e)}function KI(o,e){const t=this.cache;Pr(t,e)||(o.uniform2iv(this.addr,e),Or(t,e))}function JI(o,e){const t=this.cache;Pr(t,e)||(o.uniform3iv(this.addr,e),Or(t,e))}function QI(o,e){const t=this.cache;Pr(t,e)||(o.uniform4iv(this.addr,e),Or(t,e))}function rb(o,e){const t=this.cache;t[0]!==e&&(o.uniform1ui(this.addr,e),t[0]=e)}function sb(o,e){const t=this.cache;Pr(t,e)||(o.uniform2uiv(this.addr,e),Or(t,e))}function XI(o,e){const t=this.cache;Pr(t,e)||(o.uniform3uiv(this.addr,e),Or(t,e))}function ob(o,e){const t=this.cache;Pr(t,e)||(o.uniform4uiv(this.addr,e),Or(t,e))}function e_(o,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(o.uniform1i(this.addr,r),n[0]=r),t.setTexture2D(e||hd,r)}function Vm(o,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(o.uniform1i(this.addr,r),n[0]=r),t.setTexture3D(e||Cc,r)}function Hm(o,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(o.uniform1i(this.addr,r),n[0]=r),t.setTextureCube(e||kh,r)}function ab(o,e,t){const n=this.cache,r=t.allocateTextureUnit();n[0]!==r&&(o.uniform1i(this.addr,r),n[0]=r),t.setTexture2DArray(e||us,r)}function xg(o,e){o.uniform1fv(this.addr,e)}function zm(o,e){const t=Xo(e,this.size,2);o.uniform2fv(this.addr,t)}function lb(o,e){const t=Xo(e,this.size,3);o.uniform3fv(this.addr,t)}function wg(o,e){const t=Xo(e,this.size,4);o.uniform4fv(this.addr,t)}function Mg(o,e){const t=Xo(e,this.size,4);o.uniformMatrix2fv(this.addr,!1,t)}function Gm(o,e){const t=Xo(e,this.size,9);o.uniformMatrix3fv(this.addr,!1,t)}function t_(o,e){const t=Xo(e,this.size,16);o.uniformMatrix4fv(this.addr,!1,t)}function Wm(o,e){o.uniform1iv(this.addr,e)}function n_(o,e){o.uniform2iv(this.addr,e)}function i_(o,e){o.uniform3iv(this.addr,e)}function jm(o,e){o.uniform4iv(this.addr,e)}function r_(o,e){o.uniform1uiv(this.addr,e)}function cb(o,e){o.uniform2uiv(this.addr,e)}function s_(o,e){o.uniform3uiv(this.addr,e)}function o_(o,e){o.uniform4uiv(this.addr,e)}function a_(o,e,t){const n=e.length,r=Ml(t,n);o.uniform1iv(this.addr,r);for(let a=0;a!==n;++a)t.setTexture2D(e[a]||hd,r[a])}function l_(o,e,t){const n=e.length,r=Ml(t,n);o.uniform1iv(this.addr,r);for(let a=0;a!==n;++a)t.setTexture3D(e[a]||Cc,r[a])}function ub(o,e,t){const n=e.length,r=Ml(t,n);o.uniform1iv(this.addr,r);for(let a=0;a!==n;++a)t.setTextureCube(e[a]||kh,r[a])}function c_(o,e,t){const n=e.length,r=Ml(t,n);o.uniform1iv(this.addr,r);for(let a=0;a!==n;++a)t.setTexture2DArray(e[a]||us,r[a])}class $m{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function bg(o){switch(o){case 5126:return fd;case 35664:return gd;case 35665:return WI;case 35666:return jI;case 35674:return $I;case 35675:return ZI;case 35676:return YI;case 5124:case 35670:return qI;case 35667:case 35671:return KI;case 35668:case 35672:return JI;case 35669:case 35673:return QI;case 5125:return rb;case 36294:return sb;case 36295:return XI;case 36296:return ob;case 35678:case 36198:case 36298:case 36306:case 35682:return e_;case 35679:case 36299:case 36307:return Vm;case 35680:case 36300:case 36308:case 36293:return Hm;case 36289:case 36303:case 36311:case 36292:return ab}}(t.type)}}class Sg{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function u_(o){switch(o){case 5126:return xg;case 35664:return zm;case 35665:return lb;case 35666:return wg;case 35674:return Mg;case 35675:return Gm;case 35676:return t_;case 5124:case 35670:return Wm;case 35667:case 35671:return n_;case 35668:case 35672:return i_;case 35669:case 35673:return jm;case 5125:return r_;case 36294:return cb;case 36295:return s_;case 36296:return o_;case 35678:case 36198:case 36298:case 36306:case 35682:return a_;case 35679:case 36299:case 36307:return l_;case 35680:case 36300:case 36308:case 36293:return ub;case 36289:case 36303:case 36311:case 36292:return c_}}(t.type)}}class d_{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let a=0,c=r.length;a!==c;++a){const h=r[a];h.setValue(e,t[h.id],n)}}}const Tg=/(\w+)(\])?(\[|\.)?/g;function Zm(o,e){o.seq.push(e),o.map[e.id]=e}function h_(o,e,t){const n=o.name,r=n.length;for(Tg.lastIndex=0;;){const a=Tg.exec(n),c=Tg.lastIndex;let h=a[1];const m=a[3];if("]"===a[2]&&(h|=0),void 0===m||"["===m&&c+2===r){Zm(t,void 0===m?new $m(h,o,e):new Sg(h,o,e));break}{let _=t.map[h];void 0===_&&(_=new d_(h),Zm(t,_)),t=_}}}class Bh{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const a=e.getActiveUniform(t,r);h_(a,e.getUniformLocation(t,a.name),this)}}setValue(e,t,n,r){const a=this.map[t];void 0!==a&&a.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let a=0,c=t.length;a!==c;++a){const h=t[a],p=n[h.id];!1!==p.needsUpdate&&h.setValue(e,p.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,a=e.length;r!==a;++r){const c=e[r];c.id in t&&n.push(c)}return n}}function Ym(o,e,t){const n=o.createShader(e);return o.shaderSource(n,t),o.compileShader(n),n}let f_=0;function p_(o,e,t){const n=o.getShaderParameter(e,35713),r=o.getShaderInfoLog(e).trim();if(n&&""===r)return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const c=parseInt(a[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function g_(o,e){const t=o.split("\n"),n=[],r=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let c=r;c<a;c++){const h=c+1;n.push(`${h===e?">":" "} ${h}: ${t[c]}`)}return n.join("\n")}(o.getShaderSource(e),c)}return r}function db(o,e){const t=function HM(o){switch(o){case Sa:return["Linear","( value )"];case Pi:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",o),["Linear","( value )"]}}(e);return"vec4 "+o+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function m_(o,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+o+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function Uh(o){return""!==o}function A_(o,e){return o.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function qm(o,e){return o.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const fb=/^[ \t]*#include +<([\w\d./]+)>/gm;function Eg(o){return o.replace(fb,I_)}function I_(o,e){const t=ii[e];if(void 0===t)throw new Error("Can not resolve #include <"+e+">");return Eg(t)}const pd=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,gb=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function __(o){return o.replace(gb,y_).replace(pd,v_)}function v_(o,e,t,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),y_(0,e,t,n)}function y_(o,e,t,n){let r="";for(let a=parseInt(e);a<parseInt(t);a++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function Km(o){let e="precision "+o.precision+" float;\nprecision "+o.precision+" int;";return"highp"===o.precision?e+="\n#define HIGH_PRECISION":"mediump"===o.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===o.precision&&(e+="\n#define LOW_PRECISION"),e}function b_(o,e,t,n){const r=o.getContext(),a=t.defines;let c=t.vertexShader,h=t.fragmentShader;const p=function zM(o){let e="SHADOWMAP_TYPE_BASIC";return 1===o.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===o.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===o.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),m=function Jm(o){let e="ENVMAP_TYPE_CUBE";if(o.envMap)switch(o.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),I=function Qm(o){let e="ENVMAP_MODE_REFLECTION";return o.envMap&&302===o.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),_=function Ba(o){let e="ENVMAP_BLENDING_NONE";if(o.envMap)switch(o.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),b=function pb(o){const e=o.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}(t),M=t.isWebGL2?"":function hb(o){return[o.extensionDerivatives||o.envMapCubeUVHeight||o.bumpMap||o.tangentSpaceNormalMap||o.clearcoatNormalMap||o.flatShading||"physical"===o.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(o.extensionFragDepth||o.logarithmicDepthBuffer)&&o.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",o.extensionDrawBuffers&&o.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(o.extensionShaderTextureLOD||o.envMap||o.transmission)&&o.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Uh).join("\n")}(t),P=function Gr(o){const e=[];for(const t in o){const n=o[t];!1!==n&&e.push("#define "+t+" "+n)}return e.join("\n")}(a),E=r.createProgram();let D,z,W=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(D=[P].filter(Uh).join("\n"),D.length>0&&(D+="\n"),z=[M,P].filter(Uh).join("\n"),z.length>0&&(z+="\n")):(D=[Km(t),"#define SHADER_NAME "+t.shaderName,P,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+I:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+p:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Uh).join("\n"),z=[M,Km(t),"#define SHADER_NAME "+t.shaderName,P,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.envMap?"#define "+I:"",t.envMap?"#define "+_:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+p:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?ii.tonemapping_pars_fragment:"",0!==t.toneMapping?m_("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ii.encodings_pars_fragment,db("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(Uh).join("\n")),c=Eg(c),c=A_(c,t),c=qm(c,t),h=Eg(h),h=A_(h,t),h=qm(h,t),c=__(c),h=__(h),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(W="#version 300 es\n",D=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+D,z=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+z);const Y=W+z+h,de=Ym(r,35633,W+D+c),fe=Ym(r,35632,Y);if(r.attachShader(E,de),r.attachShader(E,fe),void 0!==t.index0AttributeName?r.bindAttribLocation(E,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(E,0,"position"),r.linkProgram(E),o.debug.checkShaderErrors){const Ae=r.getProgramInfoLog(E).trim(),Ve=r.getShaderInfoLog(de).trim(),Ze=r.getShaderInfoLog(fe).trim();let St=!0,Nt=!0;if(!1===r.getProgramParameter(E,35714)){St=!1;const Qe=p_(r,de,"vertex"),yt=p_(r,fe,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(E,35715)+"\n\nProgram Info Log: "+Ae+"\n"+Qe+"\n"+yt)}else""!==Ae?console.warn("THREE.WebGLProgram: Program Info Log:",Ae):(""===Ve||""===Ze)&&(Nt=!1);Nt&&(this.diagnostics={runnable:St,programLog:Ae,vertexShader:{log:Ve,prefix:D},fragmentShader:{log:Ze,prefix:z}})}let Ee,Q;return r.deleteShader(de),r.deleteShader(fe),this.getUniforms=function(){return void 0===Ee&&(Ee=new Bh(r,E)),Ee},this.getAttributes=function(){return void 0===Q&&(Q=function C_(o,e){const t={},n=o.getProgramParameter(e,35721);for(let r=0;r<n;r++){const a=o.getActiveAttrib(e,r),c=a.name;let h=1;35674===a.type&&(h=2),35675===a.type&&(h=3),35676===a.type&&(h=4),t[c]={type:a.type,location:o.getAttribLocation(e,c),locationSize:h}}return t}(r,E)),Q},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(E),this.program=void 0},this.name=t.shaderName,this.id=f_++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=de,this.fragmentShader=fe,this}let Ua=0;class ea{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.fragmentShader,r=this._getShaderStage(e.vertexShader),a=this._getShaderStage(n),c=this._getShaderCacheForMaterial(e);return!1===c.has(r)&&(c.add(r),r.usedTimes++),!1===c.has(a)&&(c.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const n=new ta(e);t.set(e,n)}return t.get(e)}}class ta{constructor(e){this.id=Ua++,this.code=e,this.usedTimes=0}}function x_(o,e,t,n,r,a,c){const h=new tm,p=new ea,m=[],I=r.isWebGL2,_=r.logarithmicDepthBuffer,b=r.vertexTextures;let M=r.precision;const P={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function E(Q,Ae,Ve,Ze,St){const Nt=Ze.fog,Qe=St.geometry,ke=(Q.isMeshStandardMaterial?t:e).get(Q.envMap||(Q.isMeshStandardMaterial?Ze.environment:null)),et=ke&&306===ke.mapping?ke.image.height:null,it=P[Q.type];null!==Q.precision&&(M=r.getMaxPrecision(Q.precision),M!==Q.precision&&console.warn("THREE.WebGLProgram.getParameters:",Q.precision,"not supported, using",M,"instead."));const Je=Qe.morphAttributes.position||Qe.morphAttributes.normal||Qe.morphAttributes.color,dt=void 0!==Je?Je.length:0;let Ot,Gt,Zt,Fn,kt=0;if(void 0!==Qe.morphAttributes.position&&(kt=1),void 0!==Qe.morphAttributes.normal&&(kt=2),void 0!==Qe.morphAttributes.color&&(kt=3),it){const li=oo[it];Ot=li.vertexShader,Gt=li.fragmentShader}else Ot=Q.vertexShader,Gt=Q.fragmentShader,p.update(Q),Zt=p.getVertexShaderID(Q),Fn=p.getFragmentShaderID(Q);const Et=o.getRenderTarget(),yn=Q.clearcoat>0,bn=Q.iridescence>0;return{isWebGL2:I,shaderID:it,shaderName:Q.type,vertexShader:Ot,fragmentShader:Gt,defines:Q.defines,customVertexShaderID:Zt,customFragmentShaderID:Fn,isRawShaderMaterial:!0===Q.isRawShaderMaterial,glslVersion:Q.glslVersion,precision:M,instancing:!0===St.isInstancedMesh,instancingColor:!0===St.isInstancedMesh&&null!==St.instanceColor,supportsVertexTextures:b,outputEncoding:null===Et?o.outputEncoding:!0===Et.isXRRenderTarget?Et.texture.encoding:Sa,map:!!Q.map,matcap:!!Q.matcap,envMap:!!ke,envMapMode:ke&&ke.mapping,envMapCubeUVHeight:et,lightMap:!!Q.lightMap,aoMap:!!Q.aoMap,emissiveMap:!!Q.emissiveMap,bumpMap:!!Q.bumpMap,normalMap:!!Q.normalMap,objectSpaceNormalMap:1===Q.normalMapType,tangentSpaceNormalMap:0===Q.normalMapType,decodeVideoTexture:!!Q.map&&!0===Q.map.isVideoTexture&&Q.map.encoding===Pi,clearcoat:yn,clearcoatMap:yn&&!!Q.clearcoatMap,clearcoatRoughnessMap:yn&&!!Q.clearcoatRoughnessMap,clearcoatNormalMap:yn&&!!Q.clearcoatNormalMap,iridescence:bn,iridescenceMap:bn&&!!Q.iridescenceMap,iridescenceThicknessMap:bn&&!!Q.iridescenceThicknessMap,displacementMap:!!Q.displacementMap,roughnessMap:!!Q.roughnessMap,metalnessMap:!!Q.metalnessMap,specularMap:!!Q.specularMap,specularIntensityMap:!!Q.specularIntensityMap,specularColorMap:!!Q.specularColorMap,opaque:!1===Q.transparent&&1===Q.blending,alphaMap:!!Q.alphaMap,alphaTest:Q.alphaTest>0,gradientMap:!!Q.gradientMap,sheen:Q.sheen>0,sheenColorMap:!!Q.sheenColorMap,sheenRoughnessMap:!!Q.sheenRoughnessMap,transmission:Q.transmission>0,transmissionMap:!!Q.transmissionMap,thicknessMap:!!Q.thicknessMap,combine:Q.combine,vertexTangents:!!Q.normalMap&&!!Qe.attributes.tangent,vertexColors:Q.vertexColors,vertexAlphas:!0===Q.vertexColors&&!!Qe.attributes.color&&4===Qe.attributes.color.itemSize,vertexUvs:!!(Q.map||Q.bumpMap||Q.normalMap||Q.specularMap||Q.alphaMap||Q.emissiveMap||Q.roughnessMap||Q.metalnessMap||Q.clearcoatMap||Q.clearcoatRoughnessMap||Q.clearcoatNormalMap||Q.iridescenceMap||Q.iridescenceThicknessMap||Q.displacementMap||Q.transmissionMap||Q.thicknessMap||Q.specularIntensityMap||Q.specularColorMap||Q.sheenColorMap||Q.sheenRoughnessMap),uvsVertexOnly:!(Q.map||Q.bumpMap||Q.normalMap||Q.specularMap||Q.alphaMap||Q.emissiveMap||Q.roughnessMap||Q.metalnessMap||Q.clearcoatNormalMap||Q.iridescenceMap||Q.iridescenceThicknessMap||Q.transmission>0||Q.transmissionMap||Q.thicknessMap||Q.specularIntensityMap||Q.specularColorMap||Q.sheen>0||Q.sheenColorMap||Q.sheenRoughnessMap||!Q.displacementMap),fog:!!Nt,useFog:!0===Q.fog,fogExp2:Nt&&Nt.isFogExp2,flatShading:!!Q.flatShading,sizeAttenuation:Q.sizeAttenuation,logarithmicDepthBuffer:_,skinning:!0===St.isSkinnedMesh,morphTargets:void 0!==Qe.morphAttributes.position,morphNormals:void 0!==Qe.morphAttributes.normal,morphColors:void 0!==Qe.morphAttributes.color,morphTargetsCount:dt,morphTextureStride:kt,numDirLights:Ae.directional.length,numPointLights:Ae.point.length,numSpotLights:Ae.spot.length,numRectAreaLights:Ae.rectArea.length,numHemiLights:Ae.hemi.length,numDirLightShadows:Ae.directionalShadowMap.length,numPointLightShadows:Ae.pointShadowMap.length,numSpotLightShadows:Ae.spotShadowMap.length,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:Q.dithering,shadowMapEnabled:o.shadowMap.enabled&&Ve.length>0,shadowMapType:o.shadowMap.type,toneMapping:Q.toneMapped?o.toneMapping:0,physicallyCorrectLights:o.physicallyCorrectLights,premultipliedAlpha:Q.premultipliedAlpha,doubleSided:2===Q.side,flipSided:1===Q.side,useDepthPacking:!!Q.depthPacking,depthPacking:Q.depthPacking||0,index0AttributeName:Q.index0AttributeName,extensionDerivatives:Q.extensions&&Q.extensions.derivatives,extensionFragDepth:Q.extensions&&Q.extensions.fragDepth,extensionDrawBuffers:Q.extensions&&Q.extensions.drawBuffers,extensionShaderTextureLOD:Q.extensions&&Q.extensions.shaderTextureLOD,rendererExtensionFragDepth:I||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:I||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:I||n.has("EXT_shader_texture_lod"),customProgramCacheKey:Q.customProgramCacheKey()}},getProgramCacheKey:function D(Q){const Ae=[];if(Q.shaderID?Ae.push(Q.shaderID):(Ae.push(Q.customVertexShaderID),Ae.push(Q.customFragmentShaderID)),void 0!==Q.defines)for(const Ve in Q.defines)Ae.push(Ve),Ae.push(Q.defines[Ve]);return!1===Q.isRawShaderMaterial&&(function z(Q,Ae){Q.push(Ae.precision),Q.push(Ae.outputEncoding),Q.push(Ae.envMapMode),Q.push(Ae.envMapCubeUVHeight),Q.push(Ae.combine),Q.push(Ae.vertexUvs),Q.push(Ae.fogExp2),Q.push(Ae.sizeAttenuation),Q.push(Ae.morphTargetsCount),Q.push(Ae.morphAttributeCount),Q.push(Ae.numDirLights),Q.push(Ae.numPointLights),Q.push(Ae.numSpotLights),Q.push(Ae.numHemiLights),Q.push(Ae.numRectAreaLights),Q.push(Ae.numDirLightShadows),Q.push(Ae.numPointLightShadows),Q.push(Ae.numSpotLightShadows),Q.push(Ae.shadowMapType),Q.push(Ae.toneMapping),Q.push(Ae.numClippingPlanes),Q.push(Ae.numClipIntersection),Q.push(Ae.depthPacking)}(Ae,Q),function W(Q,Ae){h.disableAll(),Ae.isWebGL2&&h.enable(0),Ae.supportsVertexTextures&&h.enable(1),Ae.instancing&&h.enable(2),Ae.instancingColor&&h.enable(3),Ae.map&&h.enable(4),Ae.matcap&&h.enable(5),Ae.envMap&&h.enable(6),Ae.lightMap&&h.enable(7),Ae.aoMap&&h.enable(8),Ae.emissiveMap&&h.enable(9),Ae.bumpMap&&h.enable(10),Ae.normalMap&&h.enable(11),Ae.objectSpaceNormalMap&&h.enable(12),Ae.tangentSpaceNormalMap&&h.enable(13),Ae.clearcoat&&h.enable(14),Ae.clearcoatMap&&h.enable(15),Ae.clearcoatRoughnessMap&&h.enable(16),Ae.clearcoatNormalMap&&h.enable(17),Ae.iridescence&&h.enable(18),Ae.iridescenceMap&&h.enable(19),Ae.iridescenceThicknessMap&&h.enable(20),Ae.displacementMap&&h.enable(21),Ae.specularMap&&h.enable(22),Ae.roughnessMap&&h.enable(23),Ae.metalnessMap&&h.enable(24),Ae.gradientMap&&h.enable(25),Ae.alphaMap&&h.enable(26),Ae.alphaTest&&h.enable(27),Ae.vertexColors&&h.enable(28),Ae.vertexAlphas&&h.enable(29),Ae.vertexUvs&&h.enable(30),Ae.vertexTangents&&h.enable(31),Ae.uvsVertexOnly&&h.enable(32),Ae.fog&&h.enable(33),Q.push(h.mask),h.disableAll(),Ae.useFog&&h.enable(0),Ae.flatShading&&h.enable(1),Ae.logarithmicDepthBuffer&&h.enable(2),Ae.skinning&&h.enable(3),Ae.morphTargets&&h.enable(4),Ae.morphNormals&&h.enable(5),Ae.morphColors&&h.enable(6),Ae.premultipliedAlpha&&h.enable(7),Ae.shadowMapEnabled&&h.enable(8),Ae.physicallyCorrectLights&&h.enable(9),Ae.doubleSided&&h.enable(10),Ae.flipSided&&h.enable(11),Ae.useDepthPacking&&h.enable(12),Ae.dithering&&h.enable(13),Ae.specularIntensityMap&&h.enable(14),Ae.specularColorMap&&h.enable(15),Ae.transmission&&h.enable(16),Ae.transmissionMap&&h.enable(17),Ae.thicknessMap&&h.enable(18),Ae.sheen&&h.enable(19),Ae.sheenColorMap&&h.enable(20),Ae.sheenRoughnessMap&&h.enable(21),Ae.decodeVideoTexture&&h.enable(22),Ae.opaque&&h.enable(23),Q.push(h.mask)}(Ae,Q),Ae.push(o.outputEncoding)),Ae.push(Q.customProgramCacheKey),Ae.join()},getUniforms:function ee(Q){const Ae=P[Q.type];let Ve;return Ve=Ae?Ph.clone(oo[Ae].uniforms):Q.uniforms,Ve},acquireProgram:function Y(Q,Ae){let Ve;for(let Ze=0,St=m.length;Ze<St;Ze++){const Nt=m[Ze];if(Nt.cacheKey===Ae){Ve=Nt,++Ve.usedTimes;break}}return void 0===Ve&&(Ve=new b_(o,Ae,Q,a),m.push(Ve)),Ve},releaseProgram:function de(Q){if(0==--Q.usedTimes){const Ae=m.indexOf(Q);m[Ae]=m[m.length-1],m.pop(),Q.destroy()}},releaseShaderCache:function fe(Q){p.remove(Q)},programs:m,dispose:function Ee(){p.dispose()}}}function w_(){let o=new WeakMap;return{get:function e(a){let c=o.get(a);return void 0===c&&(c={},o.set(a,c)),c},remove:function t(a){o.delete(a)},update:function n(a,c,h){o.get(a)[c]=h},dispose:function r(){o=new WeakMap}}}function mb(o,e){return o.groupOrder!==e.groupOrder?o.groupOrder-e.groupOrder:o.renderOrder!==e.renderOrder?o.renderOrder-e.renderOrder:o.material.id!==e.material.id?o.material.id-e.material.id:o.z!==e.z?o.z-e.z:o.id-e.id}function M_(o,e){return o.groupOrder!==e.groupOrder?o.groupOrder-e.groupOrder:o.renderOrder!==e.renderOrder?o.renderOrder-e.renderOrder:o.z!==e.z?e.z-o.z:o.id-e.id}function S_(){const o=[];let e=0;const t=[],n=[],r=[];function c(_,b,M,P,E,D){let z=o[e];return void 0===z?(z={id:_.id,object:_,geometry:b,material:M,groupOrder:P,renderOrder:_.renderOrder,z:E,group:D},o[e]=z):(z.id=_.id,z.object=_,z.geometry=b,z.material=M,z.groupOrder=P,z.renderOrder=_.renderOrder,z.z=E,z.group=D),e++,z}return{opaque:t,transmissive:n,transparent:r,init:function a(){e=0,t.length=0,n.length=0,r.length=0},push:function h(_,b,M,P,E,D){const z=c(_,b,M,P,E,D);M.transmission>0?n.push(z):!0===M.transparent?r.push(z):t.push(z)},unshift:function p(_,b,M,P,E,D){const z=c(_,b,M,P,E,D);M.transmission>0?n.unshift(z):!0===M.transparent?r.unshift(z):t.unshift(z)},finish:function I(){for(let _=e,b=o.length;_<b;_++){const M=o[_];if(null===M.id)break;M.id=null,M.object=null,M.geometry=null,M.material=null,M.group=null}},sort:function m(_,b){t.length>1&&t.sort(_||mb),n.length>1&&n.sort(b||M_),r.length>1&&r.sort(b||M_)}}}function Cb(){let o=new WeakMap;return{get:function e(n,r){let a;return!1===o.has(n)?(a=new S_,o.set(n,[a])):r>=o.get(n).length?(a=new S_,o.get(n).push(a)):a=o.get(n)[r],a},dispose:function t(){o=new WeakMap}}}function Xm(){const o={};return{get:function(e){if(void 0!==o[e.id])return o[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new me,color:new Wt};break;case"SpotLight":t={position:new me,direction:new me,color:new Wt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new me,color:new Wt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new me,skyColor:new Wt,groundColor:new Wt};break;case"RectAreaLight":t={color:new Wt,position:new me,halfWidth:new me,halfHeight:new me}}return o[e.id]=t,t}}}let Ab=0;function T_(o,e){return(e.castShadow?1:0)-(o.castShadow?1:0)}function Ib(o,e){const t=new Xm,n=function Vh(){const o={};return{get:function(e){if(void 0!==o[e.id])return o[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Mt,shadowCameraNear:1,shadowCameraFar:1e3}}return o[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let I=0;I<9;I++)r.probe.push(new me);const a=new me,c=new Jn,h=new Jn;return{setup:function p(I,_){let b=0,M=0,P=0;for(let Ae=0;Ae<9;Ae++)r.probe[Ae].set(0,0,0);let E=0,D=0,z=0,W=0,ee=0,Y=0,de=0,fe=0;I.sort(T_);const Ee=!0!==_?Math.PI:1;for(let Ae=0,Ve=I.length;Ae<Ve;Ae++){const Ze=I[Ae],St=Ze.color,Nt=Ze.intensity,Qe=Ze.distance,yt=Ze.shadow&&Ze.shadow.map?Ze.shadow.map.texture:null;if(Ze.isAmbientLight)b+=St.r*Nt*Ee,M+=St.g*Nt*Ee,P+=St.b*Nt*Ee;else if(Ze.isLightProbe)for(let ke=0;ke<9;ke++)r.probe[ke].addScaledVector(Ze.sh.coefficients[ke],Nt);else if(Ze.isDirectionalLight){const ke=t.get(Ze);if(ke.color.copy(Ze.color).multiplyScalar(Ze.intensity*Ee),Ze.castShadow){const et=Ze.shadow,it=n.get(Ze);it.shadowBias=et.bias,it.shadowNormalBias=et.normalBias,it.shadowRadius=et.radius,it.shadowMapSize=et.mapSize,r.directionalShadow[E]=it,r.directionalShadowMap[E]=yt,r.directionalShadowMatrix[E]=Ze.shadow.matrix,Y++}r.directional[E]=ke,E++}else if(Ze.isSpotLight){const ke=t.get(Ze);if(ke.position.setFromMatrixPosition(Ze.matrixWorld),ke.color.copy(St).multiplyScalar(Nt*Ee),ke.distance=Qe,ke.coneCos=Math.cos(Ze.angle),ke.penumbraCos=Math.cos(Ze.angle*(1-Ze.penumbra)),ke.decay=Ze.decay,Ze.castShadow){const et=Ze.shadow,it=n.get(Ze);it.shadowBias=et.bias,it.shadowNormalBias=et.normalBias,it.shadowRadius=et.radius,it.shadowMapSize=et.mapSize,r.spotShadow[z]=it,r.spotShadowMap[z]=yt,r.spotShadowMatrix[z]=Ze.shadow.matrix,fe++}r.spot[z]=ke,z++}else if(Ze.isRectAreaLight){const ke=t.get(Ze);ke.color.copy(St).multiplyScalar(Nt),ke.halfWidth.set(.5*Ze.width,0,0),ke.halfHeight.set(0,.5*Ze.height,0),r.rectArea[W]=ke,W++}else if(Ze.isPointLight){const ke=t.get(Ze);if(ke.color.copy(Ze.color).multiplyScalar(Ze.intensity*Ee),ke.distance=Ze.distance,ke.decay=Ze.decay,Ze.castShadow){const et=Ze.shadow,it=n.get(Ze);it.shadowBias=et.bias,it.shadowNormalBias=et.normalBias,it.shadowRadius=et.radius,it.shadowMapSize=et.mapSize,it.shadowCameraNear=et.camera.near,it.shadowCameraFar=et.camera.far,r.pointShadow[D]=it,r.pointShadowMap[D]=yt,r.pointShadowMatrix[D]=Ze.shadow.matrix,de++}r.point[D]=ke,D++}else if(Ze.isHemisphereLight){const ke=t.get(Ze);ke.skyColor.copy(Ze.color).multiplyScalar(Nt*Ee),ke.groundColor.copy(Ze.groundColor).multiplyScalar(Nt*Ee),r.hemi[ee]=ke,ee++}}W>0&&(e.isWebGL2||!0===o.has("OES_texture_float_linear")?(r.rectAreaLTC1=jt.LTC_FLOAT_1,r.rectAreaLTC2=jt.LTC_FLOAT_2):!0===o.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=jt.LTC_HALF_1,r.rectAreaLTC2=jt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=b,r.ambient[1]=M,r.ambient[2]=P;const Q=r.hash;(Q.directionalLength!==E||Q.pointLength!==D||Q.spotLength!==z||Q.rectAreaLength!==W||Q.hemiLength!==ee||Q.numDirectionalShadows!==Y||Q.numPointShadows!==de||Q.numSpotShadows!==fe)&&(r.directional.length=E,r.spot.length=z,r.rectArea.length=W,r.point.length=D,r.hemi.length=ee,r.directionalShadow.length=Y,r.directionalShadowMap.length=Y,r.pointShadow.length=de,r.pointShadowMap.length=de,r.spotShadow.length=fe,r.spotShadowMap.length=fe,r.directionalShadowMatrix.length=Y,r.pointShadowMatrix.length=de,r.spotShadowMatrix.length=fe,Q.directionalLength=E,Q.pointLength=D,Q.spotLength=z,Q.rectAreaLength=W,Q.hemiLength=ee,Q.numDirectionalShadows=Y,Q.numPointShadows=de,Q.numSpotShadows=fe,r.version=Ab++)},setupView:function m(I,_){let b=0,M=0,P=0,E=0,D=0;const z=_.matrixWorldInverse;for(let W=0,ee=I.length;W<ee;W++){const Y=I[W];if(Y.isDirectionalLight){const de=r.directional[b];de.direction.setFromMatrixPosition(Y.matrixWorld),a.setFromMatrixPosition(Y.target.matrixWorld),de.direction.sub(a),de.direction.transformDirection(z),b++}else if(Y.isSpotLight){const de=r.spot[P];de.position.setFromMatrixPosition(Y.matrixWorld),de.position.applyMatrix4(z),de.direction.setFromMatrixPosition(Y.matrixWorld),a.setFromMatrixPosition(Y.target.matrixWorld),de.direction.sub(a),de.direction.transformDirection(z),P++}else if(Y.isRectAreaLight){const de=r.rectArea[E];de.position.setFromMatrixPosition(Y.matrixWorld),de.position.applyMatrix4(z),h.identity(),c.copy(Y.matrixWorld),c.premultiply(z),h.extractRotation(c),de.halfWidth.set(.5*Y.width,0,0),de.halfHeight.set(0,.5*Y.height,0),de.halfWidth.applyMatrix4(h),de.halfHeight.applyMatrix4(h),E++}else if(Y.isPointLight){const de=r.point[M];de.position.setFromMatrixPosition(Y.matrixWorld),de.position.applyMatrix4(z),M++}else if(Y.isHemisphereLight){const de=r.hemi[D];de.direction.setFromMatrixPosition(Y.matrixWorld),de.direction.transformDirection(z),D++}}},state:r}}function eC(o,e){const t=new Ib(o,e),n=[],r=[];return{init:function a(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:t},setupLights:function p(_){t.setup(n,_)},setupLightsView:function m(_){t.setupView(n,_)},pushLight:function c(_){n.push(_)},pushShadow:function h(_){r.push(_)}}}function E_(o,e){let t=new WeakMap;return{get:function n(a,c=0){let h;return!1===t.has(a)?(h=new eC(o,e),t.set(a,[h])):c>=t.get(a).length?(h=new eC(o,e),t.get(a).push(h)):h=t.get(a)[c],h},dispose:function r(){t=new WeakMap}}}class Hh extends Po{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class D_ extends Po{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new me,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function tC(o,e,t){let n=new ug;const r=new Mt,a=new Mt,c=new bi,h=new Hh({depthPacking:3201}),p=new D_,m={},I=t.maxTextureSize,_={0:1,1:0,2:2},b=new Ws({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Mt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),M=b.clone();M.defines.HORIZONTAL_PASS=1;const P=new Zn;P.setAttribute("position",new Er(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new Dr(P,b),D=this;function z(Y,de){const fe=e.update(E);b.defines.VSM_SAMPLES!==Y.blurSamples&&(b.defines.VSM_SAMPLES=Y.blurSamples,M.defines.VSM_SAMPLES=Y.blurSamples,b.needsUpdate=!0,M.needsUpdate=!0),null===Y.mapPass&&(Y.mapPass=new qo(r.x,r.y)),b.uniforms.shadow_pass.value=Y.map.texture,b.uniforms.resolution.value=Y.mapSize,b.uniforms.radius.value=Y.radius,o.setRenderTarget(Y.mapPass),o.clear(),o.renderBufferDirect(de,null,fe,b,E,null),M.uniforms.shadow_pass.value=Y.mapPass.texture,M.uniforms.resolution.value=Y.mapSize,M.uniforms.radius.value=Y.radius,o.setRenderTarget(Y.map),o.clear(),o.renderBufferDirect(de,null,fe,M,E,null)}function W(Y,de,fe,Ee,Q,Ae){let Ve=null;const Ze=!0===fe.isPointLight?Y.customDistanceMaterial:Y.customDepthMaterial;if(Ve=void 0!==Ze?Ze:!0===fe.isPointLight?p:h,o.localClippingEnabled&&!0===de.clipShadows&&Array.isArray(de.clippingPlanes)&&0!==de.clippingPlanes.length||de.displacementMap&&0!==de.displacementScale||de.alphaMap&&de.alphaTest>0){const St=Ve.uuid,Nt=de.uuid;let Qe=m[St];void 0===Qe&&(Qe={},m[St]=Qe);let yt=Qe[Nt];void 0===yt&&(yt=Ve.clone(),Qe[Nt]=yt),Ve=yt}return Ve.visible=de.visible,Ve.wireframe=de.wireframe,Ve.side=3===Ae?null!==de.shadowSide?de.shadowSide:de.side:null!==de.shadowSide?de.shadowSide:_[de.side],Ve.alphaMap=de.alphaMap,Ve.alphaTest=de.alphaTest,Ve.clipShadows=de.clipShadows,Ve.clippingPlanes=de.clippingPlanes,Ve.clipIntersection=de.clipIntersection,Ve.displacementMap=de.displacementMap,Ve.displacementScale=de.displacementScale,Ve.displacementBias=de.displacementBias,Ve.wireframeLinewidth=de.wireframeLinewidth,Ve.linewidth=de.linewidth,!0===fe.isPointLight&&!0===Ve.isMeshDistanceMaterial&&(Ve.referencePosition.setFromMatrixPosition(fe.matrixWorld),Ve.nearDistance=Ee,Ve.farDistance=Q),Ve}function ee(Y,de,fe,Ee,Q){if(!1===Y.visible)return;if(Y.layers.test(de.layers)&&(Y.isMesh||Y.isLine||Y.isPoints)&&(Y.castShadow||Y.receiveShadow&&3===Q)&&(!Y.frustumCulled||n.intersectsObject(Y))){Y.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,Y.matrixWorld);const Ze=e.update(Y),St=Y.material;if(Array.isArray(St)){const Nt=Ze.groups;for(let Qe=0,yt=Nt.length;Qe<yt;Qe++){const ke=Nt[Qe],et=St[ke.materialIndex];if(et&&et.visible){const it=W(Y,et,Ee,fe.near,fe.far,Q);o.renderBufferDirect(fe,null,Ze,it,Y,ke)}}}else if(St.visible){const Nt=W(Y,St,Ee,fe.near,fe.far,Q);o.renderBufferDirect(fe,null,Ze,Nt,Y,null)}}const Ve=Y.children;for(let Ze=0,St=Ve.length;Ze<St;Ze++)ee(Ve[Ze],de,fe,Ee,Q)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(Y,de,fe){if(!1===D.enabled||!1===D.autoUpdate&&!1===D.needsUpdate||0===Y.length)return;const Ee=o.getRenderTarget(),Q=o.getActiveCubeFace(),Ae=o.getActiveMipmapLevel(),Ve=o.state;Ve.setBlending(0),Ve.buffers.color.setClear(1,1,1,1),Ve.buffers.depth.setTest(!0),Ve.setScissorTest(!1);for(let Ze=0,St=Y.length;Ze<St;Ze++){const Nt=Y[Ze],Qe=Nt.shadow;if(void 0===Qe){console.warn("THREE.WebGLShadowMap:",Nt,"has no shadow.");continue}if(!1===Qe.autoUpdate&&!1===Qe.needsUpdate)continue;r.copy(Qe.mapSize);const yt=Qe.getFrameExtents();r.multiply(yt),a.copy(Qe.mapSize),(r.x>I||r.y>I)&&(r.x>I&&(a.x=Math.floor(I/yt.x),r.x=a.x*yt.x,Qe.mapSize.x=a.x),r.y>I&&(a.y=Math.floor(I/yt.y),r.y=a.y*yt.y,Qe.mapSize.y=a.y)),null===Qe.map&&(Qe.map=new qo(r.x,r.y,3!==this.type?{minFilter:pr,magFilter:pr}:{}),Qe.map.texture.name=Nt.name+".shadowMap",Qe.camera.updateProjectionMatrix()),o.setRenderTarget(Qe.map),o.clear();const ke=Qe.getViewportCount();for(let et=0;et<ke;et++){const it=Qe.getViewport(et);c.set(a.x*it.x,a.y*it.y,a.x*it.z,a.y*it.w),Ve.viewport(c),Qe.updateMatrices(Nt,et),n=Qe.getFrustum(),ee(de,fe,Qe.camera,Nt,this.type)}!0!==Qe.isPointLightShadow&&3===this.type&&z(Qe,fe),Qe.needsUpdate=!1}D.needsUpdate=!1,o.setRenderTarget(Ee,Q,Ae)}}function Dg(o,e,t){const n=t.isWebGL2,h=new function r(){let Ye=!1;const pn=new bi;let wt=null;const fn=new bi(0,0,0,0);return{setMask:function(cn){wt!==cn&&!Ye&&(o.colorMask(cn,cn,cn,cn),wt=cn)},setLocked:function(cn){Ye=cn},setClear:function(cn,Oi,vs,jr,$d){!0===$d&&(cn*=jr,Oi*=jr,vs*=jr),pn.set(cn,Oi,vs,jr),!1===fn.equals(pn)&&(o.clearColor(cn,Oi,vs,jr),fn.copy(pn))},reset:function(){Ye=!1,wt=null,fn.set(-1,0,0,0)}}},p=new function a(){let Ye=!1,pn=null,wt=null,fn=null;return{setTest:function(cn){cn?Mn(2929):yn(2929)},setMask:function(cn){pn!==cn&&!Ye&&(o.depthMask(cn),pn=cn)},setFunc:function(cn){if(wt!==cn){if(cn)switch(cn){case 0:o.depthFunc(512);break;case 1:o.depthFunc(519);break;case 2:o.depthFunc(513);break;case 3:default:o.depthFunc(515);break;case 4:o.depthFunc(514);break;case 5:o.depthFunc(518);break;case 6:o.depthFunc(516);break;case 7:o.depthFunc(517)}else o.depthFunc(515);wt=cn}},setLocked:function(cn){Ye=cn},setClear:function(cn){fn!==cn&&(o.clearDepth(cn),fn=cn)},reset:function(){Ye=!1,pn=null,wt=null,fn=null}}},m=new function c(){let Ye=!1,pn=null,wt=null,fn=null,cn=null,Oi=null,vs=null,jr=null,$d=null;return{setTest:function(Rr){Ye||(Rr?Mn(2960):yn(2960))},setMask:function(Rr){pn!==Rr&&!Ye&&(o.stencilMask(Rr),pn=Rr)},setFunc:function(Rr,Eu,$a){(wt!==Rr||fn!==Eu||cn!==$a)&&(o.stencilFunc(Rr,Eu,$a),wt=Rr,fn=Eu,cn=$a)},setOp:function(Rr,Eu,$a){(Oi!==Rr||vs!==Eu||jr!==$a)&&(o.stencilOp(Rr,Eu,$a),Oi=Rr,vs=Eu,jr=$a)},setLocked:function(Rr){Ye=Rr},setClear:function(Rr){$d!==Rr&&(o.clearStencil(Rr),$d=Rr)},reset:function(){Ye=!1,pn=null,wt=null,fn=null,cn=null,Oi=null,vs=null,jr=null,$d=null}}},I=new WeakMap,_=new WeakMap;let b={},M={},P=new WeakMap,E=[],D=null,z=!1,W=null,ee=null,Y=null,de=null,fe=null,Ee=null,Q=null,Ae=!1,Ve=null,Ze=null,St=null,Nt=null,Qe=null;const yt=o.getParameter(35661);let ke=!1,et=0;const it=o.getParameter(7938);-1!==it.indexOf("WebGL")?(et=parseFloat(/^WebGL (\d)/.exec(it)[1]),ke=et>=1):-1!==it.indexOf("OpenGL ES")&&(et=parseFloat(/^OpenGL ES (\d)/.exec(it)[1]),ke=et>=2);let Je=null,dt={};const kt=o.getParameter(3088),Ot=o.getParameter(2978),Gt=(new bi).fromArray(kt),Zt=(new bi).fromArray(Ot);function Fn(Ye,pn,wt){const fn=new Uint8Array(4),cn=o.createTexture();o.bindTexture(Ye,cn),o.texParameteri(Ye,10241,9728),o.texParameteri(Ye,10240,9728);for(let Oi=0;Oi<wt;Oi++)o.texImage2D(pn+Oi,0,6408,1,1,0,6408,5121,fn);return cn}const Et={};function Mn(Ye){!0!==b[Ye]&&(o.enable(Ye),b[Ye]=!0)}function yn(Ye){!1!==b[Ye]&&(o.disable(Ye),b[Ye]=!1)}Et[3553]=Fn(3553,3553,1),Et[34067]=Fn(34067,34069,6),h.setClear(0,0,0,1),p.setClear(1),m.setClear(0),Mn(2929),p.setFunc(3),on(!1),ri(1),Mn(2884),qt(0);const Lt={[w]:32774,101:32778,102:32779};if(n)Lt[103]=32775,Lt[104]=32776;else{const Ye=e.get("EXT_blend_minmax");null!==Ye&&(Lt[103]=Ye.MIN_EXT,Lt[104]=Ye.MAX_EXT)}const Dt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function qt(Ye,pn,wt,fn,cn,Oi,vs,jr){if(0!==Ye){if(!1===z&&(Mn(3042),z=!0),5===Ye)cn=cn||pn,Oi=Oi||wt,vs=vs||fn,(pn!==ee||cn!==fe)&&(o.blendEquationSeparate(Lt[pn],Lt[cn]),ee=pn,fe=cn),(wt!==Y||fn!==de||Oi!==Ee||vs!==Q)&&(o.blendFuncSeparate(Dt[wt],Dt[fn],Dt[Oi],Dt[vs]),Y=wt,de=fn,Ee=Oi,Q=vs),W=Ye,Ae=null;else if(Ye!==W||jr!==Ae){if((ee!==w||fe!==w)&&(o.blendEquation(32774),ee=w,fe=w),jr)switch(Ye){case 1:o.blendFuncSeparate(1,771,1,771);break;case 2:o.blendFunc(1,1);break;case 3:o.blendFuncSeparate(0,769,0,1);break;case 4:o.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ye)}else switch(Ye){case 1:o.blendFuncSeparate(770,771,1,771);break;case 2:o.blendFunc(770,1);break;case 3:o.blendFuncSeparate(0,769,0,1);break;case 4:o.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ye)}Y=null,de=null,Ee=null,Q=null,W=Ye,Ae=jr}}else!0===z&&(yn(3042),z=!1)}function on(Ye){Ve!==Ye&&(o.frontFace(Ye?2304:2305),Ve=Ye)}function ri(Ye){0!==Ye?(Mn(2884),Ye!==Ze&&o.cullFace(1===Ye?1029:2===Ye?1028:1032)):yn(2884),Ze=Ye}function Nn(Ye,pn,wt){Ye?(Mn(32823),(Nt!==pn||Qe!==wt)&&(o.polygonOffset(pn,wt),Nt=pn,Qe=wt)):yn(32823)}function tr(Ye){void 0===Ye&&(Ye=33984+yt-1),Je!==Ye&&(o.activeTexture(Ye),Je=Ye)}return{buffers:{color:h,depth:p,stencil:m},enable:Mn,disable:yn,bindFramebuffer:function bn(Ye,pn){return M[Ye]!==pn&&(o.bindFramebuffer(Ye,pn),M[Ye]=pn,n&&(36009===Ye&&(M[36160]=pn),36160===Ye&&(M[36009]=pn)),!0)},drawBuffers:function tn(Ye,pn){let wt=E,fn=!1;if(Ye)if(wt=P.get(pn),void 0===wt&&(wt=[],P.set(pn,wt)),Ye.isWebGLMultipleRenderTargets){const cn=Ye.texture;if(wt.length!==cn.length||36064!==wt[0]){for(let Oi=0,vs=cn.length;Oi<vs;Oi++)wt[Oi]=36064+Oi;wt.length=cn.length,fn=!0}}else 36064!==wt[0]&&(wt[0]=36064,fn=!0);else 1029!==wt[0]&&(wt[0]=1029,fn=!0);fn&&(t.isWebGL2?o.drawBuffers(wt):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(wt))},useProgram:function li(Ye){return D!==Ye&&(o.useProgram(Ye),D=Ye,!0)},setBlending:qt,setMaterial:function vn(Ye,pn){2===Ye.side?yn(2884):Mn(2884);let wt=1===Ye.side;pn&&(wt=!wt),on(wt),1===Ye.blending&&!1===Ye.transparent?qt(0):qt(Ye.blending,Ye.blendEquation,Ye.blendSrc,Ye.blendDst,Ye.blendEquationAlpha,Ye.blendSrcAlpha,Ye.blendDstAlpha,Ye.premultipliedAlpha),p.setFunc(Ye.depthFunc),p.setTest(Ye.depthTest),p.setMask(Ye.depthWrite),h.setMask(Ye.colorWrite);const fn=Ye.stencilWrite;m.setTest(fn),fn&&(m.setMask(Ye.stencilWriteMask),m.setFunc(Ye.stencilFunc,Ye.stencilRef,Ye.stencilFuncMask),m.setOp(Ye.stencilFail,Ye.stencilZFail,Ye.stencilZPass)),Nn(Ye.polygonOffset,Ye.polygonOffsetFactor,Ye.polygonOffsetUnits),!0===Ye.alphaToCoverage?Mn(32926):yn(32926)},setFlipSided:on,setCullFace:ri,setLineWidth:function Hn(Ye){Ye!==St&&(ke&&o.lineWidth(Ye),St=Ye)},setPolygonOffset:Nn,setScissorTest:function Cr(Ye){Ye?Mn(3089):yn(3089)},activeTexture:tr,bindTexture:function De(Ye,pn){null===Je&&tr();let wt=dt[Je];void 0===wt&&(wt={type:void 0,texture:void 0},dt[Je]=wt),(wt.type!==Ye||wt.texture!==pn)&&(o.bindTexture(Ye,pn||Et[Ye]),wt.type=Ye,wt.texture=pn)},unbindTexture:function pe(){const Ye=dt[Je];void 0!==Ye&&void 0!==Ye.type&&(o.bindTexture(Ye.type,null),Ye.type=void 0,Ye.texture=void 0)},compressedTexImage2D:function At(){try{o.compressedTexImage2D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},texImage2D:function Sn(){try{o.texImage2D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},texImage3D:function mn(){try{o.texImage3D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},updateUBOMapping:function ci(Ye,pn){let wt=_.get(pn);void 0===wt&&(wt=new WeakMap,_.set(pn,wt));let fn=wt.get(Ye);void 0===fn&&(fn=o.getUniformBlockIndex(pn,Ye.name),wt.set(Ye,fn))},uniformBlockBinding:function Vi(Ye,pn){const fn=_.get(pn).get(Ye);I.get(Ye)!==fn&&(o.uniformBlockBinding(pn,fn,Ye.__bindingPointIndex),I.set(Ye,fn))},texStorage2D:function Yn(){try{o.texStorage2D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},texStorage3D:function It(){try{o.texStorage3D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},texSubImage2D:function Ht(){try{o.texSubImage2D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},texSubImage3D:function Kt(){try{o.texSubImage3D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},compressedTexSubImage2D:function ln(){try{o.compressedTexSubImage2D.apply(o,arguments)}catch(Ye){console.error("THREE.WebGLState:",Ye)}},scissor:function Pn(Ye){!1===Gt.equals(Ye)&&(o.scissor(Ye.x,Ye.y,Ye.z,Ye.w),Gt.copy(Ye))},viewport:function In(Ye){!1===Zt.equals(Ye)&&(o.viewport(Ye.x,Ye.y,Ye.z,Ye.w),Zt.copy(Ye))},reset:function Wr(){o.disable(3042),o.disable(2884),o.disable(2929),o.disable(32823),o.disable(3089),o.disable(2960),o.disable(32926),o.blendEquation(32774),o.blendFunc(1,0),o.blendFuncSeparate(1,0,1,0),o.colorMask(!0,!0,!0,!0),o.clearColor(0,0,0,0),o.depthMask(!0),o.depthFunc(513),o.clearDepth(1),o.stencilMask(4294967295),o.stencilFunc(519,0,4294967295),o.stencilOp(7680,7680,7680),o.clearStencil(0),o.cullFace(1029),o.frontFace(2305),o.polygonOffset(0,0),o.activeTexture(33984),o.bindFramebuffer(36160,null),!0===n&&(o.bindFramebuffer(36009,null),o.bindFramebuffer(36008,null)),o.useProgram(null),o.lineWidth(1),o.scissor(0,0,o.canvas.width,o.canvas.height),o.viewport(0,0,o.canvas.width,o.canvas.height),b={},Je=null,dt={},M={},P=new WeakMap,E=[],D=null,z=!1,W=null,ee=null,Y=null,de=null,fe=null,Ee=null,Q=null,Ae=!1,Ve=null,Ze=null,St=null,Nt=null,Qe=null,Gt.set(0,0,o.canvas.width,o.canvas.height),Zt.set(0,0,o.canvas.width,o.canvas.height),h.reset(),p.reset(),m.reset()}}}function nC(o,e,t,n,r,a,c){const h=r.isWebGL2,p=r.maxTextures,m=r.maxCubemapSize,I=r.maxTextureSize,_=r.maxSamples,b=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,M=/OculusBrowser/g.test(navigator.userAgent),P=new WeakMap;let E;const D=new WeakMap;let z=!1;try{z=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function W(De,pe){return z?new OffscreenCanvas(De,pe):jc("canvas")}function ee(De,pe,At,Ht){let Kt=1;if((De.width>Ht||De.height>Ht)&&(Kt=Ht/Math.max(De.width,De.height)),Kt<1||!0===pe){if(typeof HTMLImageElement<"u"&&De instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&De instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&De instanceof ImageBitmap){const ln=pe?Wp:Math.floor,Yn=ln(Kt*De.width),It=ln(Kt*De.height);void 0===E&&(E=W(Yn,It));const Sn=At?W(Yn,It):E;return Sn.width=Yn,Sn.height=It,Sn.getContext("2d").drawImage(De,0,0,Yn,It),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+De.width+"x"+De.height+") to ("+Yn+"x"+It+")."),Sn}return"data"in De&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+De.width+"x"+De.height+")."),De}return De}function Y(De){return Wc(De.width)&&Wc(De.height)}function fe(De,pe){return De.generateMipmaps&&pe&&De.minFilter!==pr&&De.minFilter!==Qi}function Ee(De){o.generateMipmap(De)}function Q(De,pe,At,Ht,Kt=!1){if(!1===h)return pe;if(null!==De){if(void 0!==o[De])return o[De];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+De+"'")}let ln=pe;return 6403===pe&&(5126===At&&(ln=33326),5131===At&&(ln=33325),5121===At&&(ln=33321)),33319===pe&&(5126===At&&(ln=33328),5131===At&&(ln=33327),5121===At&&(ln=33323)),6408===pe&&(5126===At&&(ln=34836),5131===At&&(ln=34842),5121===At&&(ln=Ht===Pi&&!1===Kt?35907:32856),32819===At&&(ln=32854),32820===At&&(ln=32855)),(33325===ln||33326===ln||33327===ln||33328===ln||34842===ln||34836===ln)&&e.get("EXT_color_buffer_float"),ln}function Ae(De,pe,At){return!0===fe(De,At)||De.isFramebufferTexture&&De.minFilter!==pr&&De.minFilter!==Qi?Math.log2(Math.max(pe.width,pe.height))+1:void 0!==De.mipmaps&&De.mipmaps.length>0?De.mipmaps.length:De.isCompressedTexture&&Array.isArray(De.image)?pe.mipmaps.length:1}function Ve(De){return De===pr||1004===De||1005===De?9728:9729}function Ze(De){const pe=De.target;pe.removeEventListener("dispose",Ze),function Nt(De){const pe=n.get(De);if(void 0===pe.__webglInit)return;const At=De.source,Ht=D.get(At);if(Ht){const Kt=Ht[pe.__cacheKey];Kt.usedTimes--,0===Kt.usedTimes&&Qe(De),0===Object.keys(Ht).length&&D.delete(At)}n.remove(De)}(pe),pe.isVideoTexture&&P.delete(pe)}function St(De){const pe=De.target;pe.removeEventListener("dispose",St),function yt(De){const pe=De.texture,At=n.get(De),Ht=n.get(pe);if(void 0!==Ht.__webglTexture&&(o.deleteTexture(Ht.__webglTexture),c.memory.textures--),De.depthTexture&&De.depthTexture.dispose(),De.isWebGLCubeRenderTarget)for(let Kt=0;Kt<6;Kt++)o.deleteFramebuffer(At.__webglFramebuffer[Kt]),At.__webglDepthbuffer&&o.deleteRenderbuffer(At.__webglDepthbuffer[Kt]);else{if(o.deleteFramebuffer(At.__webglFramebuffer),At.__webglDepthbuffer&&o.deleteRenderbuffer(At.__webglDepthbuffer),At.__webglMultisampledFramebuffer&&o.deleteFramebuffer(At.__webglMultisampledFramebuffer),At.__webglColorRenderbuffer)for(let Kt=0;Kt<At.__webglColorRenderbuffer.length;Kt++)At.__webglColorRenderbuffer[Kt]&&o.deleteRenderbuffer(At.__webglColorRenderbuffer[Kt]);At.__webglDepthRenderbuffer&&o.deleteRenderbuffer(At.__webglDepthRenderbuffer)}if(De.isWebGLMultipleRenderTargets)for(let Kt=0,ln=pe.length;Kt<ln;Kt++){const Yn=n.get(pe[Kt]);Yn.__webglTexture&&(o.deleteTexture(Yn.__webglTexture),c.memory.textures--),n.remove(pe[Kt])}n.remove(pe),n.remove(De)}(pe)}function Qe(De){const pe=n.get(De);o.deleteTexture(pe.__webglTexture),delete D.get(De.source)[pe.__cacheKey],c.memory.textures--}let ke=0;function dt(De,pe){const At=n.get(De);if(De.isVideoTexture&&function Cr(De){const pe=c.render.frame;P.get(De)!==pe&&(P.set(De,pe),De.update())}(De),!1===De.isRenderTargetTexture&&De.version>0&&At.__version!==De.version){const Ht=De.image;if(null===Ht)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Ht.complete)return void yn(At,De,pe);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.activeTexture(33984+pe),t.bindTexture(3553,At.__webglTexture)}const Zt={[Hc]:10497,[Cs]:33071,1002:33648},Fn={[pr]:9728,1004:9984,1005:9986,[Qi]:9729,1007:9985,[pl]:9987};function Et(De,pe,At){if(At?(o.texParameteri(De,10242,Zt[pe.wrapS]),o.texParameteri(De,10243,Zt[pe.wrapT]),(32879===De||35866===De)&&o.texParameteri(De,32882,Zt[pe.wrapR]),o.texParameteri(De,10240,Fn[pe.magFilter]),o.texParameteri(De,10241,Fn[pe.minFilter])):(o.texParameteri(De,10242,33071),o.texParameteri(De,10243,33071),(32879===De||35866===De)&&o.texParameteri(De,32882,33071),(pe.wrapS!==Cs||pe.wrapT!==Cs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),o.texParameteri(De,10240,Ve(pe.magFilter)),o.texParameteri(De,10241,Ve(pe.minFilter)),pe.minFilter!==pr&&pe.minFilter!==Qi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){const Ht=e.get("EXT_texture_filter_anisotropic");if(pe.type===ic&&!1===e.has("OES_texture_float_linear")||!1===h&&pe.type===qu&&!1===e.has("OES_texture_half_float_linear"))return;(pe.anisotropy>1||n.get(pe).__currentAnisotropy)&&(o.texParameterf(De,Ht.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(pe.anisotropy,r.getMaxAnisotropy())),n.get(pe).__currentAnisotropy=pe.anisotropy)}}function Mn(De,pe){let At=!1;void 0===De.__webglInit&&(De.__webglInit=!0,pe.addEventListener("dispose",Ze));const Ht=pe.source;let Kt=D.get(Ht);void 0===Kt&&(Kt={},D.set(Ht,Kt));const ln=function Je(De){const pe=[];return pe.push(De.wrapS),pe.push(De.wrapT),pe.push(De.magFilter),pe.push(De.minFilter),pe.push(De.anisotropy),pe.push(De.internalFormat),pe.push(De.format),pe.push(De.type),pe.push(De.generateMipmaps),pe.push(De.premultiplyAlpha),pe.push(De.flipY),pe.push(De.unpackAlignment),pe.push(De.encoding),pe.join()}(pe);if(ln!==De.__cacheKey){void 0===Kt[ln]&&(Kt[ln]={texture:o.createTexture(),usedTimes:0},c.memory.textures++,At=!0),Kt[ln].usedTimes++;const Yn=Kt[De.__cacheKey];void 0!==Yn&&(Kt[De.__cacheKey].usedTimes--,0===Yn.usedTimes&&Qe(pe)),De.__cacheKey=ln,De.__webglTexture=Kt[ln].texture}return At}function yn(De,pe,At){let Ht=3553;pe.isDataArrayTexture&&(Ht=35866),pe.isData3DTexture&&(Ht=32879);const Kt=Mn(De,pe),ln=pe.source;if(t.activeTexture(33984+At),t.bindTexture(Ht,De.__webglTexture),ln.version!==ln.__currentVersion||!0===Kt){o.pixelStorei(37440,pe.flipY),o.pixelStorei(37441,pe.premultiplyAlpha),o.pixelStorei(3317,pe.unpackAlignment),o.pixelStorei(37443,0);const Yn=function de(De){return!h&&(De.wrapS!==Cs||De.wrapT!==Cs||De.minFilter!==pr&&De.minFilter!==Qi)}(pe)&&!1===Y(pe.image);let It=ee(pe.image,Yn,!1,I);It=tr(pe,It);const Sn=Y(It)||h,mn=a.convert(pe.format,pe.encoding);let ci,Pn=a.convert(pe.type),In=Q(pe.internalFormat,mn,Pn,pe.encoding,pe.isVideoTexture);Et(Ht,pe,Sn);const Vi=pe.mipmaps,Wr=h&&!0!==pe.isVideoTexture,Ye=void 0===ln.__currentVersion||!0===Kt,pn=Ae(pe,It,Sn);if(pe.isDepthTexture)In=6402,h?In=pe.type===ic?36012:pe.type===nc?33190:pe.type===ch?35056:33189:pe.type===ic&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),pe.format===So&&6402===In&&1012!==pe.type&&pe.type!==nc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),pe.type=nc,Pn=a.convert(pe.type)),pe.format===Ku&&6402===In&&(In=34041,pe.type!==ch&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),pe.type=ch,Pn=a.convert(pe.type))),Ye&&(Wr?t.texStorage2D(3553,1,In,It.width,It.height):t.texImage2D(3553,0,In,It.width,It.height,0,mn,Pn,null));else if(pe.isDataTexture)if(Vi.length>0&&Sn){Wr&&Ye&&t.texStorage2D(3553,pn,In,Vi[0].width,Vi[0].height);for(let wt=0,fn=Vi.length;wt<fn;wt++)ci=Vi[wt],Wr?t.texSubImage2D(3553,wt,0,0,ci.width,ci.height,mn,Pn,ci.data):t.texImage2D(3553,wt,In,ci.width,ci.height,0,mn,Pn,ci.data);pe.generateMipmaps=!1}else Wr?(Ye&&t.texStorage2D(3553,pn,In,It.width,It.height),t.texSubImage2D(3553,0,0,0,It.width,It.height,mn,Pn,It.data)):t.texImage2D(3553,0,In,It.width,It.height,0,mn,Pn,It.data);else if(pe.isCompressedTexture){Wr&&Ye&&t.texStorage2D(3553,pn,In,Vi[0].width,Vi[0].height);for(let wt=0,fn=Vi.length;wt<fn;wt++)ci=Vi[wt],pe.format!==Mo?null!==mn?Wr?t.compressedTexSubImage2D(3553,wt,0,0,ci.width,ci.height,mn,ci.data):t.compressedTexImage2D(3553,wt,In,ci.width,ci.height,0,ci.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Wr?t.texSubImage2D(3553,wt,0,0,ci.width,ci.height,mn,Pn,ci.data):t.texImage2D(3553,wt,In,ci.width,ci.height,0,mn,Pn,ci.data)}else if(pe.isDataArrayTexture)Wr?(Ye&&t.texStorage3D(35866,pn,In,It.width,It.height,It.depth),t.texSubImage3D(35866,0,0,0,0,It.width,It.height,It.depth,mn,Pn,It.data)):t.texImage3D(35866,0,In,It.width,It.height,It.depth,0,mn,Pn,It.data);else if(pe.isData3DTexture)Wr?(Ye&&t.texStorage3D(32879,pn,In,It.width,It.height,It.depth),t.texSubImage3D(32879,0,0,0,0,It.width,It.height,It.depth,mn,Pn,It.data)):t.texImage3D(32879,0,In,It.width,It.height,It.depth,0,mn,Pn,It.data);else if(pe.isFramebufferTexture){if(Ye)if(Wr)t.texStorage2D(3553,pn,In,It.width,It.height);else{let wt=It.width,fn=It.height;for(let cn=0;cn<pn;cn++)t.texImage2D(3553,cn,In,wt,fn,0,mn,Pn,null),wt>>=1,fn>>=1}}else if(Vi.length>0&&Sn){Wr&&Ye&&t.texStorage2D(3553,pn,In,Vi[0].width,Vi[0].height);for(let wt=0,fn=Vi.length;wt<fn;wt++)ci=Vi[wt],Wr?t.texSubImage2D(3553,wt,0,0,mn,Pn,ci):t.texImage2D(3553,wt,In,mn,Pn,ci);pe.generateMipmaps=!1}else Wr?(Ye&&t.texStorage2D(3553,pn,In,It.width,It.height),t.texSubImage2D(3553,0,0,0,mn,Pn,It)):t.texImage2D(3553,0,In,mn,Pn,It);fe(pe,Sn)&&Ee(Ht),ln.__currentVersion=ln.version,pe.onUpdate&&pe.onUpdate(pe)}De.__version=pe.version}function tn(De,pe,At,Ht,Kt){const ln=a.convert(At.format,At.encoding),Yn=a.convert(At.type),It=Q(At.internalFormat,ln,Yn,At.encoding);n.get(pe).__hasExternalTextures||(32879===Kt||35866===Kt?t.texImage3D(Kt,0,It,pe.width,pe.height,pe.depth,0,ln,Yn,null):t.texImage2D(Kt,0,It,pe.width,pe.height,0,ln,Yn,null)),t.bindFramebuffer(36160,De),Nn(pe)?b.framebufferTexture2DMultisampleEXT(36160,Ht,Kt,n.get(At).__webglTexture,0,Hn(pe)):o.framebufferTexture2D(36160,Ht,Kt,n.get(At).__webglTexture,0),t.bindFramebuffer(36160,null)}function li(De,pe,At){if(o.bindRenderbuffer(36161,De),pe.depthBuffer&&!pe.stencilBuffer){let Ht=33189;if(At||Nn(pe)){const Kt=pe.depthTexture;Kt&&Kt.isDepthTexture&&(Kt.type===ic?Ht=36012:Kt.type===nc&&(Ht=33190));const ln=Hn(pe);Nn(pe)?b.renderbufferStorageMultisampleEXT(36161,ln,Ht,pe.width,pe.height):o.renderbufferStorageMultisample(36161,ln,Ht,pe.width,pe.height)}else o.renderbufferStorage(36161,Ht,pe.width,pe.height);o.framebufferRenderbuffer(36160,36096,36161,De)}else if(pe.depthBuffer&&pe.stencilBuffer){const Ht=Hn(pe);At&&!1===Nn(pe)?o.renderbufferStorageMultisample(36161,Ht,35056,pe.width,pe.height):Nn(pe)?b.renderbufferStorageMultisampleEXT(36161,Ht,35056,pe.width,pe.height):o.renderbufferStorage(36161,34041,pe.width,pe.height),o.framebufferRenderbuffer(36160,33306,36161,De)}else{const Ht=!0===pe.isWebGLMultipleRenderTargets?pe.texture:[pe.texture];for(let Kt=0;Kt<Ht.length;Kt++){const ln=Ht[Kt],Yn=a.convert(ln.format,ln.encoding),It=a.convert(ln.type),Sn=Q(ln.internalFormat,Yn,It,ln.encoding),mn=Hn(pe);At&&!1===Nn(pe)?o.renderbufferStorageMultisample(36161,mn,Sn,pe.width,pe.height):Nn(pe)?b.renderbufferStorageMultisampleEXT(36161,mn,Sn,pe.width,pe.height):o.renderbufferStorage(36161,Sn,pe.width,pe.height)}}o.bindRenderbuffer(36161,null)}function Dt(De){const pe=n.get(De),At=!0===De.isWebGLCubeRenderTarget;if(De.depthTexture&&!pe.__autoAllocateDepthBuffer){if(At)throw new Error("target.depthTexture not supported in Cube render targets");!function Lt(De,pe){if(pe&&pe.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,De),!pe.depthTexture||!pe.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(pe.depthTexture).__webglTexture||pe.depthTexture.image.width!==pe.width||pe.depthTexture.image.height!==pe.height)&&(pe.depthTexture.image.width=pe.width,pe.depthTexture.image.height=pe.height,pe.depthTexture.needsUpdate=!0),dt(pe.depthTexture,0);const Ht=n.get(pe.depthTexture).__webglTexture,Kt=Hn(pe);if(pe.depthTexture.format===So)Nn(pe)?b.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ht,0,Kt):o.framebufferTexture2D(36160,36096,3553,Ht,0);else{if(pe.depthTexture.format!==Ku)throw new Error("Unknown depthTexture format");Nn(pe)?b.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ht,0,Kt):o.framebufferTexture2D(36160,33306,3553,Ht,0)}}(pe.__webglFramebuffer,De)}else if(At){pe.__webglDepthbuffer=[];for(let Ht=0;Ht<6;Ht++)t.bindFramebuffer(36160,pe.__webglFramebuffer[Ht]),pe.__webglDepthbuffer[Ht]=o.createRenderbuffer(),li(pe.__webglDepthbuffer[Ht],De,!1)}else t.bindFramebuffer(36160,pe.__webglFramebuffer),pe.__webglDepthbuffer=o.createRenderbuffer(),li(pe.__webglDepthbuffer,De,!1);t.bindFramebuffer(36160,null)}function Hn(De){return Math.min(_,De.samples)}function Nn(De){const pe=n.get(De);return h&&De.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==pe.__useRenderToTexture}function tr(De,pe){const At=De.encoding,Ht=De.format,Kt=De.type;return!0===De.isCompressedTexture||!0===De.isVideoTexture||1035===De.format||At!==Sa&&(At===Pi?!1===h?!0===e.has("EXT_sRGB")&&Ht===Mo?(De.format=1035,De.minFilter=Qi,De.generateMipmaps=!1):pe=Yp.sRGBToLinear(pe):(Ht!==Mo||Kt!==Yu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",At)),pe}this.allocateTextureUnit=function it(){const De=ke;return De>=p&&console.warn("THREE.WebGLTextures: Trying to use "+De+" texture units while this GPU supports only "+p),ke+=1,De},this.resetTextureUnits=function et(){ke=0},this.setTexture2D=dt,this.setTexture2DArray=function kt(De,pe){const At=n.get(De);De.version>0&&At.__version!==De.version?yn(At,De,pe):(t.activeTexture(33984+pe),t.bindTexture(35866,At.__webglTexture))},this.setTexture3D=function Ot(De,pe){const At=n.get(De);De.version>0&&At.__version!==De.version?yn(At,De,pe):(t.activeTexture(33984+pe),t.bindTexture(32879,At.__webglTexture))},this.setTextureCube=function Gt(De,pe){const At=n.get(De);De.version>0&&At.__version!==De.version?function bn(De,pe,At){if(6!==pe.image.length)return;const Ht=Mn(De,pe),Kt=pe.source;if(t.activeTexture(33984+At),t.bindTexture(34067,De.__webglTexture),Kt.version!==Kt.__currentVersion||!0===Ht){o.pixelStorei(37440,pe.flipY),o.pixelStorei(37441,pe.premultiplyAlpha),o.pixelStorei(3317,pe.unpackAlignment),o.pixelStorei(37443,0);const ln=pe.isCompressedTexture||pe.image[0].isCompressedTexture,Yn=pe.image[0]&&pe.image[0].isDataTexture,It=[];for(let wt=0;wt<6;wt++)It[wt]=ln||Yn?Yn?pe.image[wt].image:pe.image[wt]:ee(pe.image[wt],!1,!0,m),It[wt]=tr(pe,It[wt]);const Sn=It[0],mn=Y(Sn)||h,Pn=a.convert(pe.format,pe.encoding),In=a.convert(pe.type),ci=Q(pe.internalFormat,Pn,In,pe.encoding),Vi=h&&!0!==pe.isVideoTexture,Wr=void 0===Kt.__currentVersion||!0===Ht;let pn,Ye=Ae(pe,Sn,mn);if(Et(34067,pe,mn),ln){Vi&&Wr&&t.texStorage2D(34067,Ye,ci,Sn.width,Sn.height);for(let wt=0;wt<6;wt++){pn=It[wt].mipmaps;for(let fn=0;fn<pn.length;fn++){const cn=pn[fn];pe.format!==Mo?null!==Pn?Vi?t.compressedTexSubImage2D(34069+wt,fn,0,0,cn.width,cn.height,Pn,cn.data):t.compressedTexImage2D(34069+wt,fn,ci,cn.width,cn.height,0,cn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Vi?t.texSubImage2D(34069+wt,fn,0,0,cn.width,cn.height,Pn,In,cn.data):t.texImage2D(34069+wt,fn,ci,cn.width,cn.height,0,Pn,In,cn.data)}}}else{pn=pe.mipmaps,Vi&&Wr&&(pn.length>0&&Ye++,t.texStorage2D(34067,Ye,ci,It[0].width,It[0].height));for(let wt=0;wt<6;wt++)if(Yn){Vi?t.texSubImage2D(34069+wt,0,0,0,It[wt].width,It[wt].height,Pn,In,It[wt].data):t.texImage2D(34069+wt,0,ci,It[wt].width,It[wt].height,0,Pn,In,It[wt].data);for(let fn=0;fn<pn.length;fn++){const Oi=pn[fn].image[wt].image;Vi?t.texSubImage2D(34069+wt,fn+1,0,0,Oi.width,Oi.height,Pn,In,Oi.data):t.texImage2D(34069+wt,fn+1,ci,Oi.width,Oi.height,0,Pn,In,Oi.data)}}else{Vi?t.texSubImage2D(34069+wt,0,0,0,Pn,In,It[wt]):t.texImage2D(34069+wt,0,ci,Pn,In,It[wt]);for(let fn=0;fn<pn.length;fn++){const cn=pn[fn];Vi?t.texSubImage2D(34069+wt,fn+1,0,0,Pn,In,cn.image[wt]):t.texImage2D(34069+wt,fn+1,ci,Pn,In,cn.image[wt])}}}fe(pe,mn)&&Ee(34067),Kt.__currentVersion=Kt.version,pe.onUpdate&&pe.onUpdate(pe)}De.__version=pe.version}(At,De,pe):(t.activeTexture(33984+pe),t.bindTexture(34067,At.__webglTexture))},this.rebindTextures=function qt(De,pe,At){const Ht=n.get(De);void 0!==pe&&tn(Ht.__webglFramebuffer,De,De.texture,36064,3553),void 0!==At&&Dt(De)},this.setupRenderTarget=function vn(De){const pe=De.texture,At=n.get(De),Ht=n.get(pe);De.addEventListener("dispose",St),!0!==De.isWebGLMultipleRenderTargets&&(void 0===Ht.__webglTexture&&(Ht.__webglTexture=o.createTexture()),Ht.__version=pe.version,c.memory.textures++);const Kt=!0===De.isWebGLCubeRenderTarget,ln=!0===De.isWebGLMultipleRenderTargets,Yn=Y(De)||h;if(Kt){At.__webglFramebuffer=[];for(let It=0;It<6;It++)At.__webglFramebuffer[It]=o.createFramebuffer()}else{if(At.__webglFramebuffer=o.createFramebuffer(),ln)if(r.drawBuffers){const It=De.texture;for(let Sn=0,mn=It.length;Sn<mn;Sn++){const Pn=n.get(It[Sn]);void 0===Pn.__webglTexture&&(Pn.__webglTexture=o.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(h&&De.samples>0&&!1===Nn(De)){const It=ln?pe:[pe];At.__webglMultisampledFramebuffer=o.createFramebuffer(),At.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,At.__webglMultisampledFramebuffer);for(let Sn=0;Sn<It.length;Sn++){const mn=It[Sn];At.__webglColorRenderbuffer[Sn]=o.createRenderbuffer(),o.bindRenderbuffer(36161,At.__webglColorRenderbuffer[Sn]);const Pn=a.convert(mn.format,mn.encoding),In=a.convert(mn.type),ci=Q(mn.internalFormat,Pn,In,mn.encoding),Vi=Hn(De);o.renderbufferStorageMultisample(36161,Vi,ci,De.width,De.height),o.framebufferRenderbuffer(36160,36064+Sn,36161,At.__webglColorRenderbuffer[Sn])}o.bindRenderbuffer(36161,null),De.depthBuffer&&(At.__webglDepthRenderbuffer=o.createRenderbuffer(),li(At.__webglDepthRenderbuffer,De,!0)),t.bindFramebuffer(36160,null)}}if(Kt){t.bindTexture(34067,Ht.__webglTexture),Et(34067,pe,Yn);for(let It=0;It<6;It++)tn(At.__webglFramebuffer[It],De,pe,36064,34069+It);fe(pe,Yn)&&Ee(34067),t.unbindTexture()}else if(ln){const It=De.texture;for(let Sn=0,mn=It.length;Sn<mn;Sn++){const Pn=It[Sn],In=n.get(Pn);t.bindTexture(3553,In.__webglTexture),Et(3553,Pn,Yn),tn(At.__webglFramebuffer,De,Pn,36064+Sn,3553),fe(Pn,Yn)&&Ee(3553)}t.unbindTexture()}else{let It=3553;(De.isWebGL3DRenderTarget||De.isWebGLArrayRenderTarget)&&(h?It=De.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(It,Ht.__webglTexture),Et(It,pe,Yn),tn(At.__webglFramebuffer,De,pe,36064,It),fe(pe,Yn)&&Ee(It),t.unbindTexture()}De.depthBuffer&&Dt(De)},this.updateRenderTargetMipmap=function on(De){const pe=Y(De)||h,At=!0===De.isWebGLMultipleRenderTargets?De.texture:[De.texture];for(let Ht=0,Kt=At.length;Ht<Kt;Ht++){const ln=At[Ht];if(fe(ln,pe)){const Yn=De.isWebGLCubeRenderTarget?34067:3553,It=n.get(ln).__webglTexture;t.bindTexture(Yn,It),Ee(Yn),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function ri(De){if(h&&De.samples>0&&!1===Nn(De)){const pe=De.isWebGLMultipleRenderTargets?De.texture:[De.texture],At=De.width,Ht=De.height;let Kt=16384;const ln=[],Yn=De.stencilBuffer?33306:36096,It=n.get(De),Sn=!0===De.isWebGLMultipleRenderTargets;if(Sn)for(let mn=0;mn<pe.length;mn++)t.bindFramebuffer(36160,It.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064+mn,36161,null),t.bindFramebuffer(36160,It.__webglFramebuffer),o.framebufferTexture2D(36009,36064+mn,3553,null,0);t.bindFramebuffer(36008,It.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,It.__webglFramebuffer);for(let mn=0;mn<pe.length;mn++){ln.push(36064+mn),De.depthBuffer&&ln.push(Yn);const Pn=void 0!==It.__ignoreDepthValues&&It.__ignoreDepthValues;if(!1===Pn&&(De.depthBuffer&&(Kt|=256),De.stencilBuffer&&(Kt|=1024)),Sn&&o.framebufferRenderbuffer(36008,36064,36161,It.__webglColorRenderbuffer[mn]),!0===Pn&&(o.invalidateFramebuffer(36008,[Yn]),o.invalidateFramebuffer(36009,[Yn])),Sn){const In=n.get(pe[mn]).__webglTexture;o.framebufferTexture2D(36009,36064,3553,In,0)}o.blitFramebuffer(0,0,At,Ht,0,0,At,Ht,Kt,9728),M&&o.invalidateFramebuffer(36008,ln)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),Sn)for(let mn=0;mn<pe.length;mn++){t.bindFramebuffer(36160,It.__webglMultisampledFramebuffer),o.framebufferRenderbuffer(36160,36064+mn,36161,It.__webglColorRenderbuffer[mn]);const Pn=n.get(pe[mn]).__webglTexture;t.bindFramebuffer(36160,It.__webglFramebuffer),o.framebufferTexture2D(36009,36064+mn,3553,Pn,0)}t.bindFramebuffer(36009,It.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Dt,this.setupFrameBufferTexture=tn,this.useMultisampledRTT=Nn}function L_(o,e,t){const n=t.isWebGL2;return{convert:function r(a,c=null){let h;if(a===Yu)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(a===nc)return 5125;if(a===ic)return 5126;if(a===qu)return n?5131:(h=e.get("OES_texture_half_float"),null!==h?h.HALF_FLOAT_OES:null);if(1021===a)return 6406;if(a===Mo)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(a===So)return 6402;if(a===Ku)return 34041;if(1028===a)return 6403;if(1022===a)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===a)return h=e.get("EXT_sRGB"),null!==h?h.SRGB_ALPHA_EXT:null;if(1029===a)return 36244;if(1030===a)return 33319;if(1031===a)return 33320;if(1033===a)return 36249;if(33776===a||33777===a||33778===a||33779===a)if(c===Pi){if(h=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===h)return null;if(33776===a)return h.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===a)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===a)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===a)return h.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(h=e.get("WEBGL_compressed_texture_s3tc"),null===h)return null;if(33776===a)return h.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===a)return h.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return h.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return h.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a){if(h=e.get("WEBGL_compressed_texture_pvrtc"),null===h)return null;if(35840===a)return h.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return h.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return h.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return h.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a)return h=e.get("WEBGL_compressed_texture_etc1"),null!==h?h.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===a||37496===a){if(h=e.get("WEBGL_compressed_texture_etc"),null===h)return null;if(37492===a)return c===Pi?h.COMPRESSED_SRGB8_ETC2:h.COMPRESSED_RGB8_ETC2;if(37496===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:h.COMPRESSED_RGBA8_ETC2_EAC}if(37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a){if(h=e.get("WEBGL_compressed_texture_astc"),null===h)return null;if(37808===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:h.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:h.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:h.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:h.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:h.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:h.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:h.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:h.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:h.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:h.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:h.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:h.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:h.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===a)return c===Pi?h.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:h.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===a){if(h=e.get("EXT_texture_compression_bptc"),null===h)return null;if(36492===a)return c===Pi?h.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:h.COMPRESSED_RGBA_BPTC_UNORM_EXT}return a===ch?n?34042:(h=e.get("WEBGL_depth_texture"),null!==h?h.UNSIGNED_INT_24_8_WEBGL:null):void 0!==o[a]?o[a]:null}}}class R_ extends zr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Sl extends ls{constructor(){super(),this.isGroup=!0,this.type="Group"}}const N_={type:"move"};class Pg{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Sl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Sl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new me,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new me),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Sl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new me,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new me),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,a=null,c=null;const h=this._targetRay,p=this._grip,m=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(m&&e.hand){c=!0;for(const E of e.hand.values()){const D=t.getJointPose(E,n);if(void 0===m.joints[E.jointName]){const W=new Sl;W.matrixAutoUpdate=!1,W.visible=!1,m.joints[E.jointName]=W,m.add(W)}const z=m.joints[E.jointName];null!==D&&(z.matrix.fromArray(D.transform.matrix),z.matrix.decompose(z.position,z.rotation,z.scale),z.jointRadius=D.radius),z.visible=null!==D}const b=m.joints["index-finger-tip"].position.distanceTo(m.joints["thumb-tip"].position),M=.02,P=.005;m.inputState.pinching&&b>M+P?(m.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!m.inputState.pinching&&b<=M-P&&(m.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==p&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),null!==a&&(p.matrix.fromArray(a.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),a.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(a.linearVelocity)):p.hasLinearVelocity=!1,a.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(a.angularVelocity)):p.hasAngularVelocity=!1));null!==h&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==a&&(r=a),null!==r&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(N_)))}return null!==h&&(h.visible=null!==r),null!==p&&(p.visible=null!==a),null!==m&&(m.visible=null!==c),this}}class F_ extends to{constructor(e,t,n,r,a,c,h,p,m,I){if((I=void 0!==I?I:So)!==So&&I!==Ku)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&I===So&&(n=nc),void 0===n&&I===Ku&&(n=ch),super(null,r,a,c,h,p,I,n,m),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==h?h:pr,this.minFilter=void 0!==p?p:pr,this.flipY=!1,this.generateMipmaps=!1}}class k_ extends To{constructor(e,t){super();const n=this;let r=null,a=1,c=null,h="local-floor",p=null,m=null,I=null,_=null,b=null,M=null;const P=t.getContextAttributes();let E=null,D=null;const z=[],W=[],ee=new zr;ee.layers.enable(1),ee.viewport=new bi;const Y=new zr;Y.layers.enable(2),Y.viewport=new bi;const de=[ee,Y],fe=new R_;fe.layers.enable(1),fe.layers.enable(2);let Ee=null,Q=null;function Ae(Je){const dt=W.indexOf(Je.inputSource);if(-1===dt)return;const kt=z[dt];void 0!==kt&&kt.dispatchEvent({type:Je.type,data:Je.inputSource})}function Ve(){r.removeEventListener("select",Ae),r.removeEventListener("selectstart",Ae),r.removeEventListener("selectend",Ae),r.removeEventListener("squeeze",Ae),r.removeEventListener("squeezestart",Ae),r.removeEventListener("squeezeend",Ae),r.removeEventListener("end",Ve),r.removeEventListener("inputsourceschange",Ze);for(let Je=0;Je<z.length;Je++){const dt=W[Je];null!==dt&&(W[Je]=null,z[Je].disconnect(dt))}Ee=null,Q=null,e.setRenderTarget(E),b=null,_=null,I=null,r=null,D=null,it.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function Ze(Je){for(let dt=0;dt<Je.removed.length;dt++){const kt=Je.removed[dt],Ot=W.indexOf(kt);Ot>=0&&(W[Ot]=null,z[Ot].dispatchEvent({type:"disconnected",data:kt}))}for(let dt=0;dt<Je.added.length;dt++){const kt=Je.added[dt];let Ot=W.indexOf(kt);if(-1===Ot){for(let Zt=0;Zt<z.length;Zt++){if(Zt>=W.length){W.push(kt),Ot=Zt;break}if(null===W[Zt]){W[Zt]=kt,Ot=Zt;break}}if(-1===Ot)break}const Gt=z[Ot];Gt&&Gt.dispatchEvent({type:"connected",data:kt})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Je){let dt=z[Je];return void 0===dt&&(dt=new Pg,z[Je]=dt),dt.getTargetRaySpace()},this.getControllerGrip=function(Je){let dt=z[Je];return void 0===dt&&(dt=new Pg,z[Je]=dt),dt.getGripSpace()},this.getHand=function(Je){let dt=z[Je];return void 0===dt&&(dt=new Pg,z[Je]=dt),dt.getHandSpace()},this.setFramebufferScaleFactor=function(Je){a=Je,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Je){h=Je,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||c},this.setReferenceSpace=function(Je){p=Je},this.getBaseLayer=function(){return null!==_?_:b},this.getBinding=function(){return I},this.getFrame=function(){return M},this.getSession=function(){return r},this.setSession=function(){var Je=(0,q.Z)(function*(dt){if(r=dt,null!==r){if(E=e.getRenderTarget(),r.addEventListener("select",Ae),r.addEventListener("selectstart",Ae),r.addEventListener("selectend",Ae),r.addEventListener("squeeze",Ae),r.addEventListener("squeezestart",Ae),r.addEventListener("squeezeend",Ae),r.addEventListener("end",Ve),r.addEventListener("inputsourceschange",Ze),!0!==P.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)b=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||P.antialias,alpha:P.alpha,depth:P.depth,stencil:P.stencil,framebufferScaleFactor:a}),r.updateRenderState({baseLayer:b}),D=new qo(b.framebufferWidth,b.framebufferHeight,{format:Mo,type:Yu,encoding:e.outputEncoding});else{let kt=null,Ot=null,Gt=null;P.depth&&(Gt=P.stencil?35056:33190,kt=P.stencil?Ku:So,Ot=P.stencil?ch:nc);const Zt={colorFormat:32856,depthFormat:Gt,scaleFactor:a};I=new XRWebGLBinding(r,t),_=I.createProjectionLayer(Zt),r.updateRenderState({layers:[_]}),D=new qo(_.textureWidth,_.textureHeight,{format:Mo,type:Yu,depthTexture:new F_(_.textureWidth,_.textureHeight,Ot,void 0,void 0,void 0,void 0,void 0,void 0,kt),stencilBuffer:P.stencil,encoding:e.outputEncoding,samples:P.antialias?4:0}),e.properties.get(D).__ignoreDepthValues=_.ignoreDepthValues}D.isXRRenderTarget=!0,this.setFoveation(1),p=null,c=yield r.requestReferenceSpace(h),it.setContext(r),it.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(dt){return Je.apply(this,arguments)}}();const St=new me,Nt=new me;function yt(Je,dt){null===dt?Je.matrixWorld.copy(Je.matrix):Je.matrixWorld.multiplyMatrices(dt.matrixWorld,Je.matrix),Je.matrixWorldInverse.copy(Je.matrixWorld).invert()}this.updateCamera=function(Je){if(null===r)return;fe.near=Y.near=ee.near=Je.near,fe.far=Y.far=ee.far=Je.far,(Ee!==fe.near||Q!==fe.far)&&(r.updateRenderState({depthNear:fe.near,depthFar:fe.far}),Ee=fe.near,Q=fe.far);const dt=Je.parent,kt=fe.cameras;yt(fe,dt);for(let Gt=0;Gt<kt.length;Gt++)yt(kt[Gt],dt);fe.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),Je.position.copy(fe.position),Je.quaternion.copy(fe.quaternion),Je.scale.copy(fe.scale),Je.matrix.copy(fe.matrix),Je.matrixWorld.copy(fe.matrixWorld);const Ot=Je.children;for(let Gt=0,Zt=Ot.length;Gt<Zt;Gt++)Ot[Gt].updateMatrixWorld(!0);2===kt.length?function Qe(Je,dt,kt){St.setFromMatrixPosition(dt.matrixWorld),Nt.setFromMatrixPosition(kt.matrixWorld);const Ot=St.distanceTo(Nt),Gt=dt.projectionMatrix.elements,Zt=kt.projectionMatrix.elements,Fn=Gt[14]/(Gt[10]-1),Et=Gt[14]/(Gt[10]+1),Mn=(Gt[9]+1)/Gt[5],yn=(Gt[9]-1)/Gt[5],bn=(Gt[8]-1)/Gt[0],tn=(Zt[8]+1)/Zt[0],li=Fn*bn,Lt=Fn*tn,Dt=Ot/(-bn+tn),qt=Dt*-bn;dt.matrixWorld.decompose(Je.position,Je.quaternion,Je.scale),Je.translateX(qt),Je.translateZ(Dt),Je.matrixWorld.compose(Je.position,Je.quaternion,Je.scale),Je.matrixWorldInverse.copy(Je.matrixWorld).invert();const vn=Fn+Dt,on=Et+Dt;Je.projectionMatrix.makePerspective(li-qt,Lt+(Ot-qt),Mn*Et/on*vn,yn*Et/on*vn,vn,on)}(fe,ee,Y):fe.projectionMatrix.copy(ee.projectionMatrix)},this.getCamera=function(){return fe},this.getFoveation=function(){return null!==_?_.fixedFoveation:null!==b?b.fixedFoveation:void 0},this.setFoveation=function(Je){null!==_&&(_.fixedFoveation=Je),null!==b&&void 0!==b.fixedFoveation&&(b.fixedFoveation=Je)};let ke=null;const it=new c0;it.setAnimationLoop(function et(Je,dt){if(m=dt.getViewerPose(p||c),M=dt,null!==m){const kt=m.views;null!==b&&(e.setRenderTargetFramebuffer(D,b.framebuffer),e.setRenderTarget(D));let Ot=!1;kt.length!==fe.cameras.length&&(fe.cameras.length=0,Ot=!0);for(let Gt=0;Gt<kt.length;Gt++){const Zt=kt[Gt];let Fn=null;if(null!==b)Fn=b.getViewport(Zt);else{const Mn=I.getViewSubImage(_,Zt);Fn=Mn.viewport,0===Gt&&(e.setRenderTargetTextures(D,Mn.colorTexture,_.ignoreDepthValues?void 0:Mn.depthStencilTexture),e.setRenderTarget(D))}let Et=de[Gt];void 0===Et&&(Et=new zr,Et.layers.enable(Gt),Et.viewport=new bi,de[Gt]=Et),Et.matrix.fromArray(Zt.transform.matrix),Et.projectionMatrix.fromArray(Zt.projectionMatrix),Et.viewport.set(Fn.x,Fn.y,Fn.width,Fn.height),0===Gt&&fe.matrix.copy(Et.matrix),!0===Ot&&fe.cameras.push(Et)}}for(let kt=0;kt<z.length;kt++){const Ot=W[kt],Gt=z[kt];null!==Ot&&void 0!==Gt&&Gt.update(Ot,dt,p||c)}ke&&ke(Je,dt),M=null}),this.setAnimationLoop=function(Je){ke=Je},this.dispose=function(){}}}function _b(o,e){function r(E,D){E.opacity.value=D.opacity,D.color&&E.diffuse.value.copy(D.color),D.emissive&&E.emissive.value.copy(D.emissive).multiplyScalar(D.emissiveIntensity),D.map&&(E.map.value=D.map),D.alphaMap&&(E.alphaMap.value=D.alphaMap),D.bumpMap&&(E.bumpMap.value=D.bumpMap,E.bumpScale.value=D.bumpScale,1===D.side&&(E.bumpScale.value*=-1)),D.displacementMap&&(E.displacementMap.value=D.displacementMap,E.displacementScale.value=D.displacementScale,E.displacementBias.value=D.displacementBias),D.emissiveMap&&(E.emissiveMap.value=D.emissiveMap),D.normalMap&&(E.normalMap.value=D.normalMap,E.normalScale.value.copy(D.normalScale),1===D.side&&E.normalScale.value.negate()),D.specularMap&&(E.specularMap.value=D.specularMap),D.alphaTest>0&&(E.alphaTest.value=D.alphaTest);const z=e.get(D).envMap;if(z&&(E.envMap.value=z,E.flipEnvMap.value=z.isCubeTexture&&!1===z.isRenderTargetTexture?-1:1,E.reflectivity.value=D.reflectivity,E.ior.value=D.ior,E.refractionRatio.value=D.refractionRatio),D.lightMap){E.lightMap.value=D.lightMap;const Y=!0!==o.physicallyCorrectLights?Math.PI:1;E.lightMapIntensity.value=D.lightMapIntensity*Y}let W,ee;D.aoMap&&(E.aoMap.value=D.aoMap,E.aoMapIntensity.value=D.aoMapIntensity),D.map?W=D.map:D.specularMap?W=D.specularMap:D.displacementMap?W=D.displacementMap:D.normalMap?W=D.normalMap:D.bumpMap?W=D.bumpMap:D.roughnessMap?W=D.roughnessMap:D.metalnessMap?W=D.metalnessMap:D.alphaMap?W=D.alphaMap:D.emissiveMap?W=D.emissiveMap:D.clearcoatMap?W=D.clearcoatMap:D.clearcoatNormalMap?W=D.clearcoatNormalMap:D.clearcoatRoughnessMap?W=D.clearcoatRoughnessMap:D.iridescenceMap?W=D.iridescenceMap:D.iridescenceThicknessMap?W=D.iridescenceThicknessMap:D.specularIntensityMap?W=D.specularIntensityMap:D.specularColorMap?W=D.specularColorMap:D.transmissionMap?W=D.transmissionMap:D.thicknessMap?W=D.thicknessMap:D.sheenColorMap?W=D.sheenColorMap:D.sheenRoughnessMap&&(W=D.sheenRoughnessMap),void 0!==W&&(W.isWebGLRenderTarget&&(W=W.texture),!0===W.matrixAutoUpdate&&W.updateMatrix(),E.uvTransform.value.copy(W.matrix)),D.aoMap?ee=D.aoMap:D.lightMap&&(ee=D.lightMap),void 0!==ee&&(ee.isWebGLRenderTarget&&(ee=ee.texture),!0===ee.matrixAutoUpdate&&ee.updateMatrix(),E.uv2Transform.value.copy(ee.matrix))}return{refreshFogUniforms:function t(E,D){E.fogColor.value.copy(D.color),D.isFog?(E.fogNear.value=D.near,E.fogFar.value=D.far):D.isFogExp2&&(E.fogDensity.value=D.density)},refreshMaterialUniforms:function n(E,D,z,W,ee){D.isMeshBasicMaterial||D.isMeshLambertMaterial?r(E,D):D.isMeshToonMaterial?(r(E,D),function I(E,D){D.gradientMap&&(E.gradientMap.value=D.gradientMap)}(E,D)):D.isMeshPhongMaterial?(r(E,D),function m(E,D){E.specular.value.copy(D.specular),E.shininess.value=Math.max(D.shininess,1e-4)}(E,D)):D.isMeshStandardMaterial?(r(E,D),function _(E,D){E.roughness.value=D.roughness,E.metalness.value=D.metalness,D.roughnessMap&&(E.roughnessMap.value=D.roughnessMap),D.metalnessMap&&(E.metalnessMap.value=D.metalnessMap),e.get(D).envMap&&(E.envMapIntensity.value=D.envMapIntensity)}(E,D),D.isMeshPhysicalMaterial&&function b(E,D,z){E.ior.value=D.ior,D.sheen>0&&(E.sheenColor.value.copy(D.sheenColor).multiplyScalar(D.sheen),E.sheenRoughness.value=D.sheenRoughness,D.sheenColorMap&&(E.sheenColorMap.value=D.sheenColorMap),D.sheenRoughnessMap&&(E.sheenRoughnessMap.value=D.sheenRoughnessMap)),D.clearcoat>0&&(E.clearcoat.value=D.clearcoat,E.clearcoatRoughness.value=D.clearcoatRoughness,D.clearcoatMap&&(E.clearcoatMap.value=D.clearcoatMap),D.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=D.clearcoatRoughnessMap),D.clearcoatNormalMap&&(E.clearcoatNormalScale.value.copy(D.clearcoatNormalScale),E.clearcoatNormalMap.value=D.clearcoatNormalMap,1===D.side&&E.clearcoatNormalScale.value.negate())),D.iridescence>0&&(E.iridescence.value=D.iridescence,E.iridescenceIOR.value=D.iridescenceIOR,E.iridescenceThicknessMinimum.value=D.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=D.iridescenceThicknessRange[1],D.iridescenceMap&&(E.iridescenceMap.value=D.iridescenceMap),D.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=D.iridescenceThicknessMap)),D.transmission>0&&(E.transmission.value=D.transmission,E.transmissionSamplerMap.value=z.texture,E.transmissionSamplerSize.value.set(z.width,z.height),D.transmissionMap&&(E.transmissionMap.value=D.transmissionMap),E.thickness.value=D.thickness,D.thicknessMap&&(E.thicknessMap.value=D.thicknessMap),E.attenuationDistance.value=D.attenuationDistance,E.attenuationColor.value.copy(D.attenuationColor)),E.specularIntensity.value=D.specularIntensity,E.specularColor.value.copy(D.specularColor),D.specularIntensityMap&&(E.specularIntensityMap.value=D.specularIntensityMap),D.specularColorMap&&(E.specularColorMap.value=D.specularColorMap)}(E,D,ee)):D.isMeshMatcapMaterial?(r(E,D),function M(E,D){D.matcap&&(E.matcap.value=D.matcap)}(E,D)):D.isMeshDepthMaterial?r(E,D):D.isMeshDistanceMaterial?(r(E,D),function P(E,D){E.referencePosition.value.copy(D.referencePosition),E.nearDistance.value=D.nearDistance,E.farDistance.value=D.farDistance}(E,D)):D.isMeshNormalMaterial?r(E,D):D.isLineBasicMaterial?(function a(E,D){E.diffuse.value.copy(D.color),E.opacity.value=D.opacity}(E,D),D.isLineDashedMaterial&&function c(E,D){E.dashSize.value=D.dashSize,E.totalSize.value=D.dashSize+D.gapSize,E.scale.value=D.scale}(E,D)):D.isPointsMaterial?function h(E,D,z,W){let ee;E.diffuse.value.copy(D.color),E.opacity.value=D.opacity,E.size.value=D.size*z,E.scale.value=.5*W,D.map&&(E.map.value=D.map),D.alphaMap&&(E.alphaMap.value=D.alphaMap),D.alphaTest>0&&(E.alphaTest.value=D.alphaTest),D.map?ee=D.map:D.alphaMap&&(ee=D.alphaMap),void 0!==ee&&(!0===ee.matrixAutoUpdate&&ee.updateMatrix(),E.uvTransform.value.copy(ee.matrix))}(E,D,z,W):D.isSpriteMaterial?function p(E,D){let z;E.diffuse.value.copy(D.color),E.opacity.value=D.opacity,E.rotation.value=D.rotation,D.map&&(E.map.value=D.map),D.alphaMap&&(E.alphaMap.value=D.alphaMap),D.alphaTest>0&&(E.alphaTest.value=D.alphaTest),D.map?z=D.map:D.alphaMap&&(z=D.alphaMap),void 0!==z&&(!0===z.matrixAutoUpdate&&z.updateMatrix(),E.uvTransform.value.copy(z.matrix))}(E,D):D.isShadowMaterial?(E.color.value.copy(D.color),E.opacity.value=D.opacity):D.isShaderMaterial&&(D.uniformsNeedUpdate=!1)}}}function vb(o,e,t,n){let r={},a={},c=[];const h=t.isWebGL2?o.getParameter(35375):0;function M(W,ee,Y){const de=W.value;if(void 0===Y[ee])return Y[ee]="number"==typeof de?de:de.clone(),!0;if("number"==typeof de){if(Y[ee]!==de)return Y[ee]=de,!0}else{const fe=Y[ee];if(!1===fe.equals(de))return fe.copy(de),!0}return!1}function E(W){const ee=W.value,Y={boundary:0,storage:0};return"number"==typeof ee?(Y.boundary=4,Y.storage=4):ee.isVector2?(Y.boundary=8,Y.storage=8):ee.isVector3||ee.isColor?(Y.boundary=16,Y.storage=12):ee.isVector4?(Y.boundary=16,Y.storage=16):ee.isMatrix3?(Y.boundary=48,Y.storage=48):ee.isMatrix4?(Y.boundary=64,Y.storage=64):ee.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",ee),Y}function D(W){const ee=W.target;ee.removeEventListener("dispose",D);const Y=c.indexOf(ee.__bindingPointIndex);c.splice(Y,1),o.deleteBuffer(r[ee.id]),delete r[ee.id],delete a[ee.id]}return{bind:function p(W,ee){n.uniformBlockBinding(W,ee.program)},update:function m(W,ee){let Y=r[W.id];void 0===Y&&(function P(W){const ee=W.uniforms;let Y=0;let fe=0;for(let Ee=0,Q=ee.length;Ee<Q;Ee++){const Ae=ee[Ee],Ve=E(Ae);if(Ae.__data=new Float32Array(Ve.storage/Float32Array.BYTES_PER_ELEMENT),Ae.__offset=Y,Ee>0){fe=Y%16;const Ze=16-fe;0!==fe&&Ze-Ve.boundary<0&&(Y+=16-fe,Ae.__offset=Y)}Y+=Ve.storage}fe=Y%16,fe>0&&(Y+=16-fe),W.__size=Y,W.__cache={}}(W),Y=function I(W){const ee=function _(){for(let W=0;W<h;W++)if(-1===c.indexOf(W))return c.push(W),W;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();W.__bindingPointIndex=ee;const Y=o.createBuffer(),de=W.__size,fe=W.usage;return o.bindBuffer(35345,Y),o.bufferData(35345,de,fe),o.bindBuffer(35345,null),o.bindBufferBase(35345,ee,Y),Y}(W),r[W.id]=Y,W.addEventListener("dispose",D)),n.updateUBOMapping(W,ee.program);const fe=e.render.frame;a[W.id]!==fe&&(function b(W){const Y=W.uniforms,de=W.__cache;o.bindBuffer(35345,r[W.id]);for(let fe=0,Ee=Y.length;fe<Ee;fe++){const Q=Y[fe];if(!0===M(Q,fe,de)){const Ae=Q.value,Ve=Q.__offset;"number"==typeof Ae?(Q.__data[0]=Ae,o.bufferSubData(35345,Ve,Q.__data)):(Q.value.isMatrix3?(Q.__data[0]=Q.value.elements[0],Q.__data[1]=Q.value.elements[1],Q.__data[2]=Q.value.elements[2],Q.__data[3]=Q.value.elements[0],Q.__data[4]=Q.value.elements[3],Q.__data[5]=Q.value.elements[4],Q.__data[6]=Q.value.elements[5],Q.__data[7]=Q.value.elements[0],Q.__data[8]=Q.value.elements[6],Q.__data[9]=Q.value.elements[7],Q.__data[10]=Q.value.elements[8],Q.__data[11]=Q.value.elements[0]):Ae.toArray(Q.__data),o.bufferSubData(35345,Ve,Q.__data))}}o.bindBuffer(35345,null)}(W),a[W.id]=fe)},dispose:function z(){for(const W in r)o.deleteBuffer(r[W]);c=[],r={},a={}}}}function Og(o={}){this.isWebGLRenderer=!0;const e=void 0!==o.canvas?o.canvas:function yb(){const o=jc("canvas");return o.style.display="block",o}(),t=void 0!==o.context?o.context:null,n=void 0===o.depth||o.depth,r=void 0===o.stencil||o.stencil,a=void 0!==o.antialias&&o.antialias,c=void 0===o.premultipliedAlpha||o.premultipliedAlpha,h=void 0!==o.preserveDrawingBuffer&&o.preserveDrawingBuffer,p=void 0!==o.powerPreference?o.powerPreference:"default",m=void 0!==o.failIfMajorPerformanceCaveat&&o.failIfMajorPerformanceCaveat;let I;I=null!==t?t.getContextAttributes().alpha:void 0!==o.alpha&&o.alpha;let _=null,b=null;const M=[],P=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Sa,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const E=this;let D=!1,z=0,W=0,ee=null,Y=-1,de=null;const fe=new bi,Ee=new bi;let Q=null,Ae=e.width,Ve=e.height,Ze=1,St=null,Nt=null;const Qe=new bi(0,0,Ae,Ve),yt=new bi(0,0,Ae,Ve);let ke=!1;const et=new ug;let it=!1,Je=!1,dt=null;const kt=new Jn,Ot=new Mt,Gt=new me,Zt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Fn(){return null===ee?Ze:1}let yn,bn,tn,li,Lt,Dt,qt,vn,on,ri,Hn,Nn,Cr,tr,De,pe,At,Ht,Kt,ln,Yn,It,Sn,mn,Et=t;function Mn(Ie,at){for(let _t=0;_t<Ie.length;_t++){const Rt=e.getContext(Ie[_t],at);if(null!==Rt)return Rt}return null}try{const Ie={alpha:!0,depth:n,stencil:r,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:h,powerPreference:p,failIfMajorPerformanceCaveat:m};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r143"),e.addEventListener("webglcontextlost",ci,!1),e.addEventListener("webglcontextrestored",Vi,!1),e.addEventListener("webglcontextcreationerror",Wr,!1),null===Et){const at=["webgl2","webgl","experimental-webgl"];if(!0===E.isWebGL1Renderer&&at.shift(),Et=Mn(at,Ie),null===Et)throw Mn(at)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Et.getShaderPrecisionFormat&&(Et.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ie){throw console.error("THREE.WebGLRenderer: "+Ie.message),Ie}function Pn(){yn=new vg(Et),bn=new Nm(Et,yn,o),yn.init(bn),It=new L_(Et,yn,bn),tn=new Dg(Et,yn,bn),li=new Nh,Lt=new w_,Dt=new nC(Et,yn,tn,Lt,bn,It,li),qt=new K0(E),vn=new eb(E),on=new u0(Et,bn),Sn=new Rh(Et,yn,on,bn),ri=new su(Et,on,li,Sn),Hn=new ka(Et,ri,on,li),Kt=new ib(Et,bn,Dt),pe=new VI(Lt),Nn=new x_(E,qt,vn,yn,bn,Sn,pe),Cr=new _b(E,Lt),tr=new Cb,De=new E_(yn,bn),Ht=new Cg(E,qt,tn,Hn,I,c),At=new tC(E,Hn,bn),mn=new vb(Et,li,bn,tn),ln=new q0(Et,yn,li,bn),Yn=new VM(Et,yn,li,bn),li.programs=Nn.programs,E.capabilities=bn,E.extensions=yn,E.properties=Lt,E.renderLists=tr,E.shadowMap=At,E.state=tn,E.info=li}Pn();const In=new k_(E,Et);function ci(Ie){Ie.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function Vi(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const Ie=li.autoReset,at=At.enabled,_t=At.autoUpdate,ht=At.needsUpdate,Rt=At.type;Pn(),li.autoReset=Ie,At.enabled=at,At.autoUpdate=_t,At.needsUpdate=ht,At.type=Rt}function Wr(Ie){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Ie.statusMessage)}function Ye(Ie){const at=Ie.target;at.removeEventListener("dispose",Ye),function pn(Ie){(function wt(Ie){const at=Lt.get(Ie).programs;void 0!==at&&(at.forEach(function(_t){Nn.releaseProgram(_t)}),Ie.isShaderMaterial&&Nn.releaseShaderCache(Ie))})(Ie),Lt.remove(Ie)}(at)}this.xr=In,this.getContext=function(){return Et},this.getContextAttributes=function(){return Et.getContextAttributes()},this.forceContextLoss=function(){const Ie=yn.get("WEBGL_lose_context");Ie&&Ie.loseContext()},this.forceContextRestore=function(){const Ie=yn.get("WEBGL_lose_context");Ie&&Ie.restoreContext()},this.getPixelRatio=function(){return Ze},this.setPixelRatio=function(Ie){void 0!==Ie&&(Ze=Ie,this.setSize(Ae,Ve,!1))},this.getSize=function(Ie){return Ie.set(Ae,Ve)},this.setSize=function(Ie,at,_t){In.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Ae=Ie,Ve=at,e.width=Math.floor(Ie*Ze),e.height=Math.floor(at*Ze),!1!==_t&&(e.style.width=Ie+"px",e.style.height=at+"px"),this.setViewport(0,0,Ie,at))},this.getDrawingBufferSize=function(Ie){return Ie.set(Ae*Ze,Ve*Ze).floor()},this.setDrawingBufferSize=function(Ie,at,_t){Ae=Ie,Ve=at,Ze=_t,e.width=Math.floor(Ie*_t),e.height=Math.floor(at*_t),this.setViewport(0,0,Ie,at)},this.getCurrentViewport=function(Ie){return Ie.copy(fe)},this.getViewport=function(Ie){return Ie.copy(Qe)},this.setViewport=function(Ie,at,_t,ht){Ie.isVector4?Qe.set(Ie.x,Ie.y,Ie.z,Ie.w):Qe.set(Ie,at,_t,ht),tn.viewport(fe.copy(Qe).multiplyScalar(Ze).floor())},this.getScissor=function(Ie){return Ie.copy(yt)},this.setScissor=function(Ie,at,_t,ht){Ie.isVector4?yt.set(Ie.x,Ie.y,Ie.z,Ie.w):yt.set(Ie,at,_t,ht),tn.scissor(Ee.copy(yt).multiplyScalar(Ze).floor())},this.getScissorTest=function(){return ke},this.setScissorTest=function(Ie){tn.setScissorTest(ke=Ie)},this.setOpaqueSort=function(Ie){St=Ie},this.setTransparentSort=function(Ie){Nt=Ie},this.getClearColor=function(Ie){return Ie.copy(Ht.getClearColor())},this.setClearColor=function(){Ht.setClearColor.apply(Ht,arguments)},this.getClearAlpha=function(){return Ht.getClearAlpha()},this.setClearAlpha=function(){Ht.setClearAlpha.apply(Ht,arguments)},this.clear=function(Ie=!0,at=!0,_t=!0){let ht=0;Ie&&(ht|=16384),at&&(ht|=256),_t&&(ht|=1024),Et.clear(ht)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ci,!1),e.removeEventListener("webglcontextrestored",Vi,!1),e.removeEventListener("webglcontextcreationerror",Wr,!1),tr.dispose(),De.dispose(),Lt.dispose(),qt.dispose(),vn.dispose(),Hn.dispose(),Sn.dispose(),mn.dispose(),Nn.dispose(),In.dispose(),In.removeEventListener("sessionstart",Oi),In.removeEventListener("sessionend",vs),dt&&(dt.dispose(),dt=null),jr.stop()},this.renderBufferDirect=function(Ie,at,_t,ht,Rt,jn){null===at&&(at=Zt);const si=Rt.isMesh&&Rt.matrixWorld.determinant()<0,gi=function iE(Ie,at,_t,ht,Rt){!0!==at.isScene&&(at=Zt),Dt.resetTextureUnits();const jn=at.fog,gi=null===ee?E.outputEncoding:!0===ee.isXRRenderTarget?ee.texture.encoding:Sa,ui=(ht.isMeshStandardMaterial?vn:qt).get(ht.envMap||(ht.isMeshStandardMaterial?at.environment:null)),Zi=!0===ht.vertexColors&&!!_t.attributes.color&&4===_t.attributes.color.itemSize,Ti=!!ht.normalMap&&!!_t.attributes.tangent,Li=!!_t.morphAttributes.position,Nr=!!_t.morphAttributes.normal,wf=!!_t.morphAttributes.color,Ap=ht.toneMapped?E.toneMapping:0,Ip=_t.morphAttributes.position||_t.morphAttributes.normal||_t.morphAttributes.color,Sc=void 0!==Ip?Ip.length:0,Hi=Lt.get(ht),_p=b.state.lights;!0!==it||!0!==Je&&Ie===de||pe.setState(ht,Ie,Ie===de&&ht.id===Y);let Xr=!1;ht.version===Hi.__version?(Hi.needsLights&&Hi.lightsStateVersion!==_p.state.version||Hi.outputEncoding!==gi||Rt.isInstancedMesh&&!1===Hi.instancing||!Rt.isInstancedMesh&&!0===Hi.instancing||Rt.isSkinnedMesh&&!1===Hi.skinning||!Rt.isSkinnedMesh&&!0===Hi.skinning||Hi.envMap!==ui||!0===ht.fog&&Hi.fog!==jn||void 0!==Hi.numClippingPlanes&&(Hi.numClippingPlanes!==pe.numPlanes||Hi.numIntersection!==pe.numIntersection)||Hi.vertexAlphas!==Zi||Hi.vertexTangents!==Ti||Hi.morphTargets!==Li||Hi.morphNormals!==Nr||Hi.morphColors!==wf||Hi.toneMapping!==Ap||!0===bn.isWebGL2&&Hi.morphTargetsCount!==Sc)&&(Xr=!0):(Xr=!0,Hi.__version=ht.version);let Za=Hi.currentProgram;!0===Xr&&(Za=Fw(ht,at,Rt));let Zd=!1,CA=!1,kw=!1;const uo=Za.getUniforms(),AA=Hi.uniforms;if(tn.useProgram(Za.program)&&(Zd=!0,CA=!0,kw=!0),ht.id!==Y&&(Y=ht.id,CA=!0),Zd||de!==Ie){if(uo.setValue(Et,"projectionMatrix",Ie.projectionMatrix),bn.logarithmicDepthBuffer&&uo.setValue(Et,"logDepthBufFC",2/(Math.log(Ie.far+1)/Math.LN2)),de!==Ie&&(de=Ie,CA=!0,kw=!0),ht.isShaderMaterial||ht.isMeshPhongMaterial||ht.isMeshToonMaterial||ht.isMeshStandardMaterial||ht.envMap){const sa=uo.map.cameraPosition;void 0!==sa&&sa.setValue(Et,Gt.setFromMatrixPosition(Ie.matrixWorld))}(ht.isMeshPhongMaterial||ht.isMeshToonMaterial||ht.isMeshLambertMaterial||ht.isMeshBasicMaterial||ht.isMeshStandardMaterial||ht.isShaderMaterial)&&uo.setValue(Et,"isOrthographic",!0===Ie.isOrthographicCamera),(ht.isMeshPhongMaterial||ht.isMeshToonMaterial||ht.isMeshLambertMaterial||ht.isMeshBasicMaterial||ht.isMeshStandardMaterial||ht.isShaderMaterial||ht.isShadowMaterial||Rt.isSkinnedMesh)&&uo.setValue(Et,"viewMatrix",Ie.matrixWorldInverse)}if(Rt.isSkinnedMesh){uo.setOptional(Et,Rt,"bindMatrix"),uo.setOptional(Et,Rt,"bindMatrixInverse");const sa=Rt.skeleton;sa&&(bn.floatVertexTextures?(null===sa.boneTexture&&sa.computeBoneTexture(),uo.setValue(Et,"boneTexture",sa.boneTexture,Dt),uo.setValue(Et,"boneTextureSize",sa.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Bw=_t.morphAttributes;if((void 0!==Bw.position||void 0!==Bw.normal||void 0!==Bw.color&&!0===bn.isWebGL2)&&Kt.update(Rt,_t,ht,Za),(CA||Hi.receiveShadow!==Rt.receiveShadow)&&(Hi.receiveShadow=Rt.receiveShadow,uo.setValue(Et,"receiveShadow",Rt.receiveShadow)),CA&&(uo.setValue(Et,"toneMappingExposure",E.toneMappingExposure),Hi.needsLights&&function rE(Ie,at){Ie.ambientLightColor.needsUpdate=at,Ie.lightProbe.needsUpdate=at,Ie.directionalLights.needsUpdate=at,Ie.directionalLightShadows.needsUpdate=at,Ie.pointLights.needsUpdate=at,Ie.pointLightShadows.needsUpdate=at,Ie.spotLights.needsUpdate=at,Ie.spotLightShadows.needsUpdate=at,Ie.rectAreaLights.needsUpdate=at,Ie.hemisphereLights.needsUpdate=at}(AA,kw),jn&&!0===ht.fog&&Cr.refreshFogUniforms(AA,jn),Cr.refreshMaterialUniforms(AA,ht,Ze,Ve,dt),Bh.upload(Et,Hi.uniformsList,AA,Dt)),ht.isShaderMaterial&&!0===ht.uniformsNeedUpdate&&(Bh.upload(Et,Hi.uniformsList,AA,Dt),ht.uniformsNeedUpdate=!1),ht.isSpriteMaterial&&uo.setValue(Et,"center",Rt.center),uo.setValue(Et,"modelViewMatrix",Rt.modelViewMatrix),uo.setValue(Et,"normalMatrix",Rt.normalMatrix),uo.setValue(Et,"modelMatrix",Rt.matrixWorld),ht.isShaderMaterial||ht.isRawShaderMaterial){const sa=ht.uniformsGroups;for(let Uw=0,oE=sa.length;Uw<oE;Uw++)if(bn.isWebGL2){const C1=sa[Uw];mn.update(C1,Za),mn.bind(C1,Za)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Za}(Ie,at,_t,ht,Rt);tn.setMaterial(ht,si);let ui=_t.index;const Zi=_t.attributes.position;if(null===ui){if(void 0===Zi||0===Zi.count)return}else if(0===ui.count)return;let Ti=1;!0===ht.wireframe&&(ui=ri.getWireframeAttribute(_t),Ti=2),Sn.setup(Rt,ht,gi,_t,ui);let Li,Nr=ln;null!==ui&&(Li=on.get(ui),Nr=Yn,Nr.setIndex(Li));const wf=null!==ui?ui.count:Zi.count,Ap=_t.drawRange.start*Ti,Ip=_t.drawRange.count*Ti,Sc=null!==jn?jn.start*Ti:0,Hi=null!==jn?jn.count*Ti:1/0,_p=Math.max(Ap,Sc),Xr=Math.min(wf,Ap+Ip,Sc+Hi)-1,Za=Math.max(0,Xr-_p+1);if(0!==Za){if(Rt.isMesh)!0===ht.wireframe?(tn.setLineWidth(ht.wireframeLinewidth*Fn()),Nr.setMode(1)):Nr.setMode(4);else if(Rt.isLine){let Zd=ht.linewidth;void 0===Zd&&(Zd=1),tn.setLineWidth(Zd*Fn()),Nr.setMode(Rt.isLineSegments?1:Rt.isLineLoop?2:3)}else Rt.isPoints?Nr.setMode(0):Rt.isSprite&&Nr.setMode(4);if(Rt.isInstancedMesh)Nr.renderInstances(_p,Za,Rt.count);else if(_t.isInstancedBufferGeometry){const Zd=Math.min(_t.instanceCount,_t._maxInstanceCount);Nr.renderInstances(_p,Za,Zd)}else Nr.render(_p,Za)}},this.compile=function(Ie,at){b=De.get(Ie),b.init(),P.push(b),Ie.traverseVisible(function(_t){_t.isLight&&_t.layers.test(at.layers)&&(b.pushLight(_t),_t.castShadow&&b.pushShadow(_t))}),b.setupLights(E.physicallyCorrectLights),Ie.traverse(function(_t){const ht=_t.material;if(ht)if(Array.isArray(ht))for(let Rt=0;Rt<ht.length;Rt++)Fw(ht[Rt],Ie,_t);else Fw(ht,Ie,_t)}),P.pop(),b=null};let fn=null;function Oi(){jr.stop()}function vs(){jr.start()}const jr=new c0;function $d(Ie,at,_t,ht){if(!1===Ie.visible)return;if(Ie.layers.test(at.layers))if(Ie.isGroup)_t=Ie.renderOrder;else if(Ie.isLOD)!0===Ie.autoUpdate&&Ie.update(at);else if(Ie.isLight)b.pushLight(Ie),Ie.castShadow&&b.pushShadow(Ie);else if(Ie.isSprite){if(!Ie.frustumCulled||et.intersectsSprite(Ie)){ht&&Gt.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(kt);const si=Hn.update(Ie),gi=Ie.material;gi.visible&&_.push(Ie,si,gi,_t,Gt.z,null)}}else if((Ie.isMesh||Ie.isLine||Ie.isPoints)&&(Ie.isSkinnedMesh&&Ie.skeleton.frame!==li.render.frame&&(Ie.skeleton.update(),Ie.skeleton.frame=li.render.frame),!Ie.frustumCulled||et.intersectsObject(Ie))){ht&&Gt.setFromMatrixPosition(Ie.matrixWorld).applyMatrix4(kt);const si=Hn.update(Ie),gi=Ie.material;if(Array.isArray(gi)){const ui=si.groups;for(let Zi=0,Ti=ui.length;Zi<Ti;Zi++){const Li=ui[Zi],Nr=gi[Li.materialIndex];Nr&&Nr.visible&&_.push(Ie,si,Nr,_t,Gt.z,Li)}}else gi.visible&&_.push(Ie,si,gi,_t,Gt.z,null)}const jn=Ie.children;for(let si=0,gi=jn.length;si<gi;si++)$d(jn[si],at,_t,ht)}function Rr(Ie,at,_t,ht){const Rt=Ie.opaque,jn=Ie.transmissive,si=Ie.transparent;b.setupLightsView(_t),jn.length>0&&function Eu(Ie,at,_t){const ht=bn.isWebGL2;null===dt&&(dt=new qo(1,1,{generateMipmaps:!0,type:yn.has("EXT_color_buffer_half_float")?qu:Yu,minFilter:pl,samples:ht&&!0===a?4:0})),E.getDrawingBufferSize(Ot),ht?dt.setSize(Ot.x,Ot.y):dt.setSize(Wp(Ot.x),Wp(Ot.y));const Rt=E.getRenderTarget();E.setRenderTarget(dt),E.clear();const jn=E.toneMapping;E.toneMapping=0,$a(Ie,at,_t),E.toneMapping=jn,Dt.updateMultisampleRenderTarget(dt),Dt.updateRenderTargetMipmap(dt),E.setRenderTarget(Rt)}(Rt,at,_t),ht&&tn.viewport(fe.copy(ht)),Rt.length>0&&$a(Rt,at,_t),jn.length>0&&$a(jn,at,_t),si.length>0&&$a(si,at,_t),tn.buffers.depth.setTest(!0),tn.buffers.depth.setMask(!0),tn.buffers.color.setMask(!0),tn.setPolygonOffset(!1)}function $a(Ie,at,_t){const ht=!0===at.isScene?at.overrideMaterial:null;for(let Rt=0,jn=Ie.length;Rt<jn;Rt++){const si=Ie[Rt],gi=si.object,ui=si.geometry,Zi=null===ht?si.material:ht,Ti=si.group;gi.layers.test(_t.layers)&&nE(gi,at,_t,ui,Zi,Ti)}}function nE(Ie,at,_t,ht,Rt,jn){Ie.onBeforeRender(E,at,_t,ht,Rt,jn),Ie.modelViewMatrix.multiplyMatrices(_t.matrixWorldInverse,Ie.matrixWorld),Ie.normalMatrix.getNormalMatrix(Ie.modelViewMatrix),Rt.onBeforeRender(E,at,_t,ht,Ie,jn),!0===Rt.transparent&&2===Rt.side?(Rt.side=1,Rt.needsUpdate=!0,E.renderBufferDirect(_t,at,ht,Rt,Ie,jn),Rt.side=0,Rt.needsUpdate=!0,E.renderBufferDirect(_t,at,ht,Rt,Ie,jn),Rt.side=2):E.renderBufferDirect(_t,at,ht,Rt,Ie,jn),Ie.onAfterRender(E,at,_t,ht,Rt,jn)}function Fw(Ie,at,_t){!0!==at.isScene&&(at=Zt);const ht=Lt.get(Ie),Rt=b.state.lights,si=Rt.state.version,gi=Nn.getParameters(Ie,Rt.state,b.state.shadowsArray,at,_t),ui=Nn.getProgramCacheKey(gi);let Zi=ht.programs;ht.environment=Ie.isMeshStandardMaterial?at.environment:null,ht.fog=at.fog,ht.envMap=(Ie.isMeshStandardMaterial?vn:qt).get(Ie.envMap||ht.environment),void 0===Zi&&(Ie.addEventListener("dispose",Ye),Zi=new Map,ht.programs=Zi);let Ti=Zi.get(ui);if(void 0!==Ti){if(ht.currentProgram===Ti&&ht.lightsStateVersion===si)return m1(Ie,gi),Ti}else gi.uniforms=Nn.getUniforms(Ie),Ie.onBuild(_t,gi,E),Ie.onBeforeCompile(gi,E),Ti=Nn.acquireProgram(gi,ui),Zi.set(ui,Ti),ht.uniforms=gi.uniforms;const Li=ht.uniforms;(!Ie.isShaderMaterial&&!Ie.isRawShaderMaterial||!0===Ie.clipping)&&(Li.clippingPlanes=pe.uniform),m1(Ie,gi),ht.needsLights=function sE(Ie){return Ie.isMeshLambertMaterial||Ie.isMeshToonMaterial||Ie.isMeshPhongMaterial||Ie.isMeshStandardMaterial||Ie.isShadowMaterial||Ie.isShaderMaterial&&!0===Ie.lights}(Ie),ht.lightsStateVersion=si,ht.needsLights&&(Li.ambientLightColor.value=Rt.state.ambient,Li.lightProbe.value=Rt.state.probe,Li.directionalLights.value=Rt.state.directional,Li.directionalLightShadows.value=Rt.state.directionalShadow,Li.spotLights.value=Rt.state.spot,Li.spotLightShadows.value=Rt.state.spotShadow,Li.rectAreaLights.value=Rt.state.rectArea,Li.ltc_1.value=Rt.state.rectAreaLTC1,Li.ltc_2.value=Rt.state.rectAreaLTC2,Li.pointLights.value=Rt.state.point,Li.pointLightShadows.value=Rt.state.pointShadow,Li.hemisphereLights.value=Rt.state.hemi,Li.directionalShadowMap.value=Rt.state.directionalShadowMap,Li.directionalShadowMatrix.value=Rt.state.directionalShadowMatrix,Li.spotShadowMap.value=Rt.state.spotShadowMap,Li.spotShadowMatrix.value=Rt.state.spotShadowMatrix,Li.pointShadowMap.value=Rt.state.pointShadowMap,Li.pointShadowMatrix.value=Rt.state.pointShadowMatrix);const Nr=Ti.getUniforms(),wf=Bh.seqWithValue(Nr.seq,Li);return ht.currentProgram=Ti,ht.uniformsList=wf,Ti}function m1(Ie,at){const _t=Lt.get(Ie);_t.outputEncoding=at.outputEncoding,_t.instancing=at.instancing,_t.skinning=at.skinning,_t.morphTargets=at.morphTargets,_t.morphNormals=at.morphNormals,_t.morphColors=at.morphColors,_t.morphTargetsCount=at.morphTargetsCount,_t.numClippingPlanes=at.numClippingPlanes,_t.numIntersection=at.numClipIntersection,_t.vertexAlphas=at.vertexAlphas,_t.vertexTangents=at.vertexTangents,_t.toneMapping=at.toneMapping}jr.setAnimationLoop(function cn(Ie){fn&&fn(Ie)}),typeof self<"u"&&jr.setContext(self),this.setAnimationLoop=function(Ie){fn=Ie,In.setAnimationLoop(Ie),null===Ie?jr.stop():jr.start()},In.addEventListener("sessionstart",Oi),In.addEventListener("sessionend",vs),this.render=function(Ie,at){if(void 0===at||!0===at.isCamera){if(!0!==D){if(!0===Ie.autoUpdate&&Ie.updateMatrixWorld(),null===at.parent&&at.updateMatrixWorld(),!0===In.enabled&&!0===In.isPresenting&&(!0===In.cameraAutoUpdate&&In.updateCamera(at),at=In.getCamera()),!0===Ie.isScene&&Ie.onBeforeRender(E,Ie,at,ee),b=De.get(Ie,P.length),b.init(),P.push(b),kt.multiplyMatrices(at.projectionMatrix,at.matrixWorldInverse),et.setFromProjectionMatrix(kt),Je=this.localClippingEnabled,it=pe.init(this.clippingPlanes,Je,at),_=tr.get(Ie,M.length),_.init(),M.push(_),$d(Ie,at,0,E.sortObjects),_.finish(),!0===E.sortObjects&&_.sort(St,Nt),!0===it&&pe.beginShadows(),At.render(b.state.shadowsArray,Ie,at),!0===it&&pe.endShadows(),!0===this.info.autoReset&&this.info.reset(),Ht.render(_,Ie),b.setupLights(E.physicallyCorrectLights),at.isArrayCamera){const ht=at.cameras;for(let Rt=0,jn=ht.length;Rt<jn;Rt++){const si=ht[Rt];Rr(_,Ie,si,si.viewport)}}else Rr(_,Ie,at);null!==ee&&(Dt.updateMultisampleRenderTarget(ee),Dt.updateRenderTargetMipmap(ee)),!0===Ie.isScene&&Ie.onAfterRender(E,Ie,at),Sn.resetDefaultState(),Y=-1,de=null,P.pop(),b=P.length>0?P[P.length-1]:null,M.pop(),_=M.length>0?M[M.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return z},this.getActiveMipmapLevel=function(){return W},this.getRenderTarget=function(){return ee},this.setRenderTargetTextures=function(Ie,at,_t){Lt.get(Ie.texture).__webglTexture=at,Lt.get(Ie.depthTexture).__webglTexture=_t;const ht=Lt.get(Ie);ht.__hasExternalTextures=!0,ht.__hasExternalTextures&&(ht.__autoAllocateDepthBuffer=void 0===_t,ht.__autoAllocateDepthBuffer||!0===yn.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ht.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Ie,at){const _t=Lt.get(Ie);_t.__webglFramebuffer=at,_t.__useDefaultFramebuffer=void 0===at},this.setRenderTarget=function(Ie,at=0,_t=0){ee=Ie,z=at,W=_t;let ht=!0;if(Ie){const ui=Lt.get(Ie);void 0!==ui.__useDefaultFramebuffer?(tn.bindFramebuffer(36160,null),ht=!1):void 0===ui.__webglFramebuffer?Dt.setupRenderTarget(Ie):ui.__hasExternalTextures&&Dt.rebindTextures(Ie,Lt.get(Ie.texture).__webglTexture,Lt.get(Ie.depthTexture).__webglTexture)}let Rt=null,jn=!1,si=!1;if(Ie){const ui=Ie.texture;(ui.isData3DTexture||ui.isDataArrayTexture)&&(si=!0);const Zi=Lt.get(Ie).__webglFramebuffer;Ie.isWebGLCubeRenderTarget?(Rt=Zi[at],jn=!0):Rt=bn.isWebGL2&&Ie.samples>0&&!1===Dt.useMultisampledRTT(Ie)?Lt.get(Ie).__webglMultisampledFramebuffer:Zi,fe.copy(Ie.viewport),Ee.copy(Ie.scissor),Q=Ie.scissorTest}else fe.copy(Qe).multiplyScalar(Ze).floor(),Ee.copy(yt).multiplyScalar(Ze).floor(),Q=ke;if(tn.bindFramebuffer(36160,Rt)&&bn.drawBuffers&&ht&&tn.drawBuffers(Ie,Rt),tn.viewport(fe),tn.scissor(Ee),tn.setScissorTest(Q),jn){const ui=Lt.get(Ie.texture);Et.framebufferTexture2D(36160,36064,34069+at,ui.__webglTexture,_t)}else if(si){const ui=Lt.get(Ie.texture);Et.framebufferTextureLayer(36160,36064,ui.__webglTexture,_t||0,at||0)}Y=-1},this.readRenderTargetPixels=function(Ie,at,_t,ht,Rt,jn,si){if(!Ie||!Ie.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gi=Lt.get(Ie).__webglFramebuffer;if(Ie.isWebGLCubeRenderTarget&&void 0!==si&&(gi=gi[si]),gi){tn.bindFramebuffer(36160,gi);try{const ui=Ie.texture,Zi=ui.format,Ti=ui.type;if(Zi!==Mo&&It.convert(Zi)!==Et.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Li=Ti===qu&&(yn.has("EXT_color_buffer_half_float")||bn.isWebGL2&&yn.has("EXT_color_buffer_float"));if(!(Ti===Yu||It.convert(Ti)===Et.getParameter(35738)||Ti===ic&&(bn.isWebGL2||yn.has("OES_texture_float")||yn.has("WEBGL_color_buffer_float"))||Li))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");at>=0&&at<=Ie.width-ht&&_t>=0&&_t<=Ie.height-Rt&&Et.readPixels(at,_t,ht,Rt,It.convert(Zi),It.convert(Ti),jn)}finally{const ui=null!==ee?Lt.get(ee).__webglFramebuffer:null;tn.bindFramebuffer(36160,ui)}}},this.copyFramebufferToTexture=function(Ie,at,_t=0){const ht=Math.pow(2,-_t),Rt=Math.floor(at.image.width*ht),jn=Math.floor(at.image.height*ht);Dt.setTexture2D(at,0),Et.copyTexSubImage2D(3553,_t,0,0,Ie.x,Ie.y,Rt,jn),tn.unbindTexture()},this.copyTextureToTexture=function(Ie,at,_t,ht=0){const Rt=at.image.width,jn=at.image.height,si=It.convert(_t.format),gi=It.convert(_t.type);Dt.setTexture2D(_t,0),Et.pixelStorei(37440,_t.flipY),Et.pixelStorei(37441,_t.premultiplyAlpha),Et.pixelStorei(3317,_t.unpackAlignment),at.isDataTexture?Et.texSubImage2D(3553,ht,Ie.x,Ie.y,Rt,jn,si,gi,at.image.data):at.isCompressedTexture?Et.compressedTexSubImage2D(3553,ht,Ie.x,Ie.y,at.mipmaps[0].width,at.mipmaps[0].height,si,at.mipmaps[0].data):Et.texSubImage2D(3553,ht,Ie.x,Ie.y,si,gi,at.image),0===ht&&_t.generateMipmaps&&Et.generateMipmap(3553),tn.unbindTexture()},this.copyTextureToTexture3D=function(Ie,at,_t,ht,Rt=0){if(E.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const jn=Ie.max.x-Ie.min.x+1,si=Ie.max.y-Ie.min.y+1,gi=Ie.max.z-Ie.min.z+1,ui=It.convert(ht.format),Zi=It.convert(ht.type);let Ti;if(ht.isData3DTexture)Dt.setTexture3D(ht,0),Ti=32879;else{if(!ht.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Dt.setTexture2DArray(ht,0),Ti=35866}Et.pixelStorei(37440,ht.flipY),Et.pixelStorei(37441,ht.premultiplyAlpha),Et.pixelStorei(3317,ht.unpackAlignment);const Li=Et.getParameter(3314),Nr=Et.getParameter(32878),wf=Et.getParameter(3316),Ap=Et.getParameter(3315),Ip=Et.getParameter(32877),Sc=_t.isCompressedTexture?_t.mipmaps[0]:_t.image;Et.pixelStorei(3314,Sc.width),Et.pixelStorei(32878,Sc.height),Et.pixelStorei(3316,Ie.min.x),Et.pixelStorei(3315,Ie.min.y),Et.pixelStorei(32877,Ie.min.z),_t.isDataTexture||_t.isData3DTexture?Et.texSubImage3D(Ti,Rt,at.x,at.y,at.z,jn,si,gi,ui,Zi,Sc.data):_t.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Et.compressedTexSubImage3D(Ti,Rt,at.x,at.y,at.z,jn,si,gi,ui,Sc.data)):Et.texSubImage3D(Ti,Rt,at.x,at.y,at.z,jn,si,gi,ui,Zi,Sc),Et.pixelStorei(3314,Li),Et.pixelStorei(32878,Nr),Et.pixelStorei(3316,wf),Et.pixelStorei(3315,Ap),Et.pixelStorei(32877,Ip),0===Rt&&ht.generateMipmaps&&Et.generateMipmap(Ti),tn.unbindTexture()},this.initTexture=function(Ie){Ie.isCubeTexture?Dt.setTextureCube(Ie,0):Ie.isData3DTexture?Dt.setTexture3D(Ie,0):Ie.isDataArrayTexture?Dt.setTexture2DArray(Ie,0):Dt.setTexture2D(Ie,0),tn.unbindTexture()},this.resetState=function(){z=0,W=0,ee=null,tn.reset(),Sn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class bb extends Og{}).prototype.isWebGL1Renderer=!0;class Lg extends ls{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}class sC{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=zs()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=zs()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=zs()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ms=new me;class cu{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Ms.fromBufferAttribute(this,t),Ms.applyMatrix4(e),this.setXYZ(t,Ms.x,Ms.y,Ms.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Ms.fromBufferAttribute(this,t),Ms.applyNormalMatrix(e),this.setXYZ(t,Ms.x,Ms.y,Ms.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Ms.fromBufferAttribute(this,t),Ms.transformDirection(e),this.setXYZ(t,Ms.x,Ms.y,Ms.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,n){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,a){return this.data.array[(e=e*this.data.stride+this.offset)+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return new Er(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new cu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const r=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const V_=new me,H_=new bi,du=new bi,GM=new me,Ng=new Jn;class xb extends Dr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Jn,this.bindMatrixInverse=new Jn}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new bi,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const n=this.skeleton,r=this.geometry;H_.fromBufferAttribute(r.attributes.skinIndex,e),du.fromBufferAttribute(r.attributes.skinWeight,e),V_.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const c=du.getComponent(a);if(0!==c){const h=H_.getComponent(a);Ng.multiplyMatrices(n.bones[h].matrixWorld,n.boneInverses[h]),t.addScaledVector(GM.copy(V_).applyMatrix4(Ng),c)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Fg extends ls{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vd extends to{constructor(e=null,t=1,n=1,r,a,c,h,p,m=pr,I=pr,_,b){super(null,c,h,p,m,I,r,a,_,b),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const wb=new Jn,En=new Jn;class kg{constructor(e=[],t=[]){this.uuid=zs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Jn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Jn;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let a=0,c=e.length;a<c;a++)wb.multiplyMatrices(e[a]?e[a].matrixWorld:En,t[a]),wb.toArray(n,16*a);null!==r&&(r.needsUpdate=!0)}clone(){return new kg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=XA(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new vd(t,e,e,Mo,ic);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){const a=e.bones[n];let c=t[a];void 0===c&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),c=new Fg),this.bones.push(c),this.boneInverses.push((new Jn).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,a=t.length;r<a;r++)e.bones.push(t[r].uuid),e.boneInverses.push(n[r].toArray());return e}}class Ii extends Po{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Wt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Mb=new me,uC=new me,dC=new Jn,hC=new Kf,qh=new Kc;class Ic extends ls{constructor(e=new Zn,t=new Ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let r=1,a=t.count;r<a;r++)Mb.fromBufferAttribute(t,r-1),uC.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Mb.distanceTo(uC);e.setAttribute("lineDistance",new hn(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,c=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),qh.copy(n.boundingSphere),qh.applyMatrix4(r),qh.radius+=a,!1===e.ray.intersectsSphere(qh))return;dC.copy(r).invert(),hC.copy(e.ray).applyMatrix4(dC);const h=a/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,m=new me,I=new me,_=new me,b=new me,M=this.isLineSegments?2:1,P=n.index,D=n.attributes.position;if(null!==P)for(let ee=Math.max(0,c.start),Y=Math.min(P.count,c.start+c.count)-1;ee<Y;ee+=M){const de=P.getX(ee),fe=P.getX(ee+1);if(m.fromBufferAttribute(D,de),I.fromBufferAttribute(D,fe),hC.distanceSqToSegment(m,I,b,_)>p)continue;b.applyMatrix4(this.matrixWorld);const Q=e.ray.origin.distanceTo(b);Q<e.near||Q>e.far||t.push({distance:Q,point:_.clone().applyMatrix4(this.matrixWorld),index:ee,face:null,faceIndex:null,object:this})}else for(let ee=Math.max(0,c.start),Y=Math.min(D.count,c.start+c.count)-1;ee<Y;ee+=M){if(m.fromBufferAttribute(D,ee),I.fromBufferAttribute(D,ee+1),hC.distanceSqToSegment(m,I,b,_)>p)continue;b.applyMatrix4(this.matrixWorld);const fe=e.ray.origin.distanceTo(b);fe<e.near||fe>e.far||t.push({distance:fe,point:_.clone().applyMatrix4(this.matrixWorld),index:ee,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,c=r.length;a<c;a++){const h=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=a}}}}}const fC=new me,gC=new me;class Vg extends Ic{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let r=0,a=t.count;r<a;r+=2)fC.fromBufferAttribute(t,r),gC.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+fC.distanceTo(gC);e.setAttribute("lineDistance",new hn(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class G_ extends Ic{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class pC extends Po{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Wt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const yd=new Jn,mC=new Kf,Hg=new Kc,zg=new me;class Kh extends ls{constructor(e=new Zn,t=new pC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,c=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Hg.copy(n.boundingSphere),Hg.applyMatrix4(r),Hg.radius+=a,!1===e.ray.intersectsSphere(Hg))return;yd.copy(r).invert(),mC.copy(e.ray).applyMatrix4(yd);const h=a/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,m=n.index,_=n.attributes.position;if(null!==m)for(let P=Math.max(0,c.start),E=Math.min(m.count,c.start+c.count);P<E;P++){const D=m.getX(P);zg.fromBufferAttribute(_,D),CC(zg,D,p,r,e,t,this)}else for(let P=Math.max(0,c.start),E=Math.min(_.count,c.start+c.count);P<E;P++)zg.fromBufferAttribute(_,P),CC(zg,P,p,r,e,t,this)}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,c=r.length;a<c;a++){const h=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=a}}}}}function CC(o,e,t,n,r,a,c){const h=mC.distanceSqToPoint(o);if(h<t){const p=new me;mC.closestPointToPoint(o,p),p.applyMatrix4(n);const m=r.ray.origin.distanceTo(p);if(m<r.near||m>r.far)return;a.push({distance:m,distanceToRay:Math.sqrt(h),point:p,index:e,face:null,object:c})}}class _c extends Zn{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const a=[],c=[];function p(W,ee,Y,de){const fe=de+1,Ee=[];for(let Q=0;Q<=fe;Q++){Ee[Q]=[];const Ae=W.clone().lerp(Y,Q/fe),Ve=ee.clone().lerp(Y,Q/fe),Ze=fe-Q;for(let St=0;St<=Ze;St++)Ee[Q][St]=0===St&&Q===fe?Ae:Ae.clone().lerp(Ve,St/Ze)}for(let Q=0;Q<fe;Q++)for(let Ae=0;Ae<2*(fe-Q)-1;Ae++){const Ve=Math.floor(Ae/2);Ae%2==0?(b(Ee[Q][Ve+1]),b(Ee[Q+1][Ve]),b(Ee[Q][Ve])):(b(Ee[Q][Ve+1]),b(Ee[Q+1][Ve+1]),b(Ee[Q+1][Ve]))}}function b(W){a.push(W.x,W.y,W.z)}function M(W,ee){const Y=3*W;ee.x=e[Y+0],ee.y=e[Y+1],ee.z=e[Y+2]}function E(W,ee,Y,de){de<0&&1===W.x&&(c[ee]=W.x-1),0===Y.x&&0===Y.z&&(c[ee]=de/2/Math.PI+.5)}function D(W){return Math.atan2(W.z,-W.x)}function z(W){return Math.atan2(-W.y,Math.sqrt(W.x*W.x+W.z*W.z))}(function h(W){const ee=new me,Y=new me,de=new me;for(let fe=0;fe<t.length;fe+=3)M(t[fe+0],ee),M(t[fe+1],Y),M(t[fe+2],de),p(ee,Y,de,W)})(r),function m(W){const ee=new me;for(let Y=0;Y<a.length;Y+=3)ee.x=a[Y+0],ee.y=a[Y+1],ee.z=a[Y+2],ee.normalize().multiplyScalar(W),a[Y+0]=ee.x,a[Y+1]=ee.y,a[Y+2]=ee.z}(n),function I(){const W=new me;for(let ee=0;ee<a.length;ee+=3){W.x=a[ee+0],W.y=a[ee+1],W.z=a[ee+2];const Y=D(W)/2/Math.PI+.5,de=z(W)/Math.PI+.5;c.push(Y,1-de)}(function P(){const W=new me,ee=new me,Y=new me,de=new me,fe=new Mt,Ee=new Mt,Q=new Mt;for(let Ae=0,Ve=0;Ae<a.length;Ae+=9,Ve+=6){W.set(a[Ae+0],a[Ae+1],a[Ae+2]),ee.set(a[Ae+3],a[Ae+4],a[Ae+5]),Y.set(a[Ae+6],a[Ae+7],a[Ae+8]),fe.set(c[Ve+0],c[Ve+1]),Ee.set(c[Ve+2],c[Ve+3]),Q.set(c[Ve+4],c[Ve+5]),de.copy(W).add(ee).add(Y).divideScalar(3);const Ze=D(de);E(fe,Ve+0,W,Ze),E(Ee,Ve+2,ee,Ze),E(Q,Ve+4,Y,Ze)}})(),function _(){for(let W=0;W<c.length;W+=6){const ee=c[W+0],Y=c[W+2],de=c[W+4],fe=Math.max(ee,Y,de),Ee=Math.min(ee,Y,de);fe>.9&&Ee<.1&&(ee<.2&&(c[W+0]+=1),Y<.2&&(c[W+2]+=1),de<.2&&(c[W+4]+=1))}}()}(),this.setAttribute("position",new hn(a,3)),this.setAttribute("normal",new hn(a.slice(),3)),this.setAttribute("uv",new hn(c,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new _c(e.vertices,e.indices,e.radius,e.details)}}class cf extends _c{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new cf(e.radius,e.detail)}}class Dl extends Zn{constructor(e=1,t=32,n=16,r=0,a=2*Math.PI,c=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:a,thetaStart:c,thetaLength:h},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const p=Math.min(c+h,Math.PI);let m=0;const I=[],_=new me,b=new me,M=[],P=[],E=[],D=[];for(let z=0;z<=n;z++){const W=[],ee=z/n;let Y=0;0==z&&0==c?Y=.5/t:z==n&&p==Math.PI&&(Y=-.5/t);for(let de=0;de<=t;de++){const fe=de/t;_.x=-e*Math.cos(r+fe*a)*Math.sin(c+ee*h),_.y=e*Math.cos(c+ee*h),_.z=e*Math.sin(r+fe*a)*Math.sin(c+ee*h),P.push(_.x,_.y,_.z),b.copy(_).normalize(),E.push(b.x,b.y,b.z),D.push(fe+Y,1-ee),W.push(m++)}I.push(W)}for(let z=0;z<n;z++)for(let W=0;W<t;W++){const ee=I[z][W+1],Y=I[z][W],de=I[z+1][W],fe=I[z+1][W+1];(0!==z||c>0)&&M.push(ee,Y,fe),(z!==n-1||p<Math.PI)&&M.push(Y,de,fe)}this.setIndex(M),this.setAttribute("position",new hn(P,3)),this.setAttribute("normal",new hn(E,3)),this.setAttribute("uv",new hn(D,2))}static fromJSON(e){return new Dl(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class gu extends Po{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Wt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Wt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Mt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pu extends gu{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Mt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Wt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Wt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Wt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}function lo(o,e,t){return rp(o)?new o.constructor(o.subarray(e,void 0!==t?t:o.length)):o.slice(e,t)}function yc(o,e,t){return!o||!t&&o.constructor===e?o:"number"==typeof e.BYTES_PER_ELEMENT?new e(o):Array.prototype.slice.call(o)}function rp(o){return ArrayBuffer.isView(o)&&!(o instanceof DataView)}function lv(o){const t=o.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function e(r,a){return o[r]-o[a]}),n}function EC(o,e,t){const n=o.length,r=new o.constructor(n);for(let a=0,c=0;c!==n;++a){const h=t[a]*e;for(let p=0;p!==e;++p)r[c++]=o[h+p]}return r}function DC(o,e,t,n){let r=1,a=o[0];for(;void 0!==a&&void 0===a[n];)a=o[r++];if(void 0===a)return;let c=a[n];if(void 0!==c)if(Array.isArray(c))do{c=a[n],void 0!==c&&(e.push(a.time),t.push.apply(t,c)),a=o[r++]}while(void 0!==a);else if(void 0!==c.toArray)do{c=a[n],void 0!==c&&(e.push(a.time),c.toArray(t,t.length)),a=o[r++]}while(void 0!==a);else do{c=a[n],void 0!==c&&(e.push(a.time),t.push(c)),a=o[r++]}while(void 0!==a)}class Pd{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],a=t[n-1];e:{t:{let c;n:{i:if(!(e<r)){for(let h=n+2;;){if(void 0===r){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===h)break;if(a=r,r=t[++n],e<r)break t}c=t.length;break n}if(e>=a)break e;{const h=t[1];e<h&&(n=2,a=h);for(let p=n-2;;){if(void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(n===p)break;if(r=a,a=t[--n-1],e>=a)break t}c=n,n=0}}for(;n<c;){const h=n+c>>>1;e<t[h]?c=h:n=h+1}if(r=t[n],a=t[n-1],void 0===a)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,r)}return this.interpolate_(n,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r;for(let c=0;c!==r;++c)t[c]=n[a+c];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cv extends Pd{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,n){const r=this.parameterPositions;let a=e-2,c=e+1,h=r[a],p=r[c];if(void 0===h)switch(this.getSettings_().endingStart){case 2401:a=e,h=2*t-n;break;case 2402:a=r.length-2,h=t+r[a]-r[a+1];break;default:a=e,h=n}if(void 0===p)switch(this.getSettings_().endingEnd){case 2401:c=e,p=2*n-t;break;case 2402:c=1,p=n+r[1]-r[0];break;default:c=e-1,p=t}const m=.5*(n-t),I=this.valueSize;this._weightPrev=m/(t-h),this._weightNext=m/(p-n),this._offsetPrev=a*I,this._offsetNext=c*I}interpolate_(e,t,n,r){const a=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=e*h,m=p-h,I=this._offsetPrev,_=this._offsetNext,b=this._weightPrev,M=this._weightNext,P=(n-t)/(r-t),E=P*P,D=E*P,z=-b*D+2*b*E-b*P,W=(1+b)*D+(-1.5-2*b)*E+(-.5+b)*P+1,ee=(-1-M)*D+(1.5+M)*E+.5*P,Y=M*D-M*E;for(let de=0;de!==h;++de)a[de]=z*c[I+de]+W*c[m+de]+ee*c[p+de]+Y*c[_+de];return a}}class PC extends Pd{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=e*h,m=p-h,I=(n-t)/(r-t),_=1-I;for(let b=0;b!==h;++b)a[b]=c[m+b]*_+c[p+b]*I;return a}}class uv extends Pd{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class na{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yc(t,this.TimeBufferType),this.values=yc(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:yc(e.times,Array),values:yc(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new uv(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new PC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cv(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Uf:t=this.InterpolantFactoryMethodDiscrete;break;case rc:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Uf;case this.InterpolantFactoryMethodLinear:return rc;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let a=0,c=r-1;for(;a!==r&&n[a]<e;)++a;for(;-1!==c&&n[c]>t;)--c;if(++c,0!==a||c!==r){a>=c&&(c=Math.max(c,1),a=c-1);const h=this.getValueSize();this.times=lo(n,a,c),this.values=lo(this.values,a*h,c*h)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,a=n.length;0===a&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let c=null;for(let h=0;h!==a;h++){const p=n[h];if("number"==typeof p&&isNaN(p)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,p),e=!1;break}if(null!==c&&c>p){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,p,c),e=!1;break}c=p}if(void 0!==r&&rp(r))for(let h=0,p=r.length;h!==p;++h){const m=r[h];if(isNaN(m)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,m),e=!1;break}}return e}optimize(){const e=lo(this.times),t=lo(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),a=e.length-1;let c=1;for(let h=1;h<a;++h){let p=!1;const m=e[h];if(m!==e[h+1]&&(1!==h||m!==e[0]))if(r)p=!0;else{const _=h*n,b=_-n,M=_+n;for(let P=0;P!==n;++P){const E=t[_+P];if(E!==t[b+P]||E!==t[M+P]){p=!0;break}}}if(p){if(h!==c){e[c]=e[h];const _=h*n,b=c*n;for(let M=0;M!==n;++M)t[b+M]=t[_+M]}++c}}if(a>0){e[c]=e[a];for(let h=a*n,p=c*n,m=0;m!==n;++m)t[p+m]=t[h+m];++c}return c!==e.length?(this.times=lo(e,0,c),this.values=lo(t,0,c*n)):(this.times=e,this.values=t),this}clone(){const e=lo(this.times,0),t=lo(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}na.prototype.TimeBufferType=Float32Array,na.prototype.ValueBufferType=Float32Array,na.prototype.DefaultInterpolation=rc;class Od extends na{}Od.prototype.ValueTypeName="bool",Od.prototype.ValueBufferType=Array,Od.prototype.DefaultInterpolation=Uf,Od.prototype.InterpolantFactoryMethodLinear=void 0,Od.prototype.InterpolantFactoryMethodSmooth=void 0;class nx extends na{}nx.prototype.ValueTypeName="color";class Ld extends na{}Ld.prototype.ValueTypeName="number";class ix extends Pd{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const a=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=(n-t)/(r-t);let m=e*h;for(let I=m+h;m!==I;m+=4)Gs.slerpFlat(a,0,c,m-h,c,m,p);return a}}class mu extends na{InterpolantFactoryMethodLinear(e){return new ix(this.times,this.values,this.getValueSize(),e)}}mu.prototype.ValueTypeName="quaternion",mu.prototype.DefaultInterpolation=rc,mu.prototype.InterpolantFactoryMethodSmooth=void 0;class Rd extends na{}Rd.prototype.ValueTypeName="string",Rd.prototype.ValueBufferType=Array,Rd.prototype.DefaultInterpolation=Uf,Rd.prototype.InterpolantFactoryMethodLinear=void 0,Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class ff extends na{}ff.prototype.ValueTypeName="vector";class Pl{constructor(e,t=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=zs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let c=0,h=n.length;c!==h;++c)t.push(OC(n[c]).scale(r));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,c=n.length;a!==c;++a)t.push(na.toJSON(n[a]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const a=t.length,c=[];for(let h=0;h<a;h++){let p=[],m=[];p.push((h+a-1)%a,h,(h+1)%a),m.push(0,1,0);const I=lv(p);p=EC(p,1,I),m=EC(m,1,I),!r&&0===p[0]&&(p.push(a),m.push(m[0])),c.push(new Ld(".morphTargetInfluences["+t[h].name+"]",p,m).scale(1/n))}return new this(e,-1,c)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},a=/^([\w-]*?)([\d]+)$/;for(let h=0,p=e.length;h<p;h++){const m=e[h],I=m.name.match(a);if(I&&I.length>1){const _=I[1];let b=r[_];b||(r[_]=b=[]),b.push(m)}}const c=[];for(const h in r)c.push(this.CreateFromMorphTargetSequence(h,r[h],t,n));return c}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(_,b,M,P,E){if(0!==M.length){const D=[],z=[];DC(M,D,z,P),0!==D.length&&E.push(new _(b,D,z))}},r=[],a=e.name||"default",c=e.fps||30,h=e.blendMode;let p=e.length||-1;const m=e.hierarchy||[];for(let _=0;_<m.length;_++){const b=m[_].keys;if(b&&0!==b.length)if(b[0].morphTargets){const M={};let P;for(P=0;P<b.length;P++)if(b[P].morphTargets)for(let E=0;E<b[P].morphTargets.length;E++)M[b[P].morphTargets[E]]=-1;for(const E in M){const D=[],z=[];for(let W=0;W!==b[P].morphTargets.length;++W){const ee=b[P];D.push(ee.time),z.push(ee.morphTarget===E?1:0)}r.push(new Ld(".morphTargetInfluence["+E+"]",D,z))}p=M.length*c}else{const M=".bones["+t[_].name+"]";n(ff,M+".position",b,"pos",r),n(mu,M+".quaternion",b,"rot",r),n(ff,M+".scale",b,"scl",r)}}return 0===r.length?null:new this(a,p,r,h)}resetDuration(){let t=0;for(let n=0,r=this.tracks.length;n!==r;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function OC(o){if(void 0===o.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function rx(o){switch(o.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ld;case"vector":case"vector2":case"vector3":case"vector4":return ff;case"color":return nx;case"quaternion":return mu;case"bool":case"boolean":return Od;case"string":return Rd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+o)}(o.type);if(void 0===o.times){const t=[],n=[];DC(o.keys,t,n,"value"),o.times=t,o.values=n}return void 0!==e.parse?e.parse(o):new e(o.name,o.times,o.values,o.interpolation)}const Ss={enabled:!1,files:{},add:function(o,e){!1!==this.enabled&&(this.files[o]=e)},get:function(o){if(!1!==this.enabled)return this.files[o]},remove:function(o){delete this.files[o]},clear:function(){this.files={}}};class dv{constructor(e,t,n){const r=this;let p,a=!1,c=0,h=0;const m=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(I){h++,!1===a&&void 0!==r.onStart&&r.onStart(I,c,h),a=!0},this.itemEnd=function(I){c++,void 0!==r.onProgress&&r.onProgress(I,c,h),c===h&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(I){void 0!==r.onError&&r.onError(I)},this.resolveURL=function(I){return p?p(I):I},this.setURLModifier=function(I){return p=I,this},this.addHandler=function(I,_){return m.push(I,_),this},this.removeHandler=function(I){const _=m.indexOf(I);return-1!==_&&m.splice(_,2),this},this.getHandler=function(I){for(let _=0,b=m.length;_<b;_+=2){const M=m[_],P=m[_+1];if(M.global&&(M.lastIndex=0),M.test(I))return P}return null}}}const LC=new dv;class Ol{constructor(e){this.manager=void 0!==e?e:LC,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,a){n.load(e,r,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ll={};class sx extends Error{constructor(e,t){super(e),this.response=t}}class Ha extends Ol{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ss.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(void 0!==Ll[e])return void Ll[e].push({onLoad:t,onProgress:n,onError:r});Ll[e]=[],Ll[e].push({onLoad:t,onProgress:n,onError:r});const c=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,p=this.responseType;fetch(c).then(m=>{if(200===m.status||0===m.status){if(0===m.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===m.body||void 0===m.body.getReader)return m;const I=Ll[e],_=m.body.getReader(),b=m.headers.get("Content-Length"),M=b?parseInt(b):0,P=0!==M;let E=0;const D=new ReadableStream({start(z){!function W(){_.read().then(({done:ee,value:Y})=>{if(ee)z.close();else{E+=Y.byteLength;const de=new ProgressEvent("progress",{lengthComputable:P,loaded:E,total:M});for(let fe=0,Ee=I.length;fe<Ee;fe++){const Q=I[fe];Q.onProgress&&Q.onProgress(de)}z.enqueue(Y),W()}})}()}});return new Response(D)}throw new sx(`fetch for "${m.url}" responded with ${m.status}: ${m.statusText}`,m)}).then(m=>{switch(p){case"arraybuffer":return m.arrayBuffer();case"blob":return m.blob();case"document":return m.text().then(I=>(new DOMParser).parseFromString(I,h));case"json":return m.json();default:if(void 0===h)return m.text();{const _=/charset="?([^;"\s]*)"?/i.exec(h),b=_&&_[1]?_[1].toLowerCase():void 0,M=new TextDecoder(b);return m.arrayBuffer().then(P=>M.decode(P))}}}).then(m=>{Ss.add(e,m);const I=Ll[e];delete Ll[e];for(let _=0,b=I.length;_<b;_++){const M=I[_];M.onLoad&&M.onLoad(m)}}).catch(m=>{const I=Ll[e];if(void 0===I)throw this.manager.itemError(e),m;delete Ll[e];for(let _=0,b=I.length;_<b;_++){const M=I[_];M.onError&&M.onError(m)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class sp extends Ol{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,c=Ss.get(e);if(void 0!==c)return a.manager.itemStart(e),setTimeout(function(){t&&t(c),a.manager.itemEnd(e)},0),c;const h=jc("img");function p(){I(),Ss.add(e,this),t&&t(this),a.manager.itemEnd(e)}function m(_){I(),r&&r(_),a.manager.itemError(e),a.manager.itemEnd(e)}function I(){h.removeEventListener("load",p,!1),h.removeEventListener("error",m,!1)}return h.addEventListener("load",p,!1),h.addEventListener("error",m,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(h.crossOrigin=this.crossOrigin),a.manager.itemStart(e),h.src=e,h}}class gf extends Ol{constructor(e){super(e)}load(e,t,n,r){const a=new to,c=new sp(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(e,function(h){a.image=h,a.needsUpdate=!0,void 0!==t&&t(a)},n,r),a}}class Nd extends ls{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Wt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}const fv=new Jn,gv=new me,ax=new me;class pf{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Mt(512,512),this.map=null,this.mapPass=null,this.matrix=new Jn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ug,this._frameExtents=new Mt(1,1),this._viewportCount=1,this._viewports=[new bi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;gv.setFromMatrixPosition(e.matrixWorld),t.position.copy(gv),ax.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(ax),t.updateMatrixWorld(),fv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(fv),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class FC extends pf{constructor(){super(new zr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*ph*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(n!==t.fov||r!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=r,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class kC extends Nd{constructor(e,t,n=0,r=Math.PI/3,a=0,c=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ls.DefaultUp),this.updateMatrix(),this.target=new ls,this.distance=n,this.angle=r,this.penumbra=a,this.decay=c,this.shadow=new FC}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const op=new Jn,Cu=new me,BC=new me;class lx extends pf{constructor(){super(new zr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Mt(4,2),this._viewportCount=6,this._viewports=[new bi(2,1,1,1),new bi(0,1,1,1),new bi(3,1,1,1),new bi(1,1,1,1),new bi(3,0,1,1),new bi(1,0,1,1)],this._cubeDirections=[new me(1,0,0),new me(-1,0,0),new me(0,0,1),new me(0,0,-1),new me(0,1,0),new me(0,-1,0)],this._cubeUps=[new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,1,0),new me(0,0,1),new me(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,a=e.distance||n.far;a!==n.far&&(n.far=a,n.updateProjectionMatrix()),Cu.setFromMatrixPosition(e.matrixWorld),n.position.copy(Cu),BC.copy(n.position),BC.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(BC),n.updateMatrixWorld(),r.makeTranslation(-Cu.x,-Cu.y,-Cu.z),op.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(op)}}class co extends Nd{constructor(e,t,n=0,r=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new lx}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class cx extends pf{constructor(){super(new cd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Fd extends Nd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ls.DefaultUp),this.updateMatrix(),this.target=new ls,this.shadow=new cx}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kd extends Nd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Rl{static decodeText(e){if(typeof TextDecoder<"u")return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Bd extends Ol{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,c=Ss.get(e);if(void 0!==c)return a.manager.itemStart(e),setTimeout(function(){t&&t(c),a.manager.itemEnd(e)},0),c;const h={};h.credentials="anonymous"===this.crossOrigin?"same-origin":"include",h.headers=this.requestHeader,fetch(e,h).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){Ss.add(e,p),t&&t(p),a.manager.itemEnd(e)}).catch(function(p){r&&r(p),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}class bv{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=HC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=HC();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function HC(){return(typeof performance>"u"?Date:performance).now()}const zC="\\[\\]\\.:\\/",wv=new RegExp("["+zC+"]","g"),mf="[^"+zC+"]",QM="[^"+zC.replace("\\.","")+"]",Ax=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",mf)+/(WCOD+)?/.source.replace("WCOD",QM)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mf)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mf)+"$"),Mv=["material","materials","bones"];class Sv{constructor(e,t,n){const r=n||er.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=n.length;r!==a;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}let er=(()=>{class o{constructor(t,n,r){this.path=n,this.parsedPath=r||o.parseTrackName(n),this.node=o.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,n,r){return t&&t.isAnimationObjectGroup?new o.Composite(t,n,r):new o(t,n,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(wv,"")}static parseTrackName(t){const n=Ax.exec(t);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},a=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==a&&-1!==a){const c=r.nodeName.substring(a+1);-1!==Mv.indexOf(c)&&(r.nodeName=r.nodeName.substring(0,a),r.objectName=c)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,n){if(void 0===n||""===n||"."===n||-1===n||n===t.name||n===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(n);if(void 0!==r)return r}if(t.children){const r=function(c){for(let h=0;h<c.length;h++){const p=c[h];if(p.name===n||p.uuid===n)return p;const m=r(p.children);if(m)return m}return null},a=r(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,n){t[n]=this.targetObject[this.propertyName]}_getValue_array(t,n){const r=this.resolvedProperty;for(let a=0,c=r.length;a!==c;++a)t[n++]=r[a]}_getValue_arrayElement(t,n){t[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,n){this.resolvedProperty.toArray(t,n)}_setValue_direct(t,n){this.targetObject[this.propertyName]=t[n]}_setValue_direct_setNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,n){const r=this.resolvedProperty;for(let a=0,c=r.length;a!==c;++a)r[a]=t[n++]}_setValue_array_setNeedsUpdate(t,n){const r=this.resolvedProperty;for(let a=0,c=r.length;a!==c;++a)r[a]=t[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,n){const r=this.resolvedProperty;for(let a=0,c=r.length;a!==c;++a)r[a]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,n){this.resolvedProperty[this.propertyIndex]=t[n]}_setValue_arrayElement_setNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,n){this.resolvedProperty.fromArray(t,n)}_setValue_fromArray_setNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,n){this.bind(),this.getValue(t,n)}_setValue_unbound(t,n){this.bind(),this.setValue(t,n)}bind(){let t=this.node;const n=this.parsedPath,r=n.objectName,a=n.propertyName;let c=n.propertyIndex;if(t||(t=o.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(r){let I=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let _=0;_<t.length;_++)if(t[_].name===I){I=_;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==I){if(void 0===t[I])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[I]}}const h=t[a];if(void 0===h)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+a+" but it wasn't found.",t);let p=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?p=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(p=this.Versioning.MatrixWorldNeedsUpdate);let m=this.BindingType.Direct;if(void 0!==c){if("morphTargetInfluences"===a){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[c]&&(c=t.morphTargetDictionary[c])}m=this.BindingType.ArrayElement,this.resolvedProperty=h,this.propertyIndex=c}else void 0!==h.fromArray&&void 0!==h.toArray?(m=this.BindingType.HasFromToArray,this.resolvedProperty=h):Array.isArray(h)?(m=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=a;this.getValue=this.GetterByBindingType[m],this.setValue=this.SetterByBindingTypeAndVersioning[m][p]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return o.Composite=Sv,o})();er.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},er.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},er.prototype.GetterByBindingType=[er.prototype._getValue_direct,er.prototype._getValue_array,er.prototype._getValue_arrayElement,er.prototype._getValue_toArray],er.prototype.SetterByBindingTypeAndVersioning=[[er.prototype._setValue_direct,er.prototype._setValue_direct_setNeedsUpdate,er.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[er.prototype._setValue_array,er.prototype._setValue_array_setNeedsUpdate,er.prototype._setValue_array_setMatrixWorldNeedsUpdate],[er.prototype._setValue_arrayElement,er.prototype._setValue_arrayElement_setNeedsUpdate,er.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[er.prototype._setValue_fromArray,er.prototype._setValue_fromArray_setNeedsUpdate,er.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);const yu=new me,yr=new fm;class iS extends Vg{constructor(e){const t=new Zn,n=new Ii({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],a=[],c={};function h(P,E){p(P),p(E)}function p(P){r.push(0,0,0),a.push(0,0,0),void 0===c[P]&&(c[P]=[]),c[P].push(r.length/3-1)}h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4"),t.setAttribute("position",new hn(r,3)),t.setAttribute("color",new hn(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();const m=new Wt(16755200),I=new Wt(16711680),_=new Wt(43775),b=new Wt(16777215),M=new Wt(3355443);this.setColors(m,I,_,b,M)}setColors(e,t,n,r,a){const h=this.geometry.getAttribute("color");h.setXYZ(0,e.r,e.g,e.b),h.setXYZ(1,e.r,e.g,e.b),h.setXYZ(2,e.r,e.g,e.b),h.setXYZ(3,e.r,e.g,e.b),h.setXYZ(4,e.r,e.g,e.b),h.setXYZ(5,e.r,e.g,e.b),h.setXYZ(6,e.r,e.g,e.b),h.setXYZ(7,e.r,e.g,e.b),h.setXYZ(8,e.r,e.g,e.b),h.setXYZ(9,e.r,e.g,e.b),h.setXYZ(10,e.r,e.g,e.b),h.setXYZ(11,e.r,e.g,e.b),h.setXYZ(12,e.r,e.g,e.b),h.setXYZ(13,e.r,e.g,e.b),h.setXYZ(14,e.r,e.g,e.b),h.setXYZ(15,e.r,e.g,e.b),h.setXYZ(16,e.r,e.g,e.b),h.setXYZ(17,e.r,e.g,e.b),h.setXYZ(18,e.r,e.g,e.b),h.setXYZ(19,e.r,e.g,e.b),h.setXYZ(20,e.r,e.g,e.b),h.setXYZ(21,e.r,e.g,e.b),h.setXYZ(22,e.r,e.g,e.b),h.setXYZ(23,e.r,e.g,e.b),h.setXYZ(24,t.r,t.g,t.b),h.setXYZ(25,t.r,t.g,t.b),h.setXYZ(26,t.r,t.g,t.b),h.setXYZ(27,t.r,t.g,t.b),h.setXYZ(28,t.r,t.g,t.b),h.setXYZ(29,t.r,t.g,t.b),h.setXYZ(30,t.r,t.g,t.b),h.setXYZ(31,t.r,t.g,t.b),h.setXYZ(32,n.r,n.g,n.b),h.setXYZ(33,n.r,n.g,n.b),h.setXYZ(34,n.r,n.g,n.b),h.setXYZ(35,n.r,n.g,n.b),h.setXYZ(36,n.r,n.g,n.b),h.setXYZ(37,n.r,n.g,n.b),h.setXYZ(38,r.r,r.g,r.b),h.setXYZ(39,r.r,r.g,r.b),h.setXYZ(40,a.r,a.g,a.b),h.setXYZ(41,a.r,a.g,a.b),h.setXYZ(42,a.r,a.g,a.b),h.setXYZ(43,a.r,a.g,a.b),h.setXYZ(44,a.r,a.g,a.b),h.setXYZ(45,a.r,a.g,a.b),h.setXYZ(46,a.r,a.g,a.b),h.setXYZ(47,a.r,a.g,a.b),h.setXYZ(48,a.r,a.g,a.b),h.setXYZ(49,a.r,a.g,a.b),h.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Lr("c",t,e,yr,0,0,-1),Lr("t",t,e,yr,0,0,1),Lr("n1",t,e,yr,-1,-1,-1),Lr("n2",t,e,yr,1,-1,-1),Lr("n3",t,e,yr,-1,1,-1),Lr("n4",t,e,yr,1,1,-1),Lr("f1",t,e,yr,-1,-1,1),Lr("f2",t,e,yr,1,-1,1),Lr("f3",t,e,yr,-1,1,1),Lr("f4",t,e,yr,1,1,1),Lr("u1",t,e,yr,.7,1.1,-1),Lr("u2",t,e,yr,-.7,1.1,-1),Lr("u3",t,e,yr,0,2,-1),Lr("cf1",t,e,yr,-1,0,1),Lr("cf2",t,e,yr,1,0,1),Lr("cf3",t,e,yr,0,-1,1),Lr("cf4",t,e,yr,0,1,1),Lr("cn1",t,e,yr,-1,0,-1),Lr("cn2",t,e,yr,1,0,-1),Lr("cn3",t,e,yr,0,-1,-1),Lr("cn4",t,e,yr,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lr(o,e,t,n,r,a,c){yu.set(r,a,c).unproject(n);const h=e[o];if(void 0!==h){const p=t.getAttribute("position");for(let m=0,I=h.length;m<I;m++)p.setXYZ(h[m],yu.x,yu.y,yu.z)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"143"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="143");class Nv extends Ol{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Fv(t)}),this.register(function(t){return new Zx(t)}),this.register(function(t){return new Yx(t)}),this.register(function(t){return new kl(t)}),this.register(function(t){return new Wx(t)}),this.register(function(t){return new dS(t)}),this.register(function(t){return new jx(t)}),this.register(function(t){return new xc(t)}),this.register(function(t){return new $x(t)}),this.register(function(t){return new qC(t)}),this.register(function(t){return new Gx(t)}),this.register(function(t){return new kv(t)})}load(e,t,n,r){const a=this;let c;c=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Rl.extractUrlBase(e),this.manager.itemStart(e);const h=function(m){r?r(m):console.error(m),a.manager.itemError(e),a.manager.itemEnd(e)},p=new Ha(this.manager);p.setPath(this.path),p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setWithCredentials(this.withCredentials),p.load(e,function(m){try{a.parse(m,c,function(I){t(I),a.manager.itemEnd(e)},h)}catch(I){h(I)}},n,h)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this}unregister(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,n,r){let a;const c={},h={};if("string"==typeof e)a=e;else if(Rl.decodeText(new Uint8Array(e,0,4))===qx){try{c[ai.KHR_BINARY_GLTF]=new Uv(e)}catch(_){return void(r&&r(_))}a=c[ai.KHR_BINARY_GLTF].content}else a=Rl.decodeText(new Uint8Array(e));const p=JSON.parse(a);if(void 0===p.asset||p.asset.version[0]<2)return void(r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const m=new Qx(p,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});m.fileLoader.setRequestHeader(this.requestHeader);for(let I=0;I<this.pluginCallbacks.length;I++){const _=this.pluginCallbacks[I](m);h[_.name]=_,c[_.name]=!0}if(p.extensionsUsed)for(let I=0;I<p.extensionsUsed.length;++I){const _=p.extensionsUsed[I],b=p.extensionsRequired||[];switch(_){case ai.KHR_MATERIALS_UNLIT:c[_]=new YC;break;case ai.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[_]=new Vv;break;case ai.KHR_DRACO_MESH_COMPRESSION:c[_]=new hS(p,this.dracoLoader);break;case ai.KHR_TEXTURE_TRANSFORM:c[_]=new KC;break;case ai.KHR_MESH_QUANTIZATION:c[_]=new Hv;break;default:b.indexOf(_)>=0&&void 0===h[_]&&console.warn('THREE.GLTFLoader: Unknown extension "'+_+'".')}}m.setExtensions(c),m.setPlugins(h),m.parse(n,r)}parseAsync(e,t){const n=this;return new Promise(function(r,a){n.parse(e,t,r,a)})}}function zx(){let o={};return{get:function(e){return o[e]},add:function(e,t){o[e]=t},remove:function(e){delete o[e]},removeAll:function(){o={}}}}const ai={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class Gx{constructor(e){this.parser=e,this.name=ai.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let n=0,r=t.length;n<r;n++){const a=t[n];a.extensions&&a.extensions[this.name]&&void 0!==a.extensions[this.name].light&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,n="light:"+e;let r=t.cache.get(n);if(r)return r;const a=t.json,p=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let m;const I=new Wt(16777215);void 0!==p.color&&I.fromArray(p.color);const _=void 0!==p.range?p.range:0;switch(p.type){case"directional":m=new Fd(I),m.target.position.set(0,0,-1),m.add(m.target);break;case"point":m=new co(I),m.distance=_;break;case"spot":m=new kC(I),m.distance=_,p.spot=p.spot||{},p.spot.innerConeAngle=void 0!==p.spot.innerConeAngle?p.spot.innerConeAngle:0,p.spot.outerConeAngle=void 0!==p.spot.outerConeAngle?p.spot.outerConeAngle:Math.PI/4,m.angle=p.spot.outerConeAngle,m.penumbra=1-p.spot.innerConeAngle/p.spot.outerConeAngle,m.target.position.set(0,0,-1),m.add(m.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+p.type)}return m.position.set(0,0,0),m.decay=2,void 0!==p.intensity&&(m.intensity=p.intensity),m.name=t.createUniqueName(p.name||"light_"+e),r=Promise.resolve(m),t.cache.add(n,r),r}createNodeAttachment(e){const t=this,n=this.parser,a=n.json.nodes[e],h=(a.extensions&&a.extensions[this.name]||{}).light;return void 0===h?null:this._loadLight(h).then(function(p){return n._getNodeRef(t.cache,h,p)})}}class YC{constructor(){this.name=ai.KHR_MATERIALS_UNLIT}getMaterialType(){return ws}extendParams(e,t,n){const r=[];e.color=new Wt(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const c=a.baseColorFactor;e.color.fromArray(c),e.opacity=c[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture,Pi))}return Promise.all(r)}}class xc{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return void 0!==a&&(t.emissiveIntensity=a),Promise.resolve()}}class Fv{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],c=r.extensions[this.name];if(void 0!==c.clearcoatFactor&&(t.clearcoat=c.clearcoatFactor),void 0!==c.clearcoatTexture&&a.push(n.assignTexture(t,"clearcoatMap",c.clearcoatTexture)),void 0!==c.clearcoatRoughnessFactor&&(t.clearcoatRoughness=c.clearcoatRoughnessFactor),void 0!==c.clearcoatRoughnessTexture&&a.push(n.assignTexture(t,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),void 0!==c.clearcoatNormalTexture&&(a.push(n.assignTexture(t,"clearcoatNormalMap",c.clearcoatNormalTexture)),void 0!==c.clearcoatNormalTexture.scale)){const h=c.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Mt(h,h)}return Promise.all(a)}}class qC{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],c=r.extensions[this.name];return void 0!==c.iridescenceFactor&&(t.iridescence=c.iridescenceFactor),void 0!==c.iridescenceTexture&&a.push(n.assignTexture(t,"iridescenceMap",c.iridescenceTexture)),void 0!==c.iridescenceIor&&(t.iridescenceIOR=c.iridescenceIor),void 0===t.iridescenceThicknessRange&&(t.iridescenceThicknessRange=[100,400]),void 0!==c.iridescenceThicknessMinimum&&(t.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),void 0!==c.iridescenceThicknessMaximum&&(t.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),void 0!==c.iridescenceThicknessTexture&&a.push(n.assignTexture(t,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(a)}}class kl{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_SHEEN}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new Wt(0,0,0),t.sheenRoughness=0,t.sheen=1;const c=r.extensions[this.name];return void 0!==c.sheenColorFactor&&t.sheenColor.fromArray(c.sheenColorFactor),void 0!==c.sheenRoughnessFactor&&(t.sheenRoughness=c.sheenRoughnessFactor),void 0!==c.sheenColorTexture&&a.push(n.assignTexture(t,"sheenColorMap",c.sheenColorTexture,Pi)),void 0!==c.sheenRoughnessTexture&&a.push(n.assignTexture(t,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(a)}}class Wx{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],c=r.extensions[this.name];return void 0!==c.transmissionFactor&&(t.transmission=c.transmissionFactor),void 0!==c.transmissionTexture&&a.push(n.assignTexture(t,"transmissionMap",c.transmissionTexture)),Promise.all(a)}}class dS{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_VOLUME}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],c=r.extensions[this.name];t.thickness=void 0!==c.thicknessFactor?c.thicknessFactor:0,void 0!==c.thicknessTexture&&a.push(n.assignTexture(t,"thicknessMap",c.thicknessTexture)),t.attenuationDistance=c.attenuationDistance||0;const h=c.attenuationColor||[1,1,1];return t.attenuationColor=new Wt(h[0],h[1],h[2]),Promise.all(a)}}class jx{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_IOR}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return t.ior=void 0!==a.ior?a.ior:1.5,Promise.resolve()}}class $x{constructor(e){this.parser=e,this.name=ai.KHR_MATERIALS_SPECULAR}getMaterialType(e){const n=this.parser.json.materials[e];return n.extensions&&n.extensions[this.name]?pu:null}extendMaterialParams(e,t){const n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],c=r.extensions[this.name];t.specularIntensity=void 0!==c.specularFactor?c.specularFactor:1,void 0!==c.specularTexture&&a.push(n.assignTexture(t,"specularIntensityMap",c.specularTexture));const h=c.specularColorFactor||[1,1,1];return t.specularColor=new Wt(h[0],h[1],h[2]),void 0!==c.specularColorTexture&&a.push(n.assignTexture(t,"specularColorMap",c.specularColorTexture,Pi)),Promise.all(a)}}class Zx{constructor(e){this.parser=e,this.name=ai.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],c=t.options.ktx2Loader;if(!c){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,c)}}class Yx{constructor(e){this.parser=e,this.name=ai.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,n=this.parser,r=n.json,a=r.textures[e];if(!a.extensions||!a.extensions[t])return null;const c=a.extensions[t],h=r.images[c.source];let p=n.textureLoader;if(h.uri){const m=n.options.manager.getHandler(h.uri);null!==m&&(p=m)}return this.detectSupport().then(function(m){if(m)return n.loadTextureImage(e,c.source,p);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}})),this.isSupported}}class kv{constructor(e){this.name=ai.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,n=t.bufferViews[e];if(n.extensions&&n.extensions[this.name]){const r=n.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,c.ready]).then(function(h){const p=r.byteOffset||0,m=r.byteLength||0,I=r.count,_=r.byteStride,b=new ArrayBuffer(I*_),M=new Uint8Array(h[0],p,m);return c.decodeGltfBuffer(new Uint8Array(b),I,_,M,r.mode,r.filter),b})}return null}}const qx="glTF";class Uv{constructor(e){this.name=ai.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,12);if(this.header={magic:Rl.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==qx)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,r=new DataView(e,12);let a=0;for(;a<n;){const c=r.getUint32(a,!0);a+=4;const h=r.getUint32(a,!0);if(a+=4,1313821514===h){const p=new Uint8Array(e,12+a,c);this.content=Rl.decodeText(p)}else if(5130562===h){const p=12+a;this.body=e.slice(p,p+c)}a+=c}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class hS{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ai.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,c=e.extensions[this.name].attributes,h={},p={},m={};for(const I in c){const _=Wv[I]||I.toLowerCase();h[_]=c[I]}for(const I in e.attributes){const _=Wv[I]||I.toLowerCase();if(void 0!==c[I]){const b=n.accessors[e.attributes[I]];m[_]=zd[b.componentType],p[_]=!0===b.normalized}}return t.getDependency("bufferView",a).then(function(I){return new Promise(function(_){r.decodeDracoFile(I,function(b){for(const M in b.attributes){const P=b.attributes[M],E=p[M];void 0!==E&&(P.normalized=E)}_(b)},h,m)})})}}class KC{constructor(){this.name=ai.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===t.offset&&void 0===t.rotation&&void 0===t.scale||(e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class gp extends gu{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),h={specular:{value:(new Wt).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=h,this.onBeforeCompile=function(p){for(const m in h)p.uniforms[m]=h[m];p.fragmentShader=p.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",a).replace("#include <lights_physical_fragment>",c)},Object.defineProperties(this,{specular:{get:function(){return h.specular.value},set:function(p){h.specular.value=p}},specularMap:{get:function(){return h.specularMap.value},set:function(p){h.specularMap.value=p,p?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return h.glossiness.value},set:function(p){h.glossiness.value=p}},glossinessMap:{get:function(){return h.glossinessMap.value},set:function(p){h.glossinessMap.value=p,p?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Vv{constructor(){this.name=ai.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return gp}extendParams(e,t,n){const r=t.extensions[this.name];e.color=new Wt(1,1,1),e.opacity=1;const a=[];if(Array.isArray(r.diffuseFactor)){const c=r.diffuseFactor;e.color.fromArray(c),e.opacity=c[3]}if(void 0!==r.diffuseTexture&&a.push(n.assignTexture(e,"map",r.diffuseTexture,Pi)),e.emissive=new Wt(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new Wt(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){const c=r.specularGlossinessTexture;a.push(n.assignTexture(e,"glossinessMap",c)),a.push(n.assignTexture(e,"specularMap",c,Pi))}return Promise.all(a)}createMaterial(e){const t=new gp(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=void 0===e.emissiveIntensity?1:e.emissiveIntensity,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t}}class Hv{constructor(){this.name=ai.KHR_MESH_QUANTIZATION}}class JC extends Pd{constructor(e,t,n,r){super(e,t,n,r)}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let c=0;c!==r;c++)t[c]=n[a+c];return t}interpolate_(e,t,n,r){const a=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=2*h,m=3*h,I=r-t,_=(n-t)/I,b=_*_,M=b*_,P=e*m,E=P-m,D=-2*M+3*b,z=M-b,W=1-D,ee=z-b+_;for(let Y=0;Y!==h;Y++)a[Y]=W*c[E+Y+h]+ee*(c[E+Y+p]*I)+D*c[P+Y+h]+z*(c[P+Y]*I);return a}}const zv=new Gs;class pp extends JC{interpolate_(e,t,n,r){const a=super.interpolate_(e,t,n,r);return zv.fromArray(a).normalize().toArray(a),a}}const zd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Gv={9728:pr,9729:Qi,9984:1004,9985:1007,9986:1005,9987:pl},QC={33071:Cs,33648:1002,10497:Hc},XC={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Wv={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},wc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},fS={CUBICSPLINE:void 0,LINEAR:rc,STEP:Uf};function Af(o,e,t){for(const n in t.extensions)void 0===o[n]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=t.extensions[n])}function bu(o,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(o.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function gS(o,e){if(o.updateMorphTargets(),void 0!==e.weights)for(let t=0,n=e.weights.length;t<n;t++)o.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(o.morphTargetInfluences.length===t.length){o.morphTargetDictionary={};for(let n=0,r=t.length;n<r;n++)o.morphTargetDictionary[t[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function pS(o){const e=o.extensions&&o.extensions[ai.KHR_DRACO_MESH_COMPRESSION];let t;return t=e?"draco:"+e.bufferView+":"+e.indices+":"+Jx(e.attributes):o.indices+":"+Jx(o.attributes)+":"+o.mode,t}function Jx(o){let e="";const t=Object.keys(o).sort();for(let n=0,r=t.length;n<r;n++)e+=t[n]+":"+o[t[n]]+";";return e}function Zv(o){switch(o){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Qx{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new zx,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const n=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;this.textureLoader=typeof createImageBitmap>"u"||n||r&&a<98?new gf(this.options.manager):new Bd(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ha(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const n=this,r=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(c){const h={scene:c[0][r.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:r.asset,parser:n,userData:{}};Af(a,h,r),bu(h,r),Promise.all(n._invokeAll(function(p){return p.afterRoot&&p.afterRoot(h)})).then(function(){e(h)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[];for(let r=0,a=t.length;r<a;r++){const c=t[r].joints;for(let h=0,p=c.length;h<p;h++)e[c[h]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const c=e[r];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(n[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,n){if(e.refs[t]<=1)return n;const r=n.clone(),a=(c,h)=>{const p=this.associations.get(c);null!=p&&this.associations.set(h,p);for(const[m,I]of c.children.entries())a(I,h.children[m])};return a(n,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let n=0;n<t.length;n++){const r=e(t[n]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const n=[];for(let r=0;r<t.length;r++){const a=e(t[r]);a&&n.push(a)}return n}getDependency(e,t){const n=e+":"+t;let r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const n=this;t=Promise.all((this.json[e+("mesh"===e?"es":"s")]||[]).map(function(a,c){return n.getDependency(e,c)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[ai.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,c){n.load(Rl.resolveURL(t.uri,r.path),a,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(n){const a=t.byteOffset||0;return n.slice(a,a+(t.byteLength||0))})}loadAccessor(e){const t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);const a=[];return a.push(void 0!==r.bufferView?this.getDependency("bufferView",r.bufferView):null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(c){const h=c[0],p=XC[r.type],m=zd[r.componentType],I=m.BYTES_PER_ELEMENT,b=r.byteOffset||0,M=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,P=!0===r.normalized;let E,D;if(M&&M!==I*p){const z=Math.floor(b/M),W="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+z+":"+r.count;let ee=t.cache.get(W);ee||(E=new m(h,z*M,r.count*M/I),ee=new sC(E,M/I),t.cache.add(W,ee)),D=new cu(ee,p,b%M/I,P)}else E=null===h?new m(r.count*p):new m(h,b,r.count*p),D=new Er(E,p,P);if(void 0!==r.sparse){const Y=r.sparse.values.byteOffset||0,de=new(0,zd[r.sparse.indices.componentType])(c[1],r.sparse.indices.byteOffset||0,r.sparse.count*XC.SCALAR),fe=new m(c[2],Y,r.sparse.count*p);null!==h&&(D=new Er(D.array.slice(),D.itemSize,D.normalized));for(let Ee=0,Q=de.length;Ee<Q;Ee++){const Ae=de[Ee];if(D.setX(Ae,fe[Ee*p]),p>=2&&D.setY(Ae,fe[Ee*p+1]),p>=3&&D.setZ(Ae,fe[Ee*p+2]),p>=4&&D.setW(Ae,fe[Ee*p+3]),p>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return D})}loadTexture(e){const t=this.json,a=t.textures[e].source,c=t.images[a];let h=this.textureLoader;if(c.uri){const p=this.options.manager.getHandler(c.uri);null!==p&&(h=p)}return this.loadTextureImage(e,a,h)}loadTextureImage(e,t,n){const r=this,a=this.json,c=a.textures[e],h=a.images[t],p=(h.uri||h.bufferView)+":"+c.sampler;if(this.textureCache[p])return this.textureCache[p];const m=this.loadImageSource(t,n).then(function(I){I.flipY=!1,c.name&&(I.name=c.name);const b=(a.samplers||{})[c.sampler]||{};return I.magFilter=Gv[b.magFilter]||Qi,I.minFilter=Gv[b.minFilter]||pl,I.wrapS=QC[b.wrapS]||Hc,I.wrapT=QC[b.wrapT]||Hc,r.associations.set(I,{textures:e}),I}).catch(function(){return null});return this.textureCache[p]=m,m}loadImageSource(e,t){const r=this.json,a=this.options;if(void 0!==this.sourceCache[e])return this.sourceCache[e].then(_=>_.clone());const c=r.images[e],h=self.URL||self.webkitURL;let p=c.uri||"",m=!1;if(void 0!==c.bufferView)p=this.getDependency("bufferView",c.bufferView).then(function(_){m=!0;const b=new Blob([_],{type:c.mimeType});return p=h.createObjectURL(b),p});else if(void 0===c.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const I=Promise.resolve(p).then(function(_){return new Promise(function(b,M){let P=b;!0===t.isImageBitmapLoader&&(P=function(E){const D=new to(E);D.needsUpdate=!0,b(D)}),t.load(Rl.resolveURL(_,a.path),P,void 0,M)})}).then(function(_){return!0===m&&h.revokeObjectURL(p),_.userData.mimeType=c.mimeType||function mS(o){return o.search(/\.jpe?g($|\?)/i)>0||0===o.search(/^data\:image\/jpeg/)?"image/jpeg":o.search(/\.webp($|\?)/i)>0||0===o.search(/^data\:image\/webp/)?"image/webp":"image/png"}(c.uri),_}).catch(function(_){throw console.error("THREE.GLTFLoader: Couldn't load texture",p),_});return this.sourceCache[e]=I,I}assignTexture(e,t,n,r){const a=this;return this.getDependency("texture",n.index).then(function(c){if(void 0!==n.texCoord&&0!=n.texCoord&&!("aoMap"===t&&1==n.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),a.extensions[ai.KHR_TEXTURE_TRANSFORM]){const h=void 0!==n.extensions?n.extensions[ai.KHR_TEXTURE_TRANSFORM]:void 0;if(h){const p=a.associations.get(c);c=a.extensions[ai.KHR_TEXTURE_TRANSFORM].extendTexture(c,h),a.associations.set(c,p)}}return void 0!==r&&(c.encoding=r),e[t]=c,c})}assignFinalMaterial(e){const t=e.geometry;let n=e.material;const r=void 0===t.attributes.tangent,a=void 0!==t.attributes.color,c=void 0===t.attributes.normal;if(e.isPoints){const h="PointsMaterial:"+n.uuid;let p=this.cache.get(h);p||(p=new pC,Po.prototype.copy.call(p,n),p.color.copy(n.color),p.map=n.map,p.sizeAttenuation=!1,this.cache.add(h,p)),n=p}else if(e.isLine){const h="LineBasicMaterial:"+n.uuid;let p=this.cache.get(h);p||(p=new Ii,Po.prototype.copy.call(p,n),p.color.copy(n.color),this.cache.add(h,p)),n=p}if(r||a||c){let h="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(h+="specular-glossiness:"),r&&(h+="derivative-tangents:"),a&&(h+="vertex-colors:"),c&&(h+="flat-shading:");let p=this.cache.get(h);p||(p=n.clone(),a&&(p.vertexColors=!0),c&&(p.flatShading=!0),r&&(p.normalScale&&(p.normalScale.y*=-1),p.clearcoatNormalScale&&(p.clearcoatNormalScale.y*=-1)),this.cache.add(h,p),this.associations.set(p,this.associations.get(n))),n=p}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=n}getMaterialType(){return gu}loadMaterial(e){const t=this,r=this.extensions,a=this.json.materials[e];let c;const h={},p=a.extensions||{},m=[];if(p[ai.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const _=r[ai.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];c=_.getMaterialType(),m.push(_.extendParams(h,a,t))}else if(p[ai.KHR_MATERIALS_UNLIT]){const _=r[ai.KHR_MATERIALS_UNLIT];c=_.getMaterialType(),m.push(_.extendParams(h,a,t))}else{const _=a.pbrMetallicRoughness||{};if(h.color=new Wt(1,1,1),h.opacity=1,Array.isArray(_.baseColorFactor)){const b=_.baseColorFactor;h.color.fromArray(b),h.opacity=b[3]}void 0!==_.baseColorTexture&&m.push(t.assignTexture(h,"map",_.baseColorTexture,Pi)),h.metalness=void 0!==_.metallicFactor?_.metallicFactor:1,h.roughness=void 0!==_.roughnessFactor?_.roughnessFactor:1,void 0!==_.metallicRoughnessTexture&&(m.push(t.assignTexture(h,"metalnessMap",_.metallicRoughnessTexture)),m.push(t.assignTexture(h,"roughnessMap",_.metallicRoughnessTexture))),c=this._invokeOne(function(b){return b.getMaterialType&&b.getMaterialType(e)}),m.push(Promise.all(this._invokeAll(function(b){return b.extendMaterialParams&&b.extendMaterialParams(e,h)})))}!0===a.doubleSided&&(h.side=2);const I=a.alphaMode||"OPAQUE";if("BLEND"===I?(h.transparent=!0,h.depthWrite=!1):(h.transparent=!1,"MASK"===I&&(h.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&c!==ws&&(m.push(t.assignTexture(h,"normalMap",a.normalTexture)),h.normalScale=new Mt(1,1),void 0!==a.normalTexture.scale)){const _=a.normalTexture.scale;h.normalScale.set(_,_)}return void 0!==a.occlusionTexture&&c!==ws&&(m.push(t.assignTexture(h,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(h.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&c!==ws&&(h.emissive=(new Wt).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&c!==ws&&m.push(t.assignTexture(h,"emissiveMap",a.emissiveTexture,Pi)),Promise.all(m).then(function(){let _;return _=c===gp?r[ai.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(h):new c(h),a.name&&(_.name=a.name),bu(_,a),t.associations.set(_,{materials:e}),a.extensions&&Af(r,_,a),_})}createUniqueName(e){const t=er.sanitizeNodeName(e||"");let n=t;for(let r=1;this.nodeNamesUsed[n];++r)n=t+"_"+r;return this.nodeNamesUsed[n]=!0,n}loadGeometries(e){const t=this,n=this.extensions,r=this.primitiveCache;function a(h){return n[ai.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(h,t).then(function(p){return Yv(p,h,t)})}const c=[];for(let h=0,p=e.length;h<p;h++){const m=e[h],I=pS(m),_=r[I];if(_)c.push(_.promise);else{let b;b=m.extensions&&m.extensions[ai.KHR_DRACO_MESH_COMPRESSION]?a(m):Yv(new Zn,m,t),r[I]={primitive:m,promise:b},c.push(b)}}return Promise.all(c)}loadMesh(e){const t=this,r=this.extensions,a=this.json.meshes[e],c=a.primitives,h=[];for(let p=0,m=c.length;p<m;p++){const I=void 0===c[p].material?(void 0===(o=this.cache).DefaultMaterial&&(o.DefaultMaterial=new gu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),o.DefaultMaterial):this.getDependency("material",c[p].material);h.push(I)}var o;return h.push(t.loadGeometries(c)),Promise.all(h).then(function(p){const m=p.slice(0,p.length-1),I=p[p.length-1],_=[];for(let M=0,P=I.length;M<P;M++){const E=I[M],D=c[M];let z;const W=m[M];if(4===D.mode||5===D.mode||6===D.mode||void 0===D.mode)z=!0===a.isSkinnedMesh?new xb(E,W):new Dr(E,W),!0===z.isSkinnedMesh&&!z.geometry.attributes.skinWeight.normalized&&z.normalizeSkinWeights(),5===D.mode?z.geometry=eA(z.geometry,1):6===D.mode&&(z.geometry=eA(z.geometry,2));else if(1===D.mode)z=new Vg(E,W);else if(3===D.mode)z=new Ic(E,W);else if(2===D.mode)z=new G_(E,W);else{if(0!==D.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+D.mode);z=new Kh(E,W)}Object.keys(z.geometry.morphAttributes).length>0&&gS(z,a),z.name=t.createUniqueName(a.name||"mesh_"+e),bu(z,a),D.extensions&&Af(r,z,D),t.assignFinalMaterial(z),_.push(z)}for(let M=0,P=_.length;M<P;M++)t.associations.set(_[M],{meshes:e,primitives:M});if(1===_.length)return _[0];const b=new Sl;t.associations.set(b,{meshes:e});for(let M=0,P=_.length;M<P;M++)b.add(_[M]);return b})}loadCamera(e){let t;const n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new zr(Zy.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new cd(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),bu(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(e){const t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(r){return n.inverseBindMatrices=r,n})}loadAnimation(e){const n=this.json.animations[e],r=[],a=[],c=[],h=[],p=[];for(let m=0,I=n.channels.length;m<I;m++){const _=n.channels[m],b=n.samplers[_.sampler],M=_.target,E=void 0!==n.parameters?n.parameters[b.input]:b.input,D=void 0!==n.parameters?n.parameters[b.output]:b.output;r.push(this.getDependency("node",void 0!==M.node?M.node:M.id)),a.push(this.getDependency("accessor",E)),c.push(this.getDependency("accessor",D)),h.push(b),p.push(M)}return Promise.all([Promise.all(r),Promise.all(a),Promise.all(c),Promise.all(h),Promise.all(p)]).then(function(m){const I=m[0],_=m[1],b=m[2],M=m[3],P=m[4],E=[];for(let z=0,W=I.length;z<W;z++){const ee=I[z],Y=_[z],de=b[z],fe=M[z],Ee=P[z];if(void 0===ee)continue;let Q;switch(ee.updateMatrix(),wc[Ee.path]){case wc.weights:Q=Ld;break;case wc.rotation:Q=mu;break;default:Q=ff}const Ae=ee.name?ee.name:ee.uuid,Ve=void 0!==fe.interpolation?fS[fe.interpolation]:rc,Ze=[];wc[Ee.path]===wc.weights?ee.traverse(function(Nt){Nt.morphTargetInfluences&&Ze.push(Nt.name?Nt.name:Nt.uuid)}):Ze.push(Ae);let St=de.array;if(de.normalized){const Nt=Zv(St.constructor),Qe=new Float32Array(St.length);for(let yt=0,ke=St.length;yt<ke;yt++)Qe[yt]=St[yt]*Nt;St=Qe}for(let Nt=0,Qe=Ze.length;Nt<Qe;Nt++){const yt=new Q(Ze[Nt]+"."+wc[Ee.path],Y.array,St,Ve);"CUBICSPLINE"===fe.interpolation&&(yt.createInterpolant=function(et){return new(this instanceof mu?pp:JC)(this.times,this.values,this.getValueSize()/3,et)},yt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),E.push(yt)}}return new Pl(n.name?n.name:"animation_"+e,void 0,E)})}createNodeMesh(e){const n=this,r=this.json.nodes[e];return void 0===r.mesh?null:n.getDependency("mesh",r.mesh).then(function(a){const c=n._getNodeRef(n.meshCache,r.mesh,a);return void 0!==r.weights&&c.traverse(function(h){if(h.isMesh)for(let p=0,m=r.weights.length;p<m;p++)h.morphTargetInfluences[p]=r.weights[p]}),c})}loadNode(e){const n=this.extensions,r=this,a=this.json.nodes[e],c=a.name?r.createUniqueName(a.name):"";return function(){const h=[],p=r._invokeOne(function(m){return m.createNodeMesh&&m.createNodeMesh(e)});return p&&h.push(p),void 0!==a.camera&&h.push(r.getDependency("camera",a.camera).then(function(m){return r._getNodeRef(r.cameraCache,a.camera,m)})),r._invokeAll(function(m){return m.createNodeAttachment&&m.createNodeAttachment(e)}).forEach(function(m){h.push(m)}),Promise.all(h)}().then(function(h){let p;if(p=!0===a.isBone?new Fg:h.length>1?new Sl:1===h.length?h[0]:new ls,p!==h[0])for(let m=0,I=h.length;m<I;m++)p.add(h[m]);if(a.name&&(p.userData.name=a.name,p.name=c),bu(p,a),a.extensions&&Af(n,p,a),void 0!==a.matrix){const m=new Jn;m.fromArray(a.matrix),p.applyMatrix4(m)}else void 0!==a.translation&&p.position.fromArray(a.translation),void 0!==a.rotation&&p.quaternion.fromArray(a.rotation),void 0!==a.scale&&p.scale.fromArray(a.scale);return r.associations.has(p)||r.associations.set(p,{}),r.associations.get(p).nodes=e,p})}loadScene(e){const t=this.json,n=this.extensions,r=this.json.scenes[e],a=this,c=new Sl;r.name&&(c.name=a.createUniqueName(r.name)),bu(c,r),r.extensions&&Af(n,c,r);const h=r.nodes||[],p=[];for(let m=0,I=h.length;m<I;m++)p.push(If(h[m],c,t,a));return Promise.all(p).then(function(){return a.associations=(I=>{const _=new Map;for(const[b,M]of a.associations)(b instanceof Po||b instanceof to)&&_.set(b,M);return I.traverse(b=>{const M=a.associations.get(b);null!=M&&_.set(b,M)}),_})(c),c})}}function If(o,e,t,n){const r=t.nodes[o];return n.getDependency("node",o).then(function(a){if(void 0===r.skin)return a;let c;return n.getDependency("skin",r.skin).then(function(h){c=h;const p=[];for(let m=0,I=c.joints.length;m<I;m++)p.push(n.getDependency("node",c.joints[m]));return Promise.all(p)}).then(function(h){return a.traverse(function(p){if(!p.isMesh)return;const m=[],I=[];for(let _=0,b=h.length;_<b;_++){const M=h[_];if(M){m.push(M);const P=new Jn;void 0!==c.inverseBindMatrices&&P.fromArray(c.inverseBindMatrices.array,16*_),I.push(P)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',c.joints[_])}p.bind(new kg(m,I),p.matrixWorld)}),a})}).then(function(a){e.add(a);const c=[];if(r.children){const h=r.children;for(let p=0,m=h.length;p<m;p++)c.push(If(h[p],a,t,n))}return Promise.all(c)})}function Yv(o,e,t){const n=e.attributes,r=[];function a(c,h){return t.getDependency("accessor",c).then(function(p){o.setAttribute(h,p)})}for(const c in n){const h=Wv[c]||c.toLowerCase();h in o.attributes||r.push(a(n[c],h))}if(void 0!==e.indices&&!o.index){const c=t.getDependency("accessor",e.indices).then(function(h){o.setIndex(h)});r.push(c)}return bu(o,e),function Xx(o,e,t){const n=e.attributes,r=new Yc;if(void 0===n.POSITION)return;{const h=t.json.accessors[n.POSITION],p=h.min,m=h.max;if(void 0===p||void 0===m)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(r.set(new me(p[0],p[1],p[2]),new me(m[0],m[1],m[2])),h.normalized){const I=Zv(zd[h.componentType]);r.min.multiplyScalar(I),r.max.multiplyScalar(I)}}const a=e.targets;if(void 0!==a){const h=new me,p=new me;for(let m=0,I=a.length;m<I;m++){const _=a[m];if(void 0!==_.POSITION){const b=t.json.accessors[_.POSITION],M=b.min,P=b.max;if(void 0!==M&&void 0!==P){if(p.setX(Math.max(Math.abs(M[0]),Math.abs(P[0]))),p.setY(Math.max(Math.abs(M[1]),Math.abs(P[1]))),p.setZ(Math.max(Math.abs(M[2]),Math.abs(P[2]))),b.normalized){const E=Zv(zd[b.componentType]);p.multiplyScalar(E)}h.max(p)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(h)}o.boundingBox=r;const c=new Kc;r.getCenter(c.center),c.radius=r.min.distanceTo(r.max)/2,o.boundingSphere=c}(o,e,t),Promise.all(r).then(function(){return void 0!==e.targets?function Kx(o,e,t){let n=!1,r=!1,a=!1;for(let m=0,I=e.length;m<I;m++){const _=e[m];if(void 0!==_.POSITION&&(n=!0),void 0!==_.NORMAL&&(r=!0),void 0!==_.COLOR_0&&(a=!0),n&&r&&a)break}if(!n&&!r&&!a)return Promise.resolve(o);const c=[],h=[],p=[];for(let m=0,I=e.length;m<I;m++){const _=e[m];if(n){const b=void 0!==_.POSITION?t.getDependency("accessor",_.POSITION):o.attributes.position;c.push(b)}if(r){const b=void 0!==_.NORMAL?t.getDependency("accessor",_.NORMAL):o.attributes.normal;h.push(b)}if(a){const b=void 0!==_.COLOR_0?t.getDependency("accessor",_.COLOR_0):o.attributes.color;p.push(b)}}return Promise.all([Promise.all(c),Promise.all(h),Promise.all(p)]).then(function(m){const _=m[1],b=m[2];return n&&(o.morphAttributes.position=m[0]),r&&(o.morphAttributes.normal=_),a&&(o.morphAttributes.color=b),o.morphTargetsRelative=!0,o})}(o,e.targets,t):o})}function eA(o,e){let t=o.getIndex();if(null===t){const c=[],h=o.getAttribute("position");if(void 0===h)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),o;for(let p=0;p<h.count;p++)c.push(p);o.setIndex(c),t=o.getIndex()}const n=t.count-2,r=[];if(2===e)for(let c=1;c<=n;c++)r.push(t.getX(0)),r.push(t.getX(c)),r.push(t.getX(c+1));else for(let c=0;c<n;c++)c%2==0?(r.push(t.getX(c)),r.push(t.getX(c+1)),r.push(t.getX(c+2))):(r.push(t.getX(c+2)),r.push(t.getX(c+1)),r.push(t.getX(c)));r.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=o.clone();return a.setIndex(r),a}const xu=["canvas"];let qv=(()=>{class o{constructor(t,n,r){this.animationService=t,this.cookies=n,this.platformId=r,this.idAnimationEclipse=-1,this.idAnimationRemoveEclipse=-1,this.iterator=1,this.loaderGltf=new Nv,this.actualTheme="light",this.height=window.innerHeight,(0,Z.NF)(this.platformId)&&this.animationService.themeChanged$?.subscribe(a=>{this.requestTheme=a,this.activeChooseTheme(a)})}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){(0,Z.NF)(this.platformId)&&(this.createScene(),this.cookies.check("THEME")&&(void 0!==this.requestTheme?this.actualTheme!=this.requestTheme&&(this.activeChooseTheme(this.cookies.get("THEME")),this.requestTheme=this.cookies.get("THEME")):this.actualTheme!=this.cookies.get("THEME")&&(this.activeChooseTheme(this.cookies.get("THEME")),this.requestTheme=this.cookies.get("THEME"))))}ngOnInit(){}activeChooseTheme(t){"dark"==t&&-1==this.idAnimationEclipse&&-1==this.idAnimationRemoveEclipse&&this.eclipseAnimation(),"light"==t&&-1==this.idAnimationEclipse&&-1==this.idAnimationRemoveEclipse&&this.eclipseAnimatioRemove()}createScene(){this.scene=new Lg,this.scene.background=null,this.ambientLight=new kd(0,1),this.ambientLight.position.y=200,this.ambientLight.position.set(0,-10,5),this.scene.add(this.ambientLight),this.directionalLight=new Fd(16777215,1),this.directionalLight.position.set(0,-1,4),this.scene.add(this.directionalLight);const t=new Dl(35,50,50),n=new gu({map:(new gf).load("assets/images/solids/moonSolid.jpg")}),r=new Dr(t,n);let a=new co(16754253,.3);a.position.set(0,-50,300),this.scene.add(a),this.scene.add(r);let c=this.getAspectRatio();this.camera=new zr(75,c,.01,300),this.camera.position.z=200,this.camera.position.y=2,this.camera.lookAt(0,0,0),this.lightRight=new co(16754253,4),this.lightRight.position.set(900,250,-1050),this.scene.add(this.lightRight),this.lightLeft=new co(16754253,1),this.lightLeft.position.set(-160,70,-120),this.scene.add(this.lightLeft),this.lightDown=new co(16754253,1),this.lightDown.position.set(-20,20,-30),this.scene.add(this.lightDown),this.lightTop=new co(16754253,1),this.lightTop.position.set(-50,130,-25),this.scene.add(this.lightTop),this.lightDown2=new co(16754253,1),this.lightDown2.position.set(20,20,-30),this.scene.add(this.lightDown2),this.lightTop2=new co(16754253,1),this.lightTop2.position.set(30,130,-15),this.scene.add(this.lightTop2);const h=new Og({alpha:!0,antialias:!0,canvas:this.canvas});h.autoClear=!1,h.setClearColor(0,0),h.setPixelRatio(devicePixelRatio),h.setSize(window.innerWidth,this.height),this.renderer=h,this.sphereMoon=r,this.renderer=h;let p=this.scene,m=this.camera;r.position.y=30,this.camera.position.x=300,this.camera.position.z=300,function I(){requestAnimationFrame(I),h.render(p,m),r.rotation.y+=.003}(),this.setupResize(),this.resize()}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.renderer.setSize(window.innerWidth,this.height),this.camera.aspect=window.innerWidth/this.height,this.camera.updateProjectionMatrix()}getAspectRatio(){return window.innerWidth/this.height}eclipseAnimation(){this.actualTheme="dark";let t=this.scene,n=this.camera,r=this;!function a(){r.idAnimationEclipse=requestAnimationFrame(a),r.eclipseAnimationStart(r.idAnimationEclipse),r.renderer.render(t,n)}()}eclipseAnimationStart(t){this.idAnimationEclipse=t,this.camera.position.z>208&&(this.camera.position.z-=.31,this.sphereMoon.rotation.y+=.005),this.camera.position.x>=68&&(this.camera.position.x-=.78),this.sphereMoon.position.y<=58&&(this.sphereMoon.position.y+=.0898),this.camera.position.z>200&&this.camera.position.z<=208&&(1==this.iterator&&(this.animationService.startAnimationGlowSun("dark"),this.iterator++),this.camera.position.z-=.1),this.camera.position.x>=0&&this.camera.position.x<=68&&(this.camera.position.x-=.23,this.sphereMoon.rotation.y+=.004,this.lightLeft.intensity<=5&&(this.lightDown.intensity+=.01,this.lightDown2.intensity+=.01,this.lightLeft.intensity+=.01,this.lightTop.intensity+=.01,this.lightTop2.intensity+=.01)),this.sphereMoon.position.y>=58&&this.sphereMoon.position.y<=62.9&&(this.sphereMoon.position.y+=.02),this.camera.position.z<200&&this.camera.position.x<0&&this.sphereMoon.position.y>62.9&&(this.iterator=1,this.idAnimationEclipse=-1,cancelAnimationFrame(t),this.actualTheme!=this.requestTheme&&this.activeChooseTheme(this.requestTheme))}eclipseAnimatioRemove(){this.actualTheme="light";let t=this.scene,n=this.camera,a=this;!function c(){a.idAnimationRemoveEclipse=requestAnimationFrame(c),a.removeEclipseAnimationStart(a.idAnimationRemoveEclipse),a.renderer.render(t,n)}()}removeEclipseAnimationStart(t){this.camera.position.z<200.12&&(this.camera.position.z+=5e-4,1==this.iterator&&(this.animationService.startAnimationGlowSun("light"),this.iterator++)),this.camera.position.x>=-60&&(this.camera.position.x-=.12,this.sphereMoon.rotation.y+=.002,this.lightLeft.intensity>=4&&(this.lightLeft.intensity-=.01),this.lightRight.intensity>=1&&(this.lightDown.intensity-=.01,this.lightDown2.intensity-=.01,this.lightRight.intensity-=.01,this.lightTop.intensity-=.01,this.lightTop2.intensity-=.01)),this.sphereMoon.position.y>=59&&(this.sphereMoon.position.y-=.01),this.camera.position.z>200.12&&this.camera.position.z<=205&&(this.camera.position.z+=.04),this.camera.position.z>204.9&&this.camera.position.z<=310&&(this.camera.position.z+=.08),this.camera.position.z>204.9&&this.camera.position.z<=315&&(this.camera.position.z+=.03),this.camera.position.x<=-59.9&&this.camera.position.x>=-510&&(this.camera.position.x-=.187,this.sphereMoon.rotation.y+=.005,this.lightLeft.intensity<5&&(this.lightLeft.intensity+=.01)),this.sphereMoon.position.y>=30&&this.sphereMoon.position.y<=59&&(this.sphereMoon.position.y-=.02),this.sphereMoon.position.y<=30&&this.sphereMoon.position.y>=0&&(this.sphereMoon.position.y-=.0245),this.camera.position.x<=-505&&(this.iterator=1,this.camera.position.z=315,this.camera.position.x=510,this.sphereMoon.position.y=0,this.eclipseAnimationResetRestorePosition(),cancelAnimationFrame(t))}eclipseAnimationResetRestorePosition(){let t=this.scene,n=this.camera,r=this;!function a(){r.idAnimationRemoveEclipse=requestAnimationFrame(a),r.eclipseAnimationResetRestorePositionStart(r.idAnimationRemoveEclipse),r.renderer.render(t,n)}()}eclipseAnimationResetRestorePositionStart(t){this.camera.position.z>=300&&(this.camera.position.z-=.08,this.sphereMoon.rotation.y+=.005,this.lightRight.intensity+=.02),this.camera.position.x>=300&&(this.camera.position.x-=.187),this.sphereMoon.position.y<=30&&(this.sphereMoon.position.y+=.0245),this.camera.position.z>=299.5&&this.camera.position.x<=300&&this.sphereMoon.position.y>=29.9&&(this.idAnimationRemoveEclipse=-1,this.sphereMoon.position.y=30,this.camera.position.x=300,this.camera.position.z=300,this.lightRight.intensity=4,this.lightDown.intensity=1,this.lightDown2.intensity=1,this.lightLeft.intensity=1,this.lightTop.intensity=1,this.lightTop2.intensity=1,cancelAnimationFrame(t),this.actualTheme!=this.requestTheme&&this.activeChooseTheme(this.requestTheme))}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(ne),u.Y36(ue.N),u.Y36(u.Lbi))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-moon-solid"]],viewQuery:function(t,n){if(1&t&&u.Gf(xu,5),2&t){let r;u.iGM(r=u.CRH())&&(n.canvasRef=r.first)}},decls:3,vars:0,consts:[[1,"containerMoonCanva"],["id","canvas",1,"moonCanvas",2,"border","3px solid black","width","100%"],["canvas",""]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"canvas",1,2),u.qZA())},styles:[".moonCanvas[_ngcontent-%COMP%]{position:absolute;z-index:-1000}"]}),o})();const Gd={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tgl_FragColor = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor.a *= opacity;\n\n\n\t\t}"};class wu{constructor(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}const ew=new cd(-1,1,1,-1,0,1),_f=new Zn;_f.setAttribute("position",new hn([-1,3,0,-1,-1,0,3,-1,0],3)),_f.setAttribute("uv",new hn([0,2,0,0,2,0],2));class mp{constructor(e){this._mesh=new Dr(_f,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,ew)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class vf extends wu{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof Ws?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Ph.clone(e.uniforms),this.material=new Ws({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new mp(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class tw extends wu{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){const r=e.getContext(),a=e.state;let c,h;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(c=0,h=1):(c=1,h=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),a.buffers.stencil.setFunc(r.ALWAYS,c,4294967295),a.buffers.stencil.setClear(h),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(r.EQUAL,1,4294967295),a.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),a.buffers.stencil.setLocked(!0)}}class CS extends wu{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class AS{constructor(e,t){if(this.renderer=e,void 0===t){const n=e.getSize(new Mt);this._pixelRatio=e.getPixelRatio(),this._width=n.width,this._height=n.height,(t=new qo(this._width*this._pixelRatio,this._height*this._pixelRatio)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],void 0===Gd&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===vf&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new vf(Gd),this.clock=new bv}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let n=!1;for(let r=0,a=this.passes.length;r<a;r++){const c=this.passes[r];if(!1!==c.enabled){if(c.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),c.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),c.needsSwap){if(n){const h=this.renderer.getContext(),p=this.renderer.state.buffers.stencil;p.setFunc(h.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),p.setFunc(h.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==tw&&(c instanceof tw?n=!0:c instanceof CS&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new Mt);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let a=0;a<this.passes.length;a++)this.passes[a].setSize(n,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}new cd(-1,1,1,-1,0,1);const tA=new Zn;tA.setAttribute("position",new hn([-1,3,0,-1,-1,0,3,-1,0],3)),tA.setAttribute("uv",new hn([0,2,0,0,2,0],2));class nw extends wu{constructor(e,t,n,r,a){super(),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=void 0!==a?a:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new Wt}render(e,t,n){const r=e.autoClear;let a,c;e.autoClear=!1,void 0!==this.overrideMaterial&&(c=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),a=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,a),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=c),e.autoClear=r}}const Jv={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Wt(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"};class Mu extends wu{constructor(e,t,n,r){super(),this.strength=void 0!==t?t:1,this.radius=n,this.threshold=r,this.resolution=void 0!==e?new Mt(e.x,e.y):new Mt(256,256),this.clearColor=new Wt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let a=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);this.renderTargetBright=new qo(a,c),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let _=0;_<this.nMips;_++){const b=new qo(a,c);b.texture.name="UnrealBloomPass.h"+_,b.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(b);const M=new qo(a,c);M.texture.name="UnrealBloomPass.v"+_,M.texture.generateMipmaps=!1,this.renderTargetsVertical.push(M),a=Math.round(a/2),c=Math.round(c/2)}void 0===Jv&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader");const h=Jv;this.highPassUniforms=Ph.clone(h.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Ws({uniforms:this.highPassUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const p=[3,5,7,9,11];a=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);for(let _=0;_<this.nMips;_++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(p[_])),this.separableBlurMaterials[_].uniforms.texSize.value=new Mt(a,c),a=Math.round(a/2),c=Math.round(c/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new me(1,1,1),new me(1,1,1),new me(1,1,1),new me(1,1,1),new me(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===Gd&&console.error("THREE.UnrealBloomPass relies on CopyShader");const I=Gd;this.copyUniforms=Ph.clone(I.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new Ws({uniforms:this.copyUniforms,vertexShader:I.vertexShader,fragmentShader:I.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Wt,this.oldClearAlpha=1,this.basic=new ws,this.fsQuad=new mp(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()}setSize(e,t){let n=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(n,r);for(let a=0;a<this.nMips;a++)this.renderTargetsHorizontal[a].setSize(n,r),this.renderTargetsVertical[a].setSize(n,r),this.separableBlurMaterials[a].uniforms.texSize.value=new Mt(n,r),n=Math.round(n/2),r=Math.round(r/2)}render(e,t,n,r,a){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const c=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),a&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let h=this.renderTargetBright;for(let p=0;p<this.nMips;p++)this.fsQuad.material=this.separableBlurMaterials[p],this.separableBlurMaterials[p].uniforms.colorTexture.value=h.texture,this.separableBlurMaterials[p].uniforms.direction.value=Mu.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[p]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[p].uniforms.colorTexture.value=this.renderTargetsHorizontal[p].texture,this.separableBlurMaterials[p].uniforms.direction.value=Mu.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[p]),e.clear(),this.fsQuad.render(e),h=this.renderTargetsVertical[p];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,a&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=c}getSeperableBlurMaterial(e){return new Ws({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new Mt(.5,.5)},direction:{value:new Mt(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\n\t\t\t\tuniform vec2 direction;\n\n\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\n\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\n\t\t\t\t}\n\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\n\t\t\t\t\tfloat fSigma = float(SIGMA);\n\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}getCompositeMaterial(e){return new Ws({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}Mu.BlurDirectionX=new Mt(1,0),Mu.BlurDirectionY=new Mt(0,1);const Qv=["canvas"];let Xv=(()=>{class o{constructor(t,n){this.animationService=t,this.platformId=n,this.idAnimationEclipse=-1,this.idAnimationRemoveEclipse=-1,this.height=window.innerHeight,this.mobileMediaQuery=window.matchMedia("(max-width: 480px)"),(0,Z.NF)(this.platformId)&&this.animationService.startAnimationGlowSun$?.subscribe(r=>{console.log("nel sun glow: "+r),"dark"==r&&this.eclipseAnimation(),"light"==r&&this.removeEclipseAnimation()})}get canvas(){return this.canvasRef.nativeElement}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.renderer.setSize(window.innerWidth,this.height),this.camera.aspect=window.innerWidth/this.height,this.bloomComposer.setSize(window.innerWidth,this.height),this.camera.updateProjectionMatrix()}ngAfterViewInit(){(0,Z.NF)(this.platformId)&&(this.createScene(),this.resize(),this.mobileMediaQuery.matches&&(this.bloomPass.radius=1))}ngOnInit(){}createScene(){this.scene=new Lg,this.scene.background=null,this.ambientLight=new kd(0,1),this.ambientLight.position.y=200,this.ambientLight.position.set(0,-10,5),this.scene.add(this.ambientLight),this.directionalLight=new Fd(16777215,1),this.directionalLight.position.set(0,-1,4),this.scene.add(this.directionalLight);let t=this.getAspectRatio();this.camera=new zr(75,t,.01,300),this.camera.position.z=5,this.camera.position.y=2,this.camera.lookAt(0,0,0),this.camera.name="principale";const n=new iS(this.directionalLight.shadow.camera);this.scene.add(n),this.renderer=new Og({alpha:!0,antialias:!0,canvas:this.canvas}),this.renderer.autoClear=!1,this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio?window.devicePixelRatio:1),this.renderer.setSize(window.innerWidth,this.height);let r=this.scene,a=this.camera;a.position.z=6;const c=new nw(r,a);this.bloomPass=new Mu(new Mt(window.innerWidth,this.height),1.9,.9,3.85),this.bloomPass.threshold=0,this.bloomPass.strength=1.8,this.bloomPass.radius=2;const h=new AS(this.renderer);h.setSize(window.innerWidth,this.height),h.renderToScreen=!0,h.addPass(c),h.addPass(this.bloomPass),this.bloomComposer=h;const p=new Wt("#FDB813"),m=new cf(.95,25),I=new ws({color:p});this.sphereGlow=new Dr(m,I),this.sphereGlow.position.set(0,1.55,0),this.sphereGlow.layers.set(1),this.scene.add(this.sphereGlow);const _=new Dl(80,64,64);this.starMaterial=new ws({map:(new gf).load("assets/images/solids/starGalaxy.png"),side:1,transparent:!0,lightMapIntensity:500,reflectivity:1500});const b=new Dr(_,this.starMaterial);let M;b.layers.set(1),this.scene.add(b),function E(){M=requestAnimationFrame(E),a.layers.set(1),h.render()}(),this.resize(),this.setupResize()}eclipseAnimation(){let t=this.scene,n=this.camera,r=this;!function a(){r.idAnimationEclipse=requestAnimationFrame(a),r.eclipseAnimationStart(r.idAnimationEclipse),r.renderer.render(t,n)}()}eclipseAnimationStart(t){this.idAnimationEclipse=t,this.bloomPass.radius>.8&&(this.bloomPass.radius-=.004),this.bloomPass.strength>.8&&(this.bloomPass.strength-=.003),this.bloomPass.radius<1.69&&(this.starMaterial.transparent=!1),this.bloomPass.radius<.8&&(console.log("cancellato "+this.bloomPass.radius),cancelAnimationFrame(t),this.idAnimationEclipse=-1),this.camera.layers.set(1),this.bloomComposer.render()}removeEclipseAnimation(){let t=this.scene,n=this.camera,r=this;!function a(){r.idAnimationEclipse=requestAnimationFrame(a),r.removeEclipseAnimationStart(r.idAnimationEclipse),r.renderer.render(t,n)}()}removeEclipseAnimationStart(t){this.idAnimationEclipse=t,this.bloomPass.radius<=2&&(this.bloomPass.radius+=.002),this.bloomPass.strength<=1.8&&(this.bloomPass.strength+=.003),this.bloomPass.radius>1.68&&(this.starMaterial.transparent=!0),this.bloomPass.radius>=2&&(cancelAnimationFrame(t),this.idAnimationRemoveEclipse=-1),this.camera.layers.set(1),this.bloomComposer.render()}getAspectRatio(){return window.innerWidth/this.height}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(ne),u.Y36(u.Lbi))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-sun-glow"]],viewQuery:function(t,n){if(1&t&&u.Gf(Qv,5),2&t){let r;u.iGM(r=u.CRH())&&(n.canvasRef=r.first)}},decls:3,vars:0,consts:[[1,"containerSunGlowCanva"],["id","canvas",1,"sunGlowCanvas",2,"width","100%"],["canvas",""]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"canvas",1,2),u.qZA())},styles:[".sunGlowCanvas[_ngcontent-%COMP%]{position:absolute;z-index:-1999}"]}),o})();const iw=["canvas"];let rw=(()=>{class o{constructor(t,n){this.animationService=t,this.platformId=n,this.height=window.innerHeight}get canvas(){return this.canvasRef.nativeElement}ngAfterViewInit(){(0,Z.NF)(this.platformId)&&this.createScene()}ngOnInit(){}createScene(){this.scene=new Lg,this.scene.background=null,this.ambientLight=new kd(0,1),this.ambientLight.position.y=200,this.ambientLight.position.set(0,-10,5),this.scene.add(this.ambientLight),this.directionalLight=new Fd(16777215,1),this.directionalLight.position.set(0,-1,4),this.scene.add(this.directionalLight),this.light1=new co(16754253,1),this.light1.position.set(0,-50,300),this.scene.add(this.light1),this.light2=new co(15085056,4),this.light2.position.set(0,-100,500),this.light2.intensity=2,this.scene.add(this.light2),this.light3=new co(4929308,20),this.light3.position.set(0,0,0),this.scene.add(this.light3),this.light4=new co(4929308,.5),this.light4.position.set(-500,300,500),this.scene.add(this.light4);const t=new Dl(35,50,50),n=new gu({map:(new gf).load("assets/images/solids/sunSolid.jpg")}),r=new Dr(t,n);r.position.y=62.5,this.scene.add(r);let a=this.getAspectRatio();this.camera=new zr(75,a,.01,300),this.camera.position.z=200,this.camera.position.y=2,this.camera.lookAt(0,0,0);const c=new Og({alpha:!0,antialias:!0,canvas:this.canvas});c.autoClear=!1,c.setClearColor(0,0),c.setPixelRatio(devicePixelRatio),c.setSize(window.innerWidth,this.height),this.renderer=c;let m,h=this.scene,p=this.camera;(function I(){m=requestAnimationFrame(I),c.render(h,p),r.rotation.y+=.003})(),console.log("id: "+m),function I(){requestAnimationFrame(I),c.render(h,p)}(),this.setupResize(),this.resize()}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.renderer.setSize(window.innerWidth,this.height),this.camera.aspect=window.innerWidth/this.height,this.camera.updateProjectionMatrix()}getAspectRatio(){return window.innerWidth/this.height}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(ne),u.Y36(u.Lbi))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-sun-solid"]],viewQuery:function(t,n){if(1&t&&u.Gf(iw,5),2&t){let r;u.iGM(r=u.CRH())&&(n.canvasRef=r.first)}},decls:3,vars:0,consts:[[1,"containerSunCanva"],["id","canvas",1,"sunCanvas",2,"border","1px solid black","width","100%"],["canvas",""]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"canvas",1,2),u.qZA())},styles:[".sunCanvas[_ngcontent-%COMP%]{position:absolute;z-index:-1500}"]}),o})(),ey=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-preliminary-collapse"]],decls:4,vars:0,consts:[[1,"collapseSolids"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"app-sun-glow")(2,"app-sun-solid")(3,"app-moon-solid"),u.qZA())},dependencies:[qv,Xv,rw]}),o})(),nA=(()=>{class o{constructor(t,n){this.platformId=t,this.viewContainerRef=n,(0,Z.NF)(this.platformId)&&this.viewContainerRef.createComponent(ey),(0,Z.PM)(this.platformId)}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(u.Lbi),u.Y36(u.s_b))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-collapse-canvas"]],decls:0,vars:0,template:function(t,n){}}),o})();const _S=["drop"];function ty(o,e){if(1&o&&(u.TgZ(0,"div",33),u._UZ(1,"img",34),u.TgZ(2,"div"),u._uU(3),u.qZA()()),2&o){const t=u.oxw(2);u.xp6(1),u.Tol("flag flag-"+t.selectedLenguage.code.toLowerCase()),u.MGl("src","assets/images/header.component/flag/flag-",t.selectedLenguage.name,".png",u.LSH),u.xp6(2),u.Oqu(t.selectedLenguage.name)}}function iA(o,e){if(1&o&&u.YNc(0,ty,4,4,"div",32),2&o){const t=u.oxw();u.Q6J("ngIf",t.selectedLenguage)}}function sw(o,e){if(1&o&&(u.TgZ(0,"div",35),u._UZ(1,"img",34),u.TgZ(2,"div"),u._uU(3),u.qZA()()),2&o){const t=e.$implicit;u.xp6(1),u.Tol("flag flag-"+t.code.toLowerCase()),u.MGl("src","assets/images/header.component/flag/flag-",t.name,".png",u.LSH),u.xp6(2),u.Oqu(t.name)}}function ow(o,e){if(1&o&&(u.TgZ(0,"div",33),u._UZ(1,"img",34),u.TgZ(2,"div"),u._uU(3),u.qZA()()),2&o){const t=u.oxw(2);u.xp6(1),u.Tol("flag flag-"+t.selectedLenguage.code.toLowerCase()),u.MGl("src","assets/images/header.component/flag/flag-",t.selectedLenguage.name,".png",u.LSH),u.xp6(2),u.Oqu(t.selectedLenguage.name)}}function vS(o,e){if(1&o&&u.YNc(0,ow,4,4,"div",32),2&o){const t=u.oxw();u.Q6J("ngIf",t.selectedLenguage)}}function yS(o,e){if(1&o&&(u.TgZ(0,"div",35),u._UZ(1,"img",34),u.TgZ(2,"div"),u._uU(3),u.qZA()()),2&o){const t=e.$implicit;u.xp6(1),u.Tol("flag flag-"+t.code.toLowerCase()),u.MGl("src","assets/images/header.component/flag/flag-",t.name,".png",u.LSH),u.xp6(2),u.Oqu(t.name)}}const aw=function(){return["/home"]};let lw=(()=>{class o{constructor(t,n,r,a,c,h,p,m){var I=this;if(this.translate=t,this.animationService=n,this.cookies=r,this.platformId=a,this.chapterJavaService=c,this.route=h,this.configLanguageService=p,this.platform=m,this.openSideBar=!1,this.logo="",(0,Z.NF)(this.platformId)){this.translate.addLangs(["it","en"]),console.log("COSTRUTTORE HEADER");let _=p.getBrowserLanguage();this.selectedLenguage={name:""+_,code:""+_.toUpperCase()},this.translate.setDefaultLang(_),this.languages=[{name:"it",code:"IT"},{name:"en",code:"EN"}],console.log("thema: "+this.activedThema),this.cookies.check("THEME")?this.setThema(this.cookies.get("THEME")):(this.cookies.set("THEME","light",{path:"/"}),this.activedThema=!1,this.logo=""),console.log("thema: "+this.activedThema),this.translate.get("header.menu.header").forEach(b=>{this.dropDownHeader=b}),c.getCourses().subscribe(b=>{let D,M=[],P=0,E=0;D={},D.separator=!0,E=b.length,b.forEach(function(){var z=(0,q.Z)(function*(W){let ee={},Y=W.courseName;null!=W.translateCourse&&(Y=yield I.getTranslateLabel(W.translateCourse)),ee.label=Y,ee.icon=W.iconCourse,ee.styleClass=W.translateCourse,ee.routerLink="/code/lang/"+p.getBrowserLanguage(),console.log("Router link: "+ee.routerLink),ee.disabled=!W.activeCourse,ee.command=fe=>{I.touchScreenDetec()};let de={};null!=W.subCourses?.length&&W.subCourses?.length>0&&(ee.items=[],P=W.subCourses.length,W.subCourses.forEach(function(){var fe=(0,q.Z)(function*(Ee){let Q=Ee.subCourseName;null!=Ee.translateSubCourse&&(Q=yield I.getTranslateLabel(Ee.translateSubCourse)),de.label=Q,de.icon=Ee.iconSubCourse,de.routerLink="/"+Ee.prefixUrl+"/"+Q?.replace(/\s/g,"-"),de.styleClass=Ee.translateSubCourse,de.disabled=!Ee.activeSubCourse,de.command=Ae=>{I.closeSideBar()},ee.items?.push(de),P-1>0&&(ee.items?.push(D),P--),de={}});return function(Ee){return fe.apply(this,arguments)}}())),M.push(ee),E-1>0&&(M.push(D),E--)});return function(W){return z.apply(this,arguments)}}()),this.setLabels(M)})}}setLabels(t){this.items=[{label:""+this.dropDownHeader,icon:"pi pi-fw pi-book",items:t,styleClass:"header"}]}getTranslateLabel(t){var n=this;return(0,q.Z)(function*(){let r="";return yield n.translate.get("header.menu."+t).forEach(a=>{console.log("tradotto: "+a),r=a}),r})()}ngOnInit(){}onChange(t){}switchLang(t){var n=this;console.log("HEADERlocation: "+this.route.snapshot),console.log("HEADERlocation: "+window.location.href),this.translate.use(t);let r=window.location.href;console.log("HEADERlocation code: "+r.includes("code/lang")),console.log("HEADERlocation code: "+!r.includes("code/lang")),console.log("HEADERlocation home: "+r.includes("home")),console.log("HEADERlocation home: "+!r.includes("home")),r.includes("code/lang")||r.includes("home")?this.configLanguageService.forceSilecentUpdateLanguage(t):(console.log("--------------FORZO-----------------"),this.configLanguageService.forcePropagateUpdateLanguage(t));let a=Object.assign([],this.items);a.forEach(function(){var c=(0,q.Z)(function*(h){console.log("sto per tradurre: "+h.label),console.log("sto per tradurre con style: "+h.styleClass);const p=yield n.getTranslateLabel(h.styleClass);h.label=p,console.log("Router link after change: "+h.routerLink),null!=h.items?.length&&h.items?.length>0&&h.items.forEach(function(){var m=(0,q.Z)(function*(I){if(console.log("sto per tradurre: "+I.label),console.log("sto per tradurre con style: "+I.styleClass),I.routerLink="/code/lang/"+n.configLanguageService.getBrowserLanguage(),null!=I.styleClass){const _=yield n.getTranslateLabel(I.styleClass);I.label=_,null!=I.items?.length&&I.items?.length>0&&I.items.forEach(function(){var b=(0,q.Z)(function*(M){if(null!=M.styleClass){const P=yield n.getTranslateLabel(M.styleClass);M.label=P,M.routerLink="/code/"+M.label.replace(/\s/g,"-")}});return function(M){return b.apply(this,arguments)}}())}});return function(I){return m.apply(this,arguments)}}()),n.updateItem(a)});return function(h){return c.apply(this,arguments)}}()),console.log("assegno")}updateItem(t){this.items=t}switchColor(){console.log("colore cambiato prova elementohtml "+this.dropDownelement.nativeElement),document.body.classList.toggle("dark"),console.log("contiene dark: "+document.body.classList.contains("dark")),document.body.classList.contains("dark")?(this.animationService.changeTheme("dark"),this.cookies.delete("THEME"),this.cookies.set("THEME","dark",{path:"/"}),this.activedThema=!0,this.logo="-white"):(this.animationService.changeTheme("light"),this.cookies.set("THEME","light",{path:"/"}),this.activedThema=!1,this.logo="")}setThema(t){document.body.classList.toggle(t),document.body.classList.contains("dark")?(this.cookies.delete("THEME"),this.cookies.set("THEME",t,{path:"/"})):this.cookies.set("THEME",t,{path:"/"}),this.activedThema="light"!=t,this.logo="light"==t?"":"-white"}onTop(){window.scrollTo(0,0)}onScroll(t){window.pageYOffset>100&&(document.getElementById("gooey-button").style.display="block"),window.pageYOffset<100&&(document.getElementById("gooey-button").style.display="none")}openCloseSideBar(){document.getElementById("collapserSideBar")?.classList.toggle("collapse")}touchScreenDetec(){this.platform.isBrowser&&navigator.maxTouchPoints>0&&this.closeSideBar()}closeSideBar(){document.getElementById("collapserSideBar")?.classList.add("collapse")}}return o.\u0275fac=function(t){return new(t||o)(u.Y36(ae.sK),u.Y36(ne),u.Y36(ue.N),u.Y36(u.Lbi),u.Y36(he.h),u.Y36(f.gz),u.Y36(Ne.t),u.Y36(Fe.t4))},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-header"]],viewQuery:function(t,n){if(1&t&&u.Gf(_S,5),2&t){let r;u.iGM(r=u.CRH())&&(n.dropDownelement=r.first)}},hostBindings:function(t,n){1&t&&u.NdJ("scroll",function(a){return n.onScroll(a)},!1,u.Jf7)},decls:46,vars:12,consts:[["id","headerTop",1,"headerTopp"],[1,"switchSideBar"],["icon","pi pi-bars",3,"click"],["href","javascript:void(0)",3,"routerLink"],["id","logoImg","src","assets/images/header.component/varie/logo-white.png"],[3,"model","autoDisplay"],["type","checkbox","id","toggle"],["for","toggle",1,"lab"],[1,"ri-menu-line"],["id","contentUtility",1,"contentUtility"],["drop",""],[1,"switchThema"],["id","dropdownLanguage","optionLabel","name",3,"options","ngModel","virtualScroll","ngModelChange","onChange"],["id","element","pTemplate","selectedItem"],["pTemplate","item"],["onIcon","pi pi-sun","offIcon","pi pi-moon",3,"ngModel","ngModelChange","click"],["id","collapserSideBar",1,"collapse","collapseSideBar"],[1,"switchSideBarCloser",3,"click"],["icon","pi pi-times"],[1,"contentSideBar"],["href","javascript:void(0)",2,"cursor","default"],["src","assets/images/header.component/varie/logo-naked.png",1,"logo-mini"],["id","dropdownLanguage","optionLabel","name",3,"options","ngModel","ngModelChange","onChange"],["xmlns","http://www.w3.org/2000/svg","version","1.1"],["id","gooey"],["in","SourceGraphic","stdDeviation","5","result","blur"],["in","blur","type","matrix","values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9","result","highContrastGraphic"],["in","SourceGraphic","in2","highContrastGraphic","operator","atop"],["id","gooey-button",1,"buttonGlow",3,"click"],[1,"bubbles"],[1,"pi","pi-angle-double-up"],[1,"bubble"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],["id","dropdownLanguage-flag-selected",3,"src"],[1,"country-item"]],template:function(t,n){1&t&&(u._UZ(0,"app-collapse-canvas"),u.TgZ(1,"div",0)(2,"div",1)(3,"p-button",2),u.NdJ("click",function(){return n.openCloseSideBar()}),u.qZA()(),u.TgZ(4,"a",3),u._UZ(5,"img",4),u.qZA(),u._UZ(6,"p-menubar",5)(7,"input",6),u.TgZ(8,"label",7),u._UZ(9,"i",8),u.qZA(),u.TgZ(10,"div",9,10)(12,"div",11)(13,"p-dropdown",12),u.NdJ("ngModelChange",function(a){return n.selectedLenguage=a})("onChange",function(){return n.switchLang(n.selectedLenguage.name)}),u.YNc(14,iA,1,1,"ng-template",13),u.YNc(15,sw,4,4,"ng-template",14),u.qZA(),u.TgZ(16,"p-toggleButton",15),u.NdJ("ngModelChange",function(a){return n.activedThema=a})("click",function(){return n.switchColor()}),u.qZA()()()(),u.TgZ(17,"div",16)(18,"div",17),u.NdJ("click",function(){return n.openCloseSideBar()}),u._UZ(19,"p-button",18),u.qZA(),u.TgZ(20,"div",19)(21,"a",20),u._UZ(22,"img",21),u.qZA(),u._UZ(23,"p-menubar",5),u.TgZ(24,"p-dropdown",22),u.NdJ("ngModelChange",function(a){return n.selectedLenguage=a})("onChange",function(){return n.switchLang(n.selectedLenguage.name)}),u.YNc(25,vS,1,1,"ng-template",13),u.YNc(26,yS,4,4,"ng-template",14),u.qZA()()(),u.O4$(),u.TgZ(27,"svg",23)(28,"defs")(29,"filter",24),u._UZ(30,"feGaussianBlur",25)(31,"feColorMatrix",26)(32,"feComposite",27),u.qZA()()(),u.kcU(),u.TgZ(33,"button",28),u.NdJ("click",function(){return n.onTop()}),u.TgZ(34,"span",29),u._UZ(35,"i",30)(36,"span",31)(37,"span",31)(38,"span",31)(39,"span",31)(40,"span",31)(41,"span",31)(42,"span",31)(43,"span",31)(44,"span",31)(45,"span",31),u.qZA()()),2&t&&(u.xp6(4),u.Q6J("routerLink",u.DdM(11,aw)),u.xp6(2),u.Q6J("model",n.items)("autoDisplay",!1),u.xp6(7),u.Q6J("options",n.languages)("ngModel",n.selectedLenguage)("virtualScroll",!0),u.xp6(3),u.Q6J("ngModel",n.activedThema),u.xp6(7),u.Q6J("model",n.items)("autoDisplay",!1),u.xp6(1),u.Q6J("options",n.languages)("ngModel",n.selectedLenguage))},dependencies:[Z.O5,f.yS,Jl,He.jx,cl,ei,Ar,Ef.zx,wi,nA],styles:["#headerTop[_ngcontent-%COMP%]{min-width:250px;z-index:1;box-sizing:border-box;height:55px;background-color:var(--navbar-color);border-radius:50px;display:flex;justify-content:flex-start;align-items:center;padding:30px 3%;margin:2% 25px 0;transition:var(--transition-delay)}#headerTop[_ngcontent-%COMP%]   #logoImg[_ngcontent-%COMP%]{transition:var(--transition-delay);margin-top:15px;margin-left:-30px;width:140px;height:150px}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]{padding:.5rem;transition:var(--transition-delay);background-color:var(--navbar-color);border:none;border-radius:10px}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{padding:.75rem 1.25rem;border-radius:50px!important;-webkit-user-select:none;user-select:none;transition:var(--transition-delay-hover)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color);font-size:var(--font-size);font-weight:var(--font-weight);white-space:normal!important}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color);margin-right:.5rem}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color);margin-left:.5rem;transition:all .4s ease}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%], #headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color);transform:rotate(180deg)}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{margin-left:18px;background:var(--navbar-color);border:1px solid var(--border-menu-color);box-shadow:0 2px 12px #0000001a;width:auto;min-width:10rem;border-radius:5px!important}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:0!important}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .p-menuitem-text[_ngcontent-%COMP%]{white-space:nowrap}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{box-shadow:-4px 1px 12px -2px var(--navbar-hover-component-color);border-radius:2px 10px 10px 2px!important;margin-left:-5px;border:1px solid var(--border-menu-color);overflow:hidden}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menu-separator[_ngcontent-%COMP%]{border-top:1px solid #dee2e6;margin:.25rem 0}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{font-size:.875rem}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{margin:0}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]:last-child{margin:0}#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]{background:var(--navbar-color)}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{transition:var(--transition-delay);background-color:var(--navbar-color);border-radius:50px;width:73px;height:45px;border:none}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-disabled).p-focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important;border:none!important}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]{color:var(--icon-color);width:20px;margin-right:3px;margin-top:2px}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.8rem}#headerTop[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]{background-color:var(--navbar-color);border-radius:10px 10px 15px 15px;margin-bottom:10px;height:115px;overflow:hidden;border:1px solid var(--border-menu-color)!important}#headerTop[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%] > .p-dropdown-trigger-icon[_ngcontent-%COMP%]{transition:var(--transition-delay-hover)}#headerTop[_ngcontent-%COMP%]   #dropdownLanguage[_ngcontent-%COMP%]:not(.p-disabled):hover > .p-component[_ngcontent-%COMP%]:not(.p-disabled).p-focus   .p-dropdown-trigger-icon[_ngcontent-%COMP%]{transform:rotate(180deg)!important}#headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}#headerTop[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;border-radius:40px}#headerTop[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item.p-highlight[_ngcontent-%COMP%]{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color);border-radius:40px;width:73px}#toggle[_ngcontent-%COMP%], .lab[_ngcontent-%COMP%]{display:none}#toggle[_ngcontent-%COMP%]{margin-right:auto}#dropdownLanguage[_ngcontent-%COMP%]{padding-right:30px}.contentUtility[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%], .contentUtility[_ngcontent-%COMP%]   .country-item-value[_ngcontent-%COMP%]{color:var(--text-color);font-size:var(--font-size);font-weight:var(--font-weight);margin:none;margin-left:-4px}#dropdownLanguage-flag-selected[_ngcontent-%COMP%]{float:left;padding-right:1vh;padding-top:3px}.aboutLink[_ngcontent-%COMP%], #linkB[_ngcontent-%COMP%], #changeTheme[_ngcontent-%COMP%], #dropdownLanguage[_ngcontent-%COMP%]{font-family:Courier New,Courier,monospace;font-weight:300;font-size:14px;color:#fff;text-decoration:none}.aboutLink[_ngcontent-%COMP%]{margin:0 10px}.aboutLink[_ngcontent-%COMP%]:hover{text-decoration:underline}#contentUtility[_ngcontent-%COMP%]{margin-left:auto}.switchSideBar[_ngcontent-%COMP%]{display:none;margin-right:25px}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);border:none;border-radius:50%;width:40px;height:40px;transition:var(--transition-delay)}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:#fff}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.switchSideBar[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:active{color:#000}.collapseSideBar[_ngcontent-%COMP%]{background-color:var(--navbar-color);display:block;top:0;left:0;position:fixed;width:250px;height:100%;z-index:99999;transition:var(--transition-delay)}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]{margin-top:5px;margin-right:5px;float:right}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);border:none;border-radius:50%;width:40px;height:40px;transition:var(--transition-delay)}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:#fff}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.collapseSideBar[_ngcontent-%COMP%]   .switchSideBarCloser[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:active{color:#000}.collapseSideBar[_ngcontent-%COMP%]   .logo-mini[_ngcontent-%COMP%]{width:100px;height:105px;margin-top:-40px;margin-left:70px}.collapseSideBar[_ngcontent-%COMP%]   .contentSideBar[_ngcontent-%COMP%]{margin-top:50px}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]{padding:.5rem!important;transition:var(--transition-delay)!important;background-color:var(--navbar-color)!important;border-radius:10px!important;width:100%!important;border:none!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menu-separator[_ngcontent-%COMP%]{border-top:1px solid var(--border-menu-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]{padding:.75rem 1.25rem!important;-webkit-user-select:none!important;user-select:none!important;transition:var(--transition-delay-hover)!important;border:1px solid var(--border-menu-color)!important;width:230px!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color)!important;font-size:var(--font-size)!important;font-weight:var(--font-weight)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important;margin-right:.5rem!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important;margin-left:7rem!important;transition:all .4s ease!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover{transition:var(--transition-delay-hover)!important;background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--icon-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-text[_ngcontent-%COMP%]{color:var(--text-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-menuitem-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%], .collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%] > .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important;transform:rotate(180deg)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{background:var(--navbar-color)!important;border:0 none!important;box-shadow:0 2px 12px #0000001a!important;width:auto!important;min-width:8rem!important;border-radius:50px!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menu-separator[_ngcontent-%COMP%]{margin:.25rem 0!important;width:98%}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%]{font-size:.875rem!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]{margin:0!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem[_ngcontent-%COMP%]:last-child{margin:0!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]{background:var(--navbar-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-ripple[_ngcontent-%COMP%]:not(.p-disabled):hover{background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]{width:100%!important;position:static!important;box-shadow:none!important;border:0 none!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem.p-menuitem-active[_ngcontent-%COMP%] > .p-menuitem-link[_ngcontent-%COMP%]   .p-submenu-icon[_ngcontent-%COMP%], .collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:not(.p-disabled):hover   .p-submenu-icon[_ngcontent-%COMP%]{color:var(--icon-color)!important;transform:rotate(90deg)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:5px}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .p-menu-separator[_ngcontent-%COMP%]{border-top:0px!important}.collapseSideBar[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%]   .p-menubar-root-list[_ngcontent-%COMP%]   .p-submenu-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border-radius:5px}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]{margin-top:10px;transition:var(--transition-delay);background-color:var(--navbar-color);width:230px;height:45px;border:1px solid rgb(71,68,68);border-radius:0;margin-left:8px;padding-left:10px;border-radius:7px!important;border:1px solid var(--border-menu-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-disabled).p-focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.collapseSideBar[_ngcontent-%COMP%]   #dropdownLanguage[_ngcontent-%COMP%]:not(.p-disabled):hover > .p-component[_ngcontent-%COMP%]:not(.p-disabled).p-focus   .p-dropdown-trigger[_ngcontent-%COMP%]{transform:rotate(180deg)}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]{color:var(--icon-color);width:15px;margin-right:20px}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]   .p-dropdown-trigger[_ngcontent-%COMP%]   .pi[_ngcontent-%COMP%]{font-size:.8rem}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]{background-color:var(--navbar-color);margin-bottom:10px;height:115px;border-radius:7px!important;border:1px solid var(--border-menu-color)}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item[_ngcontent-%COMP%]:not(.p-highlight):not(.p-disabled):hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-panel[_ngcontent-%COMP%]   .p-dropdown-items[_ngcontent-%COMP%]   .p-dropdown-item.p-highlight[_ngcontent-%COMP%]{color:var(--text-color);transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)}.collapseSideBar[_ngcontent-%COMP%]   .country-item[_ngcontent-%COMP%], .collapseSideBar[_ngcontent-%COMP%]   .country-item-value[_ngcontent-%COMP%]{color:var(--text-color)!important;font-size:var(--font-size)!important;font-weight:var(--font-weight)!important;margin:none!important;margin-left:-4px!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-items-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .p-element[_ngcontent-%COMP%]{border-top:1px solid var(--border-menu-color)!important}.collapseSideBar[_ngcontent-%COMP%]   .p-dropdown-items-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .p-element[_ngcontent-%COMP%]:last-child   li[_ngcontent-%COMP%]{border-bottom:1px solid var(--border-menu-color)!important}.collapse[_ngcontent-%COMP%]{left:-250px}.switchThema[_ngcontent-%COMP%]   .p-togglebutton[_ngcontent-%COMP%]{margin-left:-10px!important;margin-bottom:3px!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);border:none;border-radius:50%;width:40px;height:40px;transition:var(--transition-delay-hover);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:focus{outline:0 none!important;outline-offset:0!important;border:none!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]   .p-button-icon-left[_ngcontent-%COMP%], .switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:var(--icon-color)}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:not(.p-disabled):not(.p-highlight):hover{transition:var(--transition-delay-hover);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c,inset -2px -2px 10px #ffffff0d,inset 2px 2px 10px #000c!important;background-color:var(--navbar-hover-component-color)!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:not(.p-disabled):not(.p-highlight):hover   .p-button-icon-left[_ngcontent-%COMP%], .switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button[_ngcontent-%COMP%]:not(.p-disabled):not(.p-highlight):hover   .p-button-icon-right[_ngcontent-%COMP%]{color:var(--icon-color)}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]{background-color:var(--navbar-color);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c!important}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-left[_ngcontent-%COMP%], .switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]   .p-button-icon-right[_ngcontent-%COMP%]{color:var(--icon-color)}.switchThema[_ngcontent-%COMP%]   .p-togglebutton.p-button.p-highlight[_ngcontent-%COMP%]:hover{transition:var(--transition-delay-hover);box-shadow:-1px -1px 3px #ffffff1a,2px 2px 6px #000c,inset -2px -2px 10px #ffffff0d,inset 2px 2px 10px #000c!important;background-color:var(--navbar-hover-component-color)!important}svg[_ngcontent-%COMP%]{position:absolute;top:-4000px;left:-4000px}#gooey-button[_ngcontent-%COMP%]{cursor:pointer;display:none;bottom:20px;right:20px;z-index:99;margin-left:200px;font-size:2rem;width:50px;height:50px;border-radius:50%;border:none;filter:url(#gooey);position:fixed;background-color:#00ff80}#gooey-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#000;margin-top:8px;margin-left:3px}#gooey-button[_ngcontent-%COMP%]:focus{outline:none}#gooey-button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{animation:slideUp 2s ease-in-out infinite}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]{position:absolute;inset:0 0 0 -5px}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{background-color:#00ff80;border-radius:100%;position:absolute;top:0;left:0;display:block;z-index:-1}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(1){left:30px;width:25px;height:25px;animation:move-1 3.02s infinite;animation-delay:.2s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(2){left:27px;width:25px;height:25px;animation:move-2 3.04s infinite;animation-delay:.4s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(3){left:24px;width:25px;height:25px;animation:move-3 3.06s infinite;animation-delay:.6s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(4){left:32px;width:25px;height:25px;animation:move-4 3.08s infinite;animation-delay:.8s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(5){left:21px;width:25px;height:25px;animation:move-5 3.1s infinite;animation-delay:1s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(6){left:31px;width:25px;height:25px;animation:move-6 3.12s infinite;animation-delay:1.2s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(7){left:17px;width:25px;height:25px;animation:move-7 3.14s infinite;animation-delay:1.4s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(8){left:27px;width:25px;height:25px;animation:move-8 3.16s infinite;animation-delay:1.6s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(9){left:30px;width:25px;height:25px;animation:move-9 3.18s infinite;animation-delay:1.8s}#gooey-button[_ngcontent-%COMP%]   .bubbles[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]:nth-child(10){left:34px;width:25px;height:25px;animation:move-10 3.2s infinite;animation-delay:2s}@keyframes move-1{0%{transform:translate(0)}99%{transform:translateY(-51px)}to{transform:translate(0);opacity:0}}@keyframes move-2{0%{transform:translate(0)}99%{transform:translateY(-65px)}to{transform:translate(0);opacity:0}}@keyframes move-3{0%{transform:translate(0)}99%{transform:translateY(-103px)}to{transform:translate(0);opacity:0}}@keyframes move-4{0%{transform:translate(0)}99%{transform:translateY(-124px)}to{transform:translate(0);opacity:0}}@keyframes move-5{0%{transform:translate(0)}99%{transform:translateY(-87px)}to{transform:translate(0);opacity:0}}@keyframes move-6{0%{transform:translate(0)}99%{transform:translateY(-53px)}to{transform:translate(0);opacity:0}}@keyframes move-7{0%{transform:translate(0)}99%{transform:translateY(-77px)}to{transform:translate(0);opacity:0}}@keyframes move-8{0%{transform:translate(0)}99%{transform:translateY(-114px)}to{transform:translate(0);opacity:0}}@keyframes move-9{0%{transform:translate(0)}99%{transform:translateY(-104px)}to{transform:translate(0);opacity:0}}@keyframes move-10{0%{transform:translate(0)}99%{transform:translateY(-130px)}to{transform:translate(0);opacity:0}}@keyframes slideUp{0%,to{transform:translate(0)}50%{transform:translate(0)}}@media screen and (max-width: 768px){#headerTop[_ngcontent-%COMP%]   .p-menubar[_ngcontent-%COMP%], #headerTop[_ngcontent-%COMP%]   .p-dropdown[_ngcontent-%COMP%], #headerTop[_ngcontent-%COMP%]   .aboutLink[_ngcontent-%COMP%]{display:none}#headerTop[_ngcontent-%COMP%]   .switchSideBar[_ngcontent-%COMP%]{display:block}}"]}),o})();const cw=function(){return["/home"]};let bS=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-footer"]],decls:23,vars:2,consts:[[1,"footerContainer"],[1,"footer"],[1,"waves"],["id","wave1",1,"wave"],["id","wave2",1,"wave"],["id","wave3",1,"wave"],["id","wave4",1,"wave"],[1,"social-icon"],[1,"social-icon__item"],["href","https://www.youtube.com/@marco_spacecoding","target","_blank",1,"social-icon__link"],["src","assets/images/footer.component/social/youtube-logo-alt2.png",1,"social-icon_yt",2,"color","white"],[1,"menu"],[1,"menu__item"],["href","javascript:void(0)",1,"menu__link",3,"routerLink"],["href","javascript:void(0)",1,"menu__link"]],template:function(t,n){1&t&&(u.TgZ(0,"div",0)(1,"footer",1)(2,"div",2),u._UZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),u.qZA(),u.TgZ(7,"ul",7)(8,"li",8)(9,"a",9),u._UZ(10,"img",10),u.qZA()()(),u.TgZ(11,"ul",11)(12,"li",12)(13,"a",13),u._uU(14,"Home"),u.qZA()(),u.TgZ(15,"li",12)(16,"a",14),u._uU(17,"About"),u.qZA()(),u.TgZ(18,"li",12)(19,"a",14),u._uU(20,"Contact"),u.qZA()()(),u.TgZ(21,"p"),u._uU(22,"\xa92023 Marco'SpaceCoding | All Rights Reserved"),u.qZA()()()),2&t&&(u.xp6(13),u.Q6J("routerLink",u.DdM(1,cw)))},dependencies:[f.yS],styles:[".footerContainer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;min-height:380px}.footer[_ngcontent-%COMP%]{position:relative;width:100%;background-color:var(--navbar-color);min-height:100px;padding:20px 50px;display:flex;justify-content:center;align-items:center;flex-direction:column}.social-icon[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;margin:10px 0;flex-wrap:wrap}.social-icon[_ngcontent-%COMP%]   .social-icon_yt[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .social-icon_yt[_ngcontent-%COMP%]{width:100px}.social-icon__item[_ngcontent-%COMP%], .menu__item[_ngcontent-%COMP%]{list-style:none}.social-icon__link[_ngcontent-%COMP%]{font-size:2rem;color:#fff;margin:0 10px;display:inline-block;transition:.5s}.social-icon__link[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.menu__link[_ngcontent-%COMP%]{font-size:1.2rem;color:#fff;margin:0 10px;display:inline-block;transition:.5s all;text-decoration:none;opacity:.75;font-weight:300}.menu__link[_ngcontent-%COMP%]:hover{opacity:1;text-decoration:underline}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;margin:15px 0 10px;font-size:1rem;font-weight:300}.wave[_ngcontent-%COMP%]{position:absolute;top:-100px;left:0;width:100%;height:100px;background:var(--wave-url-png);background-size:1000px 100px}.wave#wave1[_ngcontent-%COMP%]{z-index:97;opacity:1;bottom:0;animation:animateWaves 9s linear infinite}.wave#wave2[_ngcontent-%COMP%]{z-index:96;opacity:.5;bottom:10px;animation:animate 9s linear infinite!important}.wave#wave3[_ngcontent-%COMP%]{z-index:97;opacity:.2;bottom:15px;animation:animateWaves 7s linear infinite}.wave#wave4[_ngcontent-%COMP%]{z-index:96;opacity:.7;bottom:20px;animation:animate 7s linear infinite}@keyframes animateWaves{0%{background-position-x:1000px}to{background-position-x:0px}}@keyframes animate{0%{background-position-x:-1000px}to{background-position-x:0px}}"]}),o})(),xS=(()=>{class o{constructor(){this.title="javaGalaxy"}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=u.Xpm({type:o,selectors:[["app-root"]],decls:3,vars:0,template:function(t,n){1&t&&u._UZ(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[f.lC,lw,bS]}),o})();var wS=k(3401),MS=k(6892);class SS{constructor(e,t="/assets/i18n/",n=".json"){this.http=e,this.prefix=t,this.suffix=n}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}}var rA=k(529);function uw(o){return new u.vHH(3e3,!1)}function hA(){return typeof window<"u"&&typeof window.document<"u"}function dw(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Wd(o){switch(o.length){case 0:return new We.ZN;case 1:return o[0];default:return new We.ZE(o)}}function OS(o,e,t,n,r=new Map,a=new Map){const c=[],h=[];let p=-1,m=null;if(n.forEach(I=>{const _=I.get("offset"),b=_==p,M=b&&m||new Map;I.forEach((P,E)=>{let D=E,z=P;if("offset"!==E)switch(D=e.normalizePropertyName(D,c),z){case We.k1:z=r.get(E);break;case We.l3:z=a.get(E);break;default:z=e.normalizeStyleValue(E,D,z,c)}M.set(D,z)}),b||h.push(M),m=M,p=_}),c.length)throw function Pt(o){return new u.vHH(3502,!1)}();return h}function hw(o,e,t,n){switch(e){case"start":o.onStart(()=>n(t&&fw(t,"start",o)));break;case"done":o.onDone(()=>n(t&&fw(t,"done",o)));break;case"destroy":o.onDestroy(()=>n(t&&fw(t,"destroy",o)))}}function fw(o,e,t){const a=gw(o.element,o.triggerName,o.fromState,o.toState,e||o.phaseName,t.totalTime??o.totalTime,!!t.disabled),c=o._data;return null!=c&&(a._data=c),a}function gw(o,e,t,n,r="",a=0,c){return{element:o,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:a,disabled:!!c}}function ia(o,e,t){let n=o.get(e);return n||o.set(e,n=t),n}function LS(o){const e=o.indexOf(":");return[o.substring(1,e),o.slice(e+1)]}let pw=(o,e)=>!1,RS=(o,e,t)=>[],NS=null;function mw(o){const e=o.parentNode||o.host;return e===NS?null:e}(dw()||typeof Element<"u")&&(hA()?(NS=(()=>document.documentElement)(),pw=(o,e)=>{for(;e;){if(e===o)return!0;e=mw(e)}return!1}):pw=(o,e)=>o.contains(e),RS=(o,e,t)=>{if(t)return Array.from(o.querySelectorAll(e));const n=o.querySelector(e);return n?[n]:[]});let yf=null,FS=!1;const kS=pw,BS=RS;let US=(()=>{class o{validateStyleProperty(t){return function R1(o){yf||(yf=function N1(){return typeof document<"u"?document.body:null}()||{},FS=!!yf.style&&"WebkitAppearance"in yf.style);let e=!0;return yf.style&&!function L1(o){return"ebkit"==o.substring(1,6)}(o)&&(e=o in yf.style,!e&&FS&&(e="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in yf.style)),e}(t)}matchesElement(t,n){return!1}containsElement(t,n){return kS(t,n)}getParentElement(t){return mw(t)}query(t,n,r){return BS(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,a,c,h=[],p){return new We.ZN(r,a)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o})(),Cw=(()=>{class o{}return o.NOOP=new US,o})();const Aw="ng-enter",iy="ng-leave",ry="ng-trigger",sy=".ng-trigger",HS="ng-animating",Iw=".ng-animating";function Tu(o){if("number"==typeof o)return o;const e=o.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_w(parseFloat(e[1]),e[2])}function _w(o,e){return"s"===e?1e3*o:o}function oy(o,e,t){return o.hasOwnProperty("duration")?o:function B1(o,e,t){let r,a=0,c="";if("string"==typeof o){const h=o.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(uw()),{duration:0,delay:0,easing:""};r=_w(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(a=_w(parseFloat(p),h[4]));const m=h[5];m&&(c=m)}else r=o;if(!t){let h=!1,p=e.length;r<0&&(e.push(function TS(){return new u.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function ES(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,uw())}return{duration:r,delay:a,easing:c}}(o,e,t)}function fA(o,e={}){return Object.keys(o).forEach(t=>{e[t]=o[t]}),e}function zS(o){const e=new Map;return Object.keys(o).forEach(t=>{e.set(t,o[t])}),e}function jd(o,e=new Map,t){if(t)for(let[n,r]of t)e.set(n,r);for(let[n,r]of o)e.set(n,r);return e}function WS(o,e,t){return t?e+":"+t+";":""}function jS(o){let e="";for(let t=0;t<o.style.length;t++){const n=o.style.item(t);e+=WS(0,n,o.style.getPropertyValue(n))}for(const t in o.style)o.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=WS(0,z1(t),o.style[t]));o.setAttribute("style",e)}function Mc(o,e,t){o.style&&(e.forEach((n,r)=>{const a=yw(r);t&&!t.has(r)&&t.set(r,o.style[a]),o.style[a]=n}),dw()&&jS(o))}function bf(o,e){o.style&&(e.forEach((t,n)=>{const r=yw(n);o.style[r]=""}),dw()&&jS(o))}function gA(o){return Array.isArray(o)?1==o.length?o[0]:(0,We.vP)(o):o}const vw=new RegExp("{{\\s*(.+?)\\s*}}","g");function $S(o){let e=[];if("string"==typeof o){let t;for(;t=vw.exec(o);)e.push(t[1]);vw.lastIndex=0}return e}function pA(o,e,t){const n=o.toString(),r=n.replace(vw,(a,c)=>{let h=e[c];return null==h&&(t.push(function PS(o){return new u.vHH(3003,!1)}()),h=""),h.toString()});return r==n?o:r}function ay(o){const e=[];let t=o.next();for(;!t.done;)e.push(t.value),t=o.next();return e}const H1=/-+([a-z0-9])/g;function yw(o){return o.replace(H1,(...e)=>e[1].toUpperCase())}function z1(o){return o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ra(o,e,t){switch(e.type){case 7:return o.visitTrigger(e,t);case 0:return o.visitState(e,t);case 1:return o.visitTransition(e,t);case 2:return o.visitSequence(e,t);case 3:return o.visitGroup(e,t);case 4:return o.visitAnimate(e,t);case 5:return o.visitKeyframes(e,t);case 6:return o.visitStyle(e,t);case 8:return o.visitReference(e,t);case 9:return o.visitAnimateChild(e,t);case 10:return o.visitAnimateRef(e,t);case 11:return o.visitQuery(e,t);case 12:return o.visitStagger(e,t);default:throw function i(o){return new u.vHH(3004,!1)}()}}function ZS(o,e){return window.getComputedStyle(o)[e]}function Y1(o,e){const t=[];return"string"==typeof o?o.split(/\s*,\s*/).forEach(n=>function q1(o,e,t){if(":"==o[0]){const p=function K1(o,e){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(function Ut(o){return new u.vHH(3016,!1)}()),"* => *"}}(o,t);if("function"==typeof p)return void e.push(p);o=p}const n=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return t.push(function vt(o){return new u.vHH(3015,!1)}()),e;const r=n[1],a=n[2],c=n[3];e.push(YS(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push(YS(c,r))}(n,t,e)):t.push(o),t}const dy=new Set(["true","1"]),hy=new Set(["false","0"]);function YS(o,e){const t=dy.has(o)||hy.has(o),n=dy.has(e)||hy.has(e);return(r,a)=>{let c="*"==o||o==r,h="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?dy.has(o):hy.has(o)),!h&&n&&"boolean"==typeof a&&(h=a?dy.has(e):hy.has(e)),c&&h}}const J1=new RegExp("s*:selfs*,?","g");function bw(o,e,t,n){return new Q1(o).build(e,t,n)}class Q1{constructor(e){this._driver=e}build(e,t,n){const r=new tT(t);return this._resetContextStyleTimingState(r),ra(this,gA(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function l(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,m=p.name;m.toString().split(/\s*,\s*/).forEach(I=>{p.name=I,a.push(this.visitState(p,t))}),p.name=m}else if(1==h.type){const p=this.visitTransition(h,t);n+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function d(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const a=new Set,c=r||{};n.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{$S(p).forEach(m=>{c.hasOwnProperty(m)||a.add(m)})})}),a.size&&(ay(a.values()),t.errors.push(function g(o,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=ra(this,gA(e.animation),t);return{type:1,matchers:Y1(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:xf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(n=>ra(this,n,t)),options:xf(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=n;const h=ra(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:a,options:xf(e.options)}}visitAnimate(e,t){const n=function iT(o,e){if(o.hasOwnProperty("duration"))return o;if("number"==typeof o)return xw(oy(o,e).duration,0,"");const t=o;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=xw(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=oy(t,e);return xw(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=n;let r,a=e.styles?e.styles:(0,We.oB)({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,h=!1;if(!c){h=!0;const m={};n.easing&&(m.easing=n.easing),c=(0,We.oB)(m)}t.currentTime+=n.duration+n.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===We.l3?n.push(h):t.errors.push(new u.vHH(3002,!1)):n.push(zS(h));let a=!1,c=null;return n.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!a))for(let p of h.values())if(p.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:n,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;n&&a>0&&(a-=n.duration+n.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,p)=>{const m=t.collectedStyles.get(t.currentQuerySelector),I=m.get(p);let _=!0;I&&(a!=r&&a>=I.startTime&&r<=I.endTime&&(t.errors.push(function S(o,e,t,n,r){return new u.vHH(3010,!1)}()),_=!1),a=I.startTime),_&&m.set(p,{startTime:a,endTime:r}),t.options&&function V1(o,e,t){const n=e.params||{},r=$S(o);r.length&&r.forEach(a=>{n.hasOwnProperty(a)||t.push(function DS(o){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function O(){return new u.vHH(3011,!1)}()),n;let a=0;const c=[];let h=!1,p=!1,m=0;const I=e.steps.map(z=>{const W=this._makeStyleAst(z,t);let ee=null!=W.offset?W.offset:function nT(o){if("string"==typeof o)return null;let e=null;if(Array.isArray(o))o.forEach(t=>{if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(o instanceof Map&&o.has("offset")){const t=o;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(W.styles),Y=0;return null!=ee&&(a++,Y=W.offset=ee),p=p||Y<0||Y>1,h=h||Y<m,m=Y,c.push(Y),W});p&&t.errors.push(function H(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function re(){return new u.vHH(3200,!1)}());const _=e.steps.length;let b=0;a>0&&a<_?t.errors.push(function ge(){return new u.vHH(3202,!1)}()):0==a&&(b=1/(_-1));const M=_-1,P=t.currentTime,E=t.currentAnimateTimings,D=E.duration;return I.forEach((z,W)=>{const ee=b>0?W==M?1:b*W:c[W],Y=ee*D;t.currentTime=P+E.delay+Y,E.duration=Y,this._validateStyleAst(z,t),z.offset=ee,n.styles.push(z)}),n}visitReference(e,t){return{type:8,animation:ra(this,gA(e.animation),t),options:xf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xf(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function X1(o){const e=!!o.split(/\s*,\s*/).find(t=>":self"==t);return e&&(o=o.replace(J1,"")),o=o.replace(/@\*/g,sy).replace(/@\w+/g,t=>sy+"-"+t.slice(1)).replace(/:animating/g,Iw),[o,e]}(e.selector);t.currentQuerySelector=n.length?n+" "+a:a,ia(t.collectedStyles,t.currentQuerySelector,new Map);const h=ra(this,gA(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:xf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Re(){return new u.vHH(3013,!1)}());const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:oy(e.timings,t.errors,!0);return{type:12,animation:ra(this,gA(e.animation),t),timings:n,options:null}}}class tT{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xf(o){return o?(o=fA(o)).params&&(o.params=function eT(o){return o?fA(o):null}(o.params)):o={},o}function xw(o,e,t){return{duration:o,delay:e,easing:t}}function ww(o,e,t,n,r,a,c=null,h=!1){return{type:1,element:o,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:h}}class fy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const oT=new RegExp(":enter","g"),lT=new RegExp(":leave","g");function Mw(o,e,t,n,r,a=new Map,c=new Map,h,p,m=[]){return(new cT).buildKeyframes(o,e,t,n,r,a,c,h,p,m)}class cT{buildKeyframes(e,t,n,r,a,c,h,p,m,I=[]){m=m||new fy;const _=new Sw(e,t,m,r,a,I,[]);_.options=p;const b=p.delay?Tu(p.delay):0;_.currentTimeline.delayNextStep(b),_.currentTimeline.setStyles([c],null,_.errors,p),ra(this,n,_);const M=_.timelines.filter(P=>P.containsAnimation());if(M.length&&h.size){let P;for(let E=M.length-1;E>=0;E--){const D=M[E];if(D.element===t){P=D;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([h],null,_.errors,p)}return M.length?M.map(P=>P.buildKeyframes()):[ww(t,[],[],[],0,b,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.get(t.element);if(n){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(n,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:Tu(pA(a,r?.params??{},t.errors));n.delayNextStep(c)}}}_visitSubInstructions(e,t,n){let a=t.currentTimeline.currentTime;const c=null!=n.duration?Tu(n.duration):null,h=null!=n.delay?Tu(n.delay):null;return 0!==c&&e.forEach(p=>{const m=t.appendInstructionToTimeline(p,c,h);a=Math.max(a,m.duration+m.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),ra(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=gy);const c=Tu(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>ra(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Tu(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),ra(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),n.push(h.currentTimeline)}),n.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return oy(t.params?pA(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(n.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(a):n.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,a=n.duration,h=t.createSubContext().currentTimeline;h.easing=n.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*a),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Tu(r.delay):0;a&&(6===t.previousNode.type||0==n&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gy);let c=n;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((m,I)=>{t.currentQueryIndex=I;const _=t.createSubContext(e.options,m);a&&_.delayNextStep(a),m===t.element&&(p=_.currentTimeline),ra(this,e.animation,_),_.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,_.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":p=h-p;break;case"full":p=n.currentStaggerTime}const I=t.currentTimeline;p&&I.delayNextStep(p);const _=I.currentTime;ra(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-_+(r.startTime-n.currentTimeline.startTime)}}const gy={};class Sw{constructor(e,t,n,r,a,c,h,p){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new py(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=Tu(n.duration)),null!=n.delay&&(r.delay=Tu(n.delay));const a=n.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=pA(a[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,a=new Sw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=gy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},a=new uT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,a,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(oT,"."+this._enterClassName)).replace(lT,"."+this._leaveClassName);let m=this._driver.query(this.element,e,1!=n);0!==n&&(m=n<0?m.slice(m.length+n,m.length):m.slice(0,n)),h.push(...m)}return!a&&0==h.length&&c.push(function Ke(o){return new u.vHH(3014,!1)}()),h}}class py{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new py(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||We.l3),this._currentKeyframe.set(t,We.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function dT(o,e){const t=new Map;let n;return o.forEach(r=>{if("*"===r){n=n||e.keys();for(let a of n)t.set(a,We.l3)}else jd(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,p]of c){const m=pA(p,a,n);this._pendingStyles.set(h,m),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??We.l3),this._updateStyle(h,m)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{const r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const m=jd(h,new Map,this._backFill);m.forEach((I,_)=>{I===We.k1?e.add(_):I===We.l3&&t.add(_)}),n||m.set("offset",p/this.duration),r.push(m)});const a=e.size?ay(e.values()):[],c=t.size?ay(t.values()):[];if(n){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return ww(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class uT extends py{constructor(e,t,n,r,a,c,h=!1){super(e,t,c.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=n+t,h=t/c,p=jd(e[0]);p.set("offset",0),a.push(p);const m=jd(e[0]);m.set("offset",JS(h)),a.push(m);const I=e.length-1;for(let _=1;_<=I;_++){let b=jd(e[_]);const M=b.get("offset");b.set("offset",JS((t+M*n)/c)),a.push(b)}n=c,t=0,r="",e=a}return ww(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function JS(o,e=3){const t=Math.pow(10,e-1);return Math.round(o*t)/t}class Tw{}const hT=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fT extends Tw{normalizePropertyName(e,t){return yw(e)}normalizeStyleValue(e,t,n,r){let a="";const c=n.toString().trim();if(hT.has(t)&&0!==n&&"0"!==n)if("number"==typeof n)a="px";else{const h=n.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function s(o,e){return new u.vHH(3005,!1)}())}return c+a}}function QS(o,e,t,n,r,a,c,h,p,m,I,_,b){return{type:0,element:o,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:n,toStyles:c,timelines:h,queriedElements:p,preStyleProps:m,postStyleProps:I,totalTime:_,errors:b}}const Ew={};class XS{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function gT(o,e,t,n,r){return o.some(a=>a(e,t,n,r))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,a,c,h,p,m,I){const _=[],b=this.ast.options&&this.ast.options.params||Ew,P=this.buildStyles(n,h&&h.params||Ew,_),E=p&&p.params||Ew,D=this.buildStyles(r,E,_),z=new Set,W=new Map,ee=new Map,Y="void"===r,de={params:pT(E,b),delay:this.ast.options?.delay},fe=I?[]:Mw(e,t,this.ast.animation,a,c,P,D,de,m,_);let Ee=0;if(fe.forEach(Ae=>{Ee=Math.max(Ae.duration+Ae.delay,Ee)}),_.length)return QS(t,this._triggerName,n,r,Y,P,D,[],[],W,ee,Ee,_);fe.forEach(Ae=>{const Ve=Ae.element,Ze=ia(W,Ve,new Set);Ae.preStyleProps.forEach(Nt=>Ze.add(Nt));const St=ia(ee,Ve,new Set);Ae.postStyleProps.forEach(Nt=>St.add(Nt)),Ve!==t&&z.add(Ve)});const Q=ay(z.values());return QS(t,this._triggerName,n,r,Y,P,D,fe,Q,W,ee,Ee)}}function pT(o,e){const t=fA(e);for(const n in o)o.hasOwnProperty(n)&&null!=o[n]&&(t[n]=o[n]);return t}class mT{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n=new Map,r=fA(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,h)=>{c&&(c=pA(c,r,t));const p=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,p,c,t),n.set(p,c)})}),n}}class AT{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new mT(r.style,r.options&&r.options.params||{},n))}),e1(this.states,"true","1"),e1(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new XS(e,r,this.states))}),this.fallbackTransition=function IT(o,e,t){return new XS(o,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(c=>c.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function e1(o,e,t){o.has(e)?o.has(t)||o.set(t,o.get(e)):o.has(t)&&o.set(e,o.get(t))}const _T=new fy;class vT{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const n=[],a=bw(this._driver,t,n,[]);if(n.length)throw function On(o){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,n){const r=e.element,a=OS(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],a=this._animations.get(e);let c;const h=new Map;if(a?(c=Mw(this._driver,t,a,Aw,iy,new Map,new Map,n,_T,r),c.forEach(I=>{const _=ia(h,I.element,new Map);I.postStyleProps.forEach(b=>_.set(b,null))})):(r.push(function Si(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function hr(o){return new u.vHH(3504,!1)}();h.forEach((I,_)=>{I.forEach((b,M)=>{I.set(M,this._driver.computeStyle(_,M,We.l3))})});const m=Wd(c.map(I=>{const _=h.get(I.element);return this._buildPlayer(I,new Map,_)}));return this._playersById.set(e,m),m.onDestroy(()=>this.destroy(e)),this.players.push(m),m}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Su(o){return new u.vHH(3301,!1)}();return t}listen(e,t,n,r){const a=gw(t,"","","");return hw(this._getPlayer(e),n,a,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(n){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const t1="ng-animate-queued",Dw="ng-animate-disabled",MT=[],n1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ST={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class Pw{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=function PT(o){return o??null}(n?e.value:e),n){const a=fA(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const n=this.options.params;Object.keys(t).forEach(r=>{null==n[r]&&(n[r]=t[r])})}}}const mA="void",Ow=new Pw(mA);class TT{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ja(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw function sA(o,e){return new u.vHH(3302,!1)}();if(null==n||0==n.length)throw function oA(o){return new u.vHH(3303,!1)}();if(!function OT(o){return"start"==o||"done"==o}(n))throw function aA(o,e){return new u.vHH(3400,!1)}();const a=ia(this._elementListeners,e,[]),c={name:t,phase:n,callback:r};a.push(c);const h=ia(this._engine.statesByElement,e,new Map);return h.has(t)||(ja(e,ry),ja(e,ry+"-"+t),h.set(t,Ow)),()=>{this._engine.afterFlush(()=>{const p=a.indexOf(c);p>=0&&a.splice(p,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function lA(o){return new u.vHH(3401,!1)}();return t}trigger(e,t,n,r=!0){const a=this._getTrigger(t),c=new Lw(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ja(e,ry),ja(e,ry+"-"+t),this._engine.statesByElement.set(e,h=new Map));let p=h.get(t);const m=new Pw(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&p&&m.absorbOptions(p.options),h.set(t,m),p||(p=Ow),m.value!==mA&&p.value===m.value){if(!function NT(o,e){const t=Object.keys(o),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||o[a]!==e[a])return!1}return!0}(p.params,m.params)){const E=[],D=a.matchStyles(p.value,p.params,E),z=a.matchStyles(m.value,m.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{bf(e,D),Mc(e,z)})}return}const b=ia(this._engine.playersByElement,e,[]);b.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let M=a.matchTransition(p.value,m.value,e,m.params),P=!1;if(!M){if(!r)return;M=a.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:M,fromState:p,toState:m,player:c,isFallbackTransition:P}),P||(ja(e,t1),c.onStart(()=>{Cp(e,t1)})),c.onDone(()=>{let E=this.players.indexOf(c);E>=0&&this.players.splice(E,1);const D=this._engine.playersByElement.get(e);if(D){let z=D.indexOf(c);z>=0&&D.splice(z,1)}}),this.players.push(c),b.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,sy,!0);n.forEach(r=>{if(r[Wa])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const h=[];if(a.forEach((p,m)=>{if(c.set(m,p.value),this._triggers.has(m)){const I=this.trigger(e,m,mA,r);I&&h.push(I)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),n&&Wd(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,m=n.get(c)||Ow,I=new Pw(mA),_=new Lw(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:m,toState:I,player:_,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const a=n.players.length?n.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(n.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Wa];(!a||a===n1)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){ja(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const a=n.element,c=this._elementListeners.get(a);c&&c.forEach(h=>{if(h.name==n.triggerName){const p=gw(a,n.triggerName,n.fromState.value,n.toState.value);p._data=e,hw(n.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{const a=n.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(n=>n.element===e)||t,t}}class ET{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){const n=new TT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const m=n.indexOf(p);n.splice(m+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n)for(let r of n.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,n,r){if(my(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!my(t))return;const a=t[Wa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ja(e,Dw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cp(e,Dw))}removeNode(e,t,n,r){if(my(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r,a){this.collectedLeaveElements.push(t),t[Wa]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,n,r,a){return my(t)?this._fetchNamespace(e).listen(t,n,r,a):()=>{}}_buildInstruction(e,t,n,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,sy,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Iw,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Wd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Wa];if(t&&t.setForRemoval){if(e[Wa]=n1,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(Dw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ja(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],t.length?Wd(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw function cA(o){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const n=new fy,r=[],a=new Map,c=[],h=new Map,p=new Map,m=new Map,I=new Set;this.disabledNodes.forEach(ke=>{I.add(ke);const et=this.driver.query(ke,".ng-animate-queued",!0);for(let it=0;it<et.length;it++)I.add(et[it])});const _=this.bodyNode,b=Array.from(this.statesByElement.keys()),M=o1(b,this.collectedEnterElements),P=new Map;let E=0;M.forEach((ke,et)=>{const it=Aw+E++;P.set(et,it),ke.forEach(Je=>ja(Je,it))});const D=[],z=new Set,W=new Set;for(let ke=0;ke<this.collectedLeaveElements.length;ke++){const et=this.collectedLeaveElements[ke],it=et[Wa];it&&it.setForRemoval&&(D.push(et),z.add(et),it.hasAnimation?this.driver.query(et,".ng-star-inserted",!0).forEach(Je=>z.add(Je)):W.add(et))}const ee=new Map,Y=o1(b,Array.from(z));Y.forEach((ke,et)=>{const it=iy+E++;ee.set(et,it),ke.forEach(Je=>ja(Je,it))}),e.push(()=>{M.forEach((ke,et)=>{const it=P.get(et);ke.forEach(Je=>Cp(Je,it))}),Y.forEach((ke,et)=>{const it=ee.get(et);ke.forEach(Je=>Cp(Je,it))}),D.forEach(ke=>{this.processLeaveNode(ke)})});const de=[],fe=[];for(let ke=this._namespaceList.length-1;ke>=0;ke--)this._namespaceList[ke].drainQueuedTransitions(t).forEach(it=>{const Je=it.player,dt=it.element;if(de.push(Je),this.collectedEnterElements.length){const Mn=dt[Wa];if(Mn&&Mn.setForMove){if(Mn.previousTriggersValues&&Mn.previousTriggersValues.has(it.triggerName)){const yn=Mn.previousTriggersValues.get(it.triggerName),bn=this.statesByElement.get(it.element);if(bn&&bn.has(it.triggerName)){const tn=bn.get(it.triggerName);tn.value=yn,bn.set(it.triggerName,tn)}}return void Je.destroy()}}const kt=!_||!this.driver.containsElement(_,dt),Ot=ee.get(dt),Gt=P.get(dt),Zt=this._buildInstruction(it,n,Gt,Ot,kt);if(Zt.errors&&Zt.errors.length)return void fe.push(Zt);if(kt)return Je.onStart(()=>bf(dt,Zt.fromStyles)),Je.onDestroy(()=>Mc(dt,Zt.toStyles)),void r.push(Je);if(it.isFallbackTransition)return Je.onStart(()=>bf(dt,Zt.fromStyles)),Je.onDestroy(()=>Mc(dt,Zt.toStyles)),void r.push(Je);const Fn=[];Zt.timelines.forEach(Mn=>{Mn.stretchStartingKeyframe=!0,this.disabledNodes.has(Mn.element)||Fn.push(Mn)}),Zt.timelines=Fn,n.append(dt,Zt.timelines),c.push({instruction:Zt,player:Je,element:dt}),Zt.queriedElements.forEach(Mn=>ia(h,Mn,[]).push(Je)),Zt.preStyleProps.forEach((Mn,yn)=>{if(Mn.size){let bn=p.get(yn);bn||p.set(yn,bn=new Set),Mn.forEach((tn,li)=>bn.add(li))}}),Zt.postStyleProps.forEach((Mn,yn)=>{let bn=m.get(yn);bn||m.set(yn,bn=new Set),Mn.forEach((tn,li)=>bn.add(li))})});if(fe.length){const ke=[];fe.forEach(et=>{ke.push(function uA(o,e){return new u.vHH(3505,!1)}())}),de.forEach(et=>et.destroy()),this.reportError(ke)}const Ee=new Map,Q=new Map;c.forEach(ke=>{const et=ke.element;n.has(et)&&(Q.set(et,et),this._beforeAnimationBuild(ke.player.namespaceId,ke.instruction,Ee))}),r.forEach(ke=>{const et=ke.element;this._getPreviousPlayers(et,!1,ke.namespaceId,ke.triggerName,null).forEach(Je=>{ia(Ee,et,[]).push(Je),Je.destroy()})});const Ae=D.filter(ke=>l1(ke,p,m)),Ve=new Map;s1(Ve,this.driver,W,m,We.l3).forEach(ke=>{l1(ke,p,m)&&Ae.push(ke)});const St=new Map;M.forEach((ke,et)=>{s1(St,this.driver,new Set(ke),p,We.k1)}),Ae.forEach(ke=>{const et=Ve.get(ke),it=St.get(ke);Ve.set(ke,new Map([...Array.from(et?.entries()??[]),...Array.from(it?.entries()??[])]))});const Nt=[],Qe=[],yt={};c.forEach(ke=>{const{element:et,player:it,instruction:Je}=ke;if(n.has(et)){if(I.has(et))return it.onDestroy(()=>Mc(et,Je.toStyles)),it.disabled=!0,it.overrideTotalTime(Je.totalTime),void r.push(it);let dt=yt;if(Q.size>1){let Ot=et;const Gt=[];for(;Ot=Ot.parentNode;){const Zt=Q.get(Ot);if(Zt){dt=Zt;break}Gt.push(Ot)}Gt.forEach(Zt=>Q.set(Zt,dt))}const kt=this._buildAnimation(it.namespaceId,Je,Ee,a,St,Ve);if(it.setRealPlayer(kt),dt===yt)Nt.push(it);else{const Ot=this.playersByElement.get(dt);Ot&&Ot.length&&(it.parentPlayer=Wd(Ot)),r.push(it)}}else bf(et,Je.fromStyles),it.onDestroy(()=>Mc(et,Je.toStyles)),Qe.push(it),I.has(et)&&r.push(it)}),Qe.forEach(ke=>{const et=a.get(ke.element);if(et&&et.length){const it=Wd(et);ke.setRealPlayer(it)}}),r.forEach(ke=>{ke.parentPlayer?ke.syncPlayerEvents(ke.parentPlayer):ke.destroy()});for(let ke=0;ke<D.length;ke++){const et=D[ke],it=et[Wa];if(Cp(et,iy),it&&it.hasAnimation)continue;let Je=[];if(h.size){let kt=h.get(et);kt&&kt.length&&Je.push(...kt);let Ot=this.driver.query(et,Iw,!0);for(let Gt=0;Gt<Ot.length;Gt++){let Zt=h.get(Ot[Gt]);Zt&&Zt.length&&Je.push(...Zt)}}const dt=Je.filter(kt=>!kt.destroyed);dt.length?LT(this,et,dt):this.processLeaveNode(et)}return D.length=0,Nt.forEach(ke=>{this.players.push(ke),ke.onDone(()=>{ke.destroy();const et=this.players.indexOf(ke);this.players.splice(et,1)}),ke.play()}),Nt}elementContainsData(e,t){let n=!1;const r=t[Wa];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,a){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!a||a==mA;h.forEach(m=>{m.queued||!p&&m.triggerName!=r||c.push(m)})}}return(n||r)&&(c=c.filter(h=>!(n&&n!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,n){const a=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const m=p.element,I=m!==a,_=ia(n,m,[]);this._getPreviousPlayers(m,I,c,h,t.toState).forEach(M=>{const P=M.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),M.destroy(),_.push(M)})}bf(a,t.fromStyles)}_buildAnimation(e,t,n,r,a,c){const h=t.triggerName,p=t.element,m=[],I=new Set,_=new Set,b=t.timelines.map(P=>{const E=P.element;I.add(E);const D=E[Wa];if(D&&D.removedBeforeQueried)return new We.ZN(P.duration,P.delay);const z=E!==p,W=function RT(o){const e=[];return a1(o,e),e}((n.get(E)||MT).map(Ee=>Ee.getRealPlayer())).filter(Ee=>!!Ee.element&&Ee.element===E),ee=a.get(E),Y=c.get(E),de=OS(0,this._normalizer,0,P.keyframes,ee,Y),fe=this._buildPlayer(P,de,W);if(P.subTimeline&&r&&_.add(E),z){const Ee=new Lw(e,h,E);Ee.setRealPlayer(fe),m.push(Ee)}return fe});m.forEach(P=>{ia(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function DT(o,e,t){let n=o.get(e);if(n){if(n.length){const r=n.indexOf(t);n.splice(r,1)}0==n.length&&o.delete(e)}return n}(this.playersByQueriedElement,P.element,P))}),I.forEach(P=>ja(P,HS));const M=Wd(b);return M.onDestroy(()=>{I.forEach(P=>Cp(P,HS)),Mc(p,t.toStyles)}),_.forEach(P=>{ia(r,P,[]).push(M)}),M}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new We.ZN(e.duration,e.delay)}}class Lw{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new We.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>hw(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ia(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function my(o){return o&&1===o.nodeType}function r1(o,e){const t=o.style.display;return o.style.display=e??"none",t}function s1(o,e,t,n,r){const a=[];t.forEach(p=>a.push(r1(p)));const c=[];n.forEach((p,m)=>{const I=new Map;p.forEach(_=>{const b=e.computeStyle(m,_,r);I.set(_,b),(!b||0==b.length)&&(m[Wa]=ST,c.push(m))}),o.set(m,I)});let h=0;return t.forEach(p=>r1(p,a[h++])),c}function o1(o,e){const t=new Map;if(o.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(h){if(!h)return 1;let p=a.get(h);if(p)return p;const m=h.parentNode;return p=t.has(m)?m:r.has(m)?1:c(m),a.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function ja(o,e){o.classList?.add(e)}function Cp(o,e){o.classList?.remove(e)}function LT(o,e,t){Wd(t).onDone(()=>o.processLeaveNode(e))}function a1(o,e){for(let t=0;t<o.length;t++){const n=o[t];n instanceof We.ZE?a1(n.players,e):e.push(n)}}function l1(o,e,t){const n=t.get(o);if(!n)return!1;let r=e.get(o);return r?n.forEach(a=>r.add(a)):e.set(o,n),t.delete(o),!0}class Cy{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new ET(e,t,n),this._timelineEngine=new vT(e,t,n),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,n,r,a){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],I=bw(this._driver,a,p,[]);if(p.length)throw function wn(o,e){return new u.vHH(3404,!1)}();h=function CT(o,e,t){return new AT(o,e,t)}(r,I,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[a,c]=LS(n);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,a){if("@"==n.charAt(0)){const[c,h]=LS(n);return this._timelineEngine.listen(c,t,h,a)}return this._transitionEngine.listen(e,t,n,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kT=(()=>{class o{constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;let a=o.initialStylesByElement.get(t);a||o.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Mc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mc(this._element,this._initialStyles),this._endStyles&&(Mc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(bf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bf(this._element,this._endStyles),this._endStyles=null),Mc(this._element,this._initialStyles),this._state=3)}}return o.initialStylesByElement=new WeakMap,o})();function Rw(o){let e=null;return o.forEach((t,n)=>{(function BT(o){return"display"===o||"position"===o})(n)&&(e=e||new Map,e.set(n,t))}),e}class c1{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{"offset"!==r&&e.set(r,this._finished?n:ZS(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}}class UT{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return kS(e,t)}getParentElement(e){return mw(e)}query(e,t,n){return BS(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}animate(e,t,n,r,a,c=[]){const p={duration:n,delay:r,fill:0==r?"both":"forwards"};a&&(p.easing=a);const m=new Map,I=c.filter(M=>M instanceof c1);(function G1(o,e){return 0===o||0===e})(n,r)&&I.forEach(M=>{M.currentSnapshot.forEach((P,E)=>m.set(E,P))});let _=function U1(o){return o.length?o[0]instanceof Map?o:o.map(e=>zS(e)):[]}(t).map(M=>jd(M));_=function W1(o,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((a,c)=>{n.has(c)||r.push(c),n.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(h=>c.set(h,ZS(o,h)))}}return e}(e,_,m);const b=function FT(o,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Rw(e[0]),e.length>1&&(n=Rw(e[e.length-1]))):e instanceof Map&&(t=Rw(e)),t||n?new kT(o,t,n):null}(e,_);return new c1(e,_,p,b)}}let VT=(()=>{class o extends We._j{constructor(t,n){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(n.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const n=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?(0,We.vP)(t):t;return u1(this._renderer,null,n,"register",[r]),new HT(n,this._renderer)}}return o.\u0275fac=function(t){return new(t||o)(u.LFG(u.FYo),u.LFG(Z.K0))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o})();class HT extends We.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new zT(this._id,e,t||{},this._renderer)}}class zT{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return u1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function u1(o,e,t,n,r){return o.setProperty(e,`@@${t}:${n}`,r)}const d1="@.disabled";let GT=(()=>{class o{constructor(t,n,r){this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(a,c)=>{const h=c?.parentNode(a);h&&c.removeChild(h,a)}}createRenderer(t,n){const a=this.delegate.createRenderer(t,n);if(!(t&&n&&n.data&&n.data.animation)){let I=this._rendererCache.get(a);return I||(I=new h1("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,I)),I}const c=n.id,h=n.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=I=>{Array.isArray(I)?I.forEach(p):this.engine.registerTrigger(c,h,t,I.name,I)};return n.data.animation.forEach(p),new WT(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,r){t>=0&&t<this._microtaskId?this._zone.run(()=>n(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,h]=a;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return o.\u0275fac=function(t){return new(t||o)(u.LFG(u.FYo),u.LFG(Cy),u.LFG(u.R0b))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o})();class h1{constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&t==d1?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class WT extends h1{constructor(e,t,n,r,a){super(t,n,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&t==d1?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const r=function jT(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function $T(o){const e=o.indexOf(".");return[o.substring(0,e),o.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,n,h)})}return this.delegate.listen(e,t,n)}}const f1=[{provide:We._j,useClass:VT},{provide:Tw,useFactory:function qT(){return new fT}},{provide:Cy,useClass:(()=>{class o extends Cy{constructor(t,n,r,a){super(t.body,n,r)}ngOnDestroy(){this.flush()}}return o.\u0275fac=function(t){return new(t||o)(u.LFG(Z.K0),u.LFG(Cw),u.LFG(Tw),u.LFG(u.z2F))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac}),o})()},{provide:u.FYo,useFactory:function KT(o,e,t){return new GT(o,e,t)},deps:[$.se,Cy,u.R0b]}],Nw=[{provide:Cw,useFactory:()=>new UT},{provide:u.QbO,useValue:"BrowserAnimations"},...f1],g1=[{provide:Cw,useClass:US},{provide:u.QbO,useValue:"NoopAnimations"},...f1];let JT=(()=>{class o{static withConfig(t){return{ngModule:o,providers:t.disableAnimations?g1:Nw}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=u.oAB({type:o}),o.\u0275inj=u.cJS({providers:Nw,imports:[$.b2]}),o})();var QT=k(1147),XT=k(3451);let eE=(()=>{class o{constructor(t,n){this.httpConnection=t,this.configService=n}incrementVisitour(){let t=this.configService.getIpServer();this.httpConnection.post(t+"counter/visit/increment",{title:"Increment visitour"}).subscribe(n=>{})}}return o.\u0275fac=function(t){return new(t||o)(u.LFG(rA.eN),u.LFG(XT.g))},o.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),tE=(()=>{class o{constructor(t,n,r,a){if(this.cookieCreator=t,this.counterService=n,this.platformId=r,this.metaService=a,console.log=function(){},console.log("--------------------START----------------------------- "),(0,Z.NF)(this.platformId)&&!this.cookieCreator.check("visit")){this.counterService.incrementVisitour();let c=new Date;console.log("date: "+c),c.setUTCHours(23),c.setMinutes(59),c.setSeconds(59),console.log("after set date: "+c),this.cookieCreator.set("visit","visited",c,"/")}}}return o.\u0275fac=function(t){return new(t||o)(u.LFG(ue.N),u.LFG(eE),u.LFG(u.Lbi),u.LFG($.h_))},o.\u0275mod=u.oAB({type:o,bootstrap:[xS]}),o.\u0275inj=u.cJS({providers:[ue.N],imports:[$.b2.withServerTransition({appId:"serverApp"}),wS.AuthenticationModule,MS.TutorialContentModule,QT.HomeModule,K,al,zo,Lu,Ef.hJ,JT,yp,rA.JF,ae.aw.forRoot({loader:{provide:ae.Zw,useFactory:p1,deps:[rA.eN]}})]}),o})();function p1(o){return new SS(o,"./assets/i18n/",".json")}},3401:(Vt,Be,k)=>{"use strict";k.r(Be),k.d(Be,{AuthenticationModule:()=>ue});var u=k(6895),$=k(2569),f=k(4650),ye=k(9383);const Z=[{path:"auth/login",component:(()=>{class he{constructor(){}ngOnInit(){}}return he.\u0275fac=function(Fe){return new(Fe||he)},he.\u0275cmp=f.Xpm({type:he,selectors:[["app-login"]],decls:6,vars:3,consts:[[2,"font-size","200px"],[1,"content"],[1,"welcomeMessage"]],template:function(Fe,Le){1&Fe&&(f.TgZ(0,"p",0),f._uU(1,"login works!"),f.qZA(),f.TgZ(2,"div",1)(3,"h1",2),f._uU(4),f.ALo(5,"translate"),f.qZA()()),2&Fe&&(f.xp6(4),f.Oqu(f.lcZ(5,1,"welcome.title")))},dependencies:[ye.X$]}),he})()},{path:"auth/signin",component:(()=>{class he{constructor(){}ngOnInit(){}}return he.\u0275fac=function(Fe){return new(Fe||he)},he.\u0275cmp=f.Xpm({type:he,selectors:[["app-signin"]],decls:2,vars:0,consts:[[2,"font-size","50px","color","white"]],template:function(Fe,Le){1&Fe&&(f.TgZ(0,"p",0),f._uU(1,"signin works!"),f.qZA())}}),he})()}];let ae=(()=>{class he{}return he.\u0275fac=function(Fe){return new(Fe||he)},he.\u0275mod=f.oAB({type:he}),he.\u0275inj=f.cJS({imports:[$.Bz.forChild(Z),$.Bz]}),he})();var X=k(7908),ne=k(529);let ue=(()=>{class he{}return he.\u0275fac=function(Fe){return new(Fe||he)},he.\u0275mod=f.oAB({type:he}),he.\u0275inj=f.cJS({imports:[u.ez,ae,ye.aw.forRoot({loader:{provide:ye.Zw,useFactory:X.s,deps:[ne.eN]}})]}),he})()},7350:(Vt,Be,k)=>{"use strict";k.d(Be,{t:()=>q});var u=k(6895),$=k(4650),f=k(7579),ye=k(5657),K=k(7887);let q=(()=>{class Z{constructor(X,ne,ue){if(this.cookies=X,this.platformId=ne,this.urlPathService=ue,this.actionForceChangeLanguage=new f.x,this.actionForceChangeLanguage$=this.actionForceChangeLanguage?.asObservable(),this.actionForceChangeLanguageForDispacherPage=new f.x,this.actionForceChangeLanguageForDispacherPage$=this.actionForceChangeLanguageForDispacherPage?.asObservable(),console.log("COSTRUTTORE SERVICE LANGUAGE"),(0,u.NF)(this.platformId)){let he="",Ne=this.urlPathService.getUrlPath(window.location.href);if(console.log("SERVICE LANGUAGE: "+Ne),console.log("SERVICE LANGUAGE: "+ue.getTargetPrefixUrl(Ne)),console.log("SERVICE LANGUAGE: "+Ne.includes(ue.getTargetPrefixUrl(Ne))),Ne.includes(ue.getTargetPrefixUrl(Ne)))Ne.includes("it")&&(he="it"),Ne.includes("en")&&(he="en");else{console.log("else statement");let Fe=this.getCoockiesLanguage();"NONE"==Fe?(console.log("Nessun cockie per la lingua, la prendo dal browser"),he=window.navigator.language):he=Fe}this.browserLanguage=he.includes("it")||he.includes("IT")?"it":"en",console.log("language attuale prima dei coockies: "+this.browserLanguage),this.updateCoockiesLanguage(this.browserLanguage),console.log("language attuale: "+this.browserLanguage)}(0,u.PM)(this.platformId)&&(this.browserLanguage="it")}updateCoockiesLanguage(X){this.cookies.check("LANG")?(this.cookies.delete("LANG"),this.cookies.set("LANG",X,{path:"/"})):this.cookies.set("LANG",X)}getCoockiesLanguage(){return this.cookies.check("LANG")?this.cookies.get("LANG"):"NONE"}forceSilecentUpdateLanguage(X){this.browserLanguage=X,(0,u.NF)(this.platformId)&&(this.cookies.delete("LANG"),this.cookies.set("LANG",X,{path:"/"})),this.actionForceChangeLanguageForDispacherPage?.next(X)}forcePropagateUpdateLanguage(X){console.log("forzo propagazione"),this.browserLanguage=X,this.cookies.delete("LANG"),this.cookies.set("LANG",X),this.actionForceChangeLanguage?.next(X)}getBrowserLanguage(){return this.browserLanguage}}return Z.\u0275fac=function(X){return new(X||Z)($.LFG(ye.N),$.LFG($.Lbi),$.LFG(K.i))},Z.\u0275prov=$.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},3451:(Vt,Be,k)=>{"use strict";k.d(Be,{g:()=>f});var u=k(4650),$=(()=>(($||($={})).IPPUBLICSERVER="https://server.javagalaxy.xyz:8443/java-galaxy/",$))();let f=(()=>{class ye{constructor(){}getIpServer(){return $.IPPUBLICSERVER}}return ye.\u0275fac=function(q){return new(q||ye)},ye.\u0275prov=u.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})()},1147:(Vt,Be,k)=>{"use strict";k.r(Be),k.d(Be,{HomeModule:()=>he});var u=k(4650),$=k(6895),f=k(2569),ye=k(7350),K=k(9383);const Z=[{path:"home",component:(()=>{class Ne{constructor(Le,We){this.router=Le,this.configLanguageService=We}ngOnInit(){}onScroll(Le){window.pageYOffset>50&&(document.getElementById("containerArrow").style.display="none"),window.pageYOffset<50&&(document.getElementById("containerArrow").style.display="block")}goToCourses(){this.router.navigate(["/code/lang/"+this.configLanguageService.getBrowserLanguage()])}}return Ne.\u0275fac=function(Le){return new(Le||Ne)(u.Y36(f.F0),u.Y36(ye.t))},Ne.\u0275cmp=u.Xpm({type:Ne,selectors:[["app-home"]],hostBindings:function(Le,We){1&Le&&u.NdJ("scroll",function(Me){return We.onScroll(Me)},!1,u.Jf7)},decls:104,vars:36,consts:[["id","containerArrow",1,"containerArrow"],[1,"arrow"],[1,"welcomeContent"],[1,"contentAstronauts"],["src","assets/images/welcome.component/image/AstroB.png",1,"astro"],[1,"contentPresentationGlobal"],[1,"contentSchedes","firstSchedes"],["data-aos","fade-right","data-aos-duration","900",1,"presentationSchedes","left","withOutBody"],["data-aos","fade-left","data-aos-duration","900"],[1,"presentationSchedes","right","withBody"],[1,"content"],[1,"contentImage"],["src","assets/images/welcome.component/image/astroConfuse.png",1,"imgCard"],[1,"contentSchedes","reversed"],["data-aos","fade-right","data-aos-duration","900"],[1,"presentationSchedes","left","withBody"],[1,"contentImage","contentImageSecond"],["src","assets/images/welcome.component/image/astroStudy2.png",1,"imgCard"],["data-aos","fade-left","data-aos-duration","900",1,"presentationSchedes","right","withOutBody"],[1,"contentSchedes"],[1,"contentImage","imageContentThird"],["src","assets/images/welcome.component/image/astroStudy3.png",1,"imgCard"],["data-aos","fade-right","data-aos-duration","900",1,"presentationSchedes","left","withBody"],["data-aos","fade-left","data-aos-duration","900",2,"width","100%"],[1,"presentationSchedes","left","withBody","lastSchedes"],[1,"contentImage","imageContentFourth","adjustTop"],["src","assets/images/welcome.component/image/astroNervoso.png",1,"imgCard"],[1,"textModify"],[1,"contentImage","contentImageBottom","adjustBottom"],["src","assets/images/welcome.component/image/astroStudy.png",1,"imgCard","imgZen"],[1,"contentSchedes","sixthSchede"],["data-aos","fade-right","data-aos-duration","900",2,"width","100%"],["src","assets/images/welcome.component/image/astroPC.png",1,"imgCard"],[1,"textModifyAlt"],["src","assets/images/welcome.component/image/astroZen2.png",1,"imgCard","imgZen"],["src","assets/images/welcome.component/image/astroMuscle.png",1,"imgCard","imgMuscle"],["src","assets/images/welcome.component/image/astroNinja.png",1,"imgCard","imgZen"],[1,"container"],[1,"contentPanicWord"],["src","assets/images/welcome.component/image/astroCart.png",1,"astroCart"],[1,"welcomeMessage"],[1,"contentLink"],[1,"contentLogoPollice"],["src","assets/images/welcome.component/image/2p.png",1,"imagePanic","welcomeContent"],["href","javascript:void(0)",1,"linkStart",3,"click"],[1,"pi","pi-forward",2,"font-size","2rem"],[1,"contentAstronautsRocket"],["src","assets/images/welcome.component/image/astroRocketFinal.png",1,"astro"]],template:function(Le,We){1&Le&&(u.TgZ(0,"div",0),u._UZ(1,"div",1)(2,"div",1)(3,"div",1),u.qZA(),u.TgZ(4,"div",2)(5,"div",3),u._UZ(6,"img",4),u.qZA(),u.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"p"),u._uU(11),u.ALo(12,"translate"),u.qZA()(),u.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"div",11),u._UZ(17,"img",12),u.qZA(),u.TgZ(18,"p"),u._uU(19),u.ALo(20,"translate"),u.qZA()()()()(),u.TgZ(21,"div",13)(22,"div",14)(23,"div",15)(24,"div",10)(25,"div",16),u._UZ(26,"img",17),u.qZA(),u.TgZ(27,"p"),u._uU(28),u.ALo(29,"translate"),u.qZA()()()(),u.TgZ(30,"div",18)(31,"p"),u._uU(32),u.ALo(33,"translate"),u.qZA()()(),u.TgZ(34,"div",19)(35,"div",7)(36,"p"),u._uU(37),u.ALo(38,"translate"),u.qZA()(),u.TgZ(39,"div",8)(40,"div",9)(41,"div",10)(42,"div",20),u._UZ(43,"img",21),u.qZA(),u.TgZ(44,"p"),u._uU(45),u.ALo(46,"translate"),u.qZA()()()()(),u.TgZ(47,"div",19)(48,"div",22)(49,"p"),u._uU(50),u.ALo(51,"translate"),u.qZA()()(),u.TgZ(52,"div",19)(53,"div",23)(54,"div",24)(55,"div",10)(56,"div",25),u._UZ(57,"img",26),u.qZA(),u.TgZ(58,"p",27),u._uU(59),u.ALo(60,"translate"),u.qZA(),u.TgZ(61,"div",28),u._UZ(62,"img",29),u.qZA()()()()(),u.TgZ(63,"div",30)(64,"div",31)(65,"div",24)(66,"div",10)(67,"div",25),u._UZ(68,"img",32),u.qZA(),u.TgZ(69,"p",33),u._uU(70),u.ALo(71,"translate"),u.qZA(),u.TgZ(72,"div",28),u._UZ(73,"img",34),u.qZA()()()()(),u.TgZ(74,"div",19)(75,"div",23)(76,"div",24)(77,"div",10)(78,"div",25),u._UZ(79,"img",35),u.qZA(),u.TgZ(80,"p",27),u._uU(81),u.ALo(82,"translate"),u.qZA(),u.TgZ(83,"div",28),u._UZ(84,"img",36),u.qZA()()()()()(),u.TgZ(85,"div",37)(86,"div",38),u._UZ(87,"img",39),u.TgZ(88,"h1",40),u._uU(89),u.ALo(90,"translate"),u.qZA()()(),u.TgZ(91,"div",41)(92,"div",42),u._UZ(93,"img",43),u.qZA(),u.TgZ(94,"a",44),u.NdJ("click",function(){return We.goToCourses()}),u._UZ(95,"span")(96,"span")(97,"span")(98,"span"),u._uU(99),u.ALo(100,"translate"),u._UZ(101,"i",45),u.qZA(),u.TgZ(102,"div",46),u._UZ(103,"img",47),u.qZA()()()),2&Le&&(u.xp6(11),u.hij(" ",u.lcZ(12,12,"welcome.messageOneLeft"),""),u.xp6(8),u.hij(" ",u.lcZ(20,14,"welcome.messageOneRight"),""),u.xp6(9),u.hij(" ",u.lcZ(29,16,"welcome.messageTwoLeft")," "),u.xp6(4),u.hij(" ",u.lcZ(33,18,"welcome.messageTwoRight"),""),u.xp6(5),u.hij(" ",u.lcZ(38,20,"welcome.messageThreeLeft"),""),u.xp6(8),u.hij(" ",u.lcZ(46,22,"welcome.messageThreeRight")," "),u.xp6(5),u.hij(" ",u.lcZ(51,24,"welcome.messageFour"),""),u.xp6(9),u.hij(" ",u.lcZ(60,26,"welcome.messageFive"),""),u.xp6(11),u.hij(" ",u.lcZ(71,28,"welcome.messageSix"),""),u.xp6(11),u.hij("",u.lcZ(82,30,"welcome.messageSeven")," "),u.xp6(8),u.Oqu(u.lcZ(90,32,"welcome.title")),u.xp6(10),u.hij(" ",u.lcZ(100,34,"welcome.linkStart")," "))},dependencies:[K.X$],styles:['.wrapper{position:relative;perspective:40em;display:grid;transform-style:preserve-3d}.card{grid-area:1/1;height:200px;width:400px;transform:translate(10px) rotateY(25deg) rotateX(10deg);background:rgba(249,198,26,.88);display:flex;justify-content:flex-start;align-items:center;padding:30px;color:#000;text-transform:uppercase;font-size:30px;font-weight:900;-webkit-backface-visibility:hidden;backface-visibility:hidden;box-shadow:0 10px 30px -3px #0000001a}h1{font-size:30px;font-weight:900}.card .enclosed{background:#000;line-height:1;color:#f9c61a;padding:0 5px;display:inline-block;transform:translate(-1px,1px) scale(.75);transform-origin:right center}.wrapper:before{--bw: 9px;grid-area:1/1;content:"";-webkit-backface-visibility:hidden;backface-visibility:hidden;height:100%;width:100%;margin-top:calc(-1 * var(--bw));margin-left:calc(-1 * var(--bw));background:transparent;transform:translate(-60px) rotateY(-30deg) rotateX(15deg) scale(1.03);pointer-events:none;border:var(--bw) solid rgb(255,3,3);box-sizing:content-box}.wrapper>div,.wrapper:before{will-change:transform;transition:.3s transform cubic-bezier(.25,.46,.45,1)}.welcomeContent{margin-top:130px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.pippo{font-size:200px}.imagePanic{width:250px;height:250px;margin-top:-54px;margin-left:-148px}.astro{width:250px;height:250px;margin-top:60px;margin-bottom:0;filter:drop-shadow(5px 2px 2px rgba(247,231,179,.1647058824)) contrast(187%) saturate(300%);animation:slideUp 4s ease-in-out infinite}.contentAstronautsRocket{margin:none;padding:none;z-index:-1000}.contentAstronautsRocket .astro{margin-top:-270px;margin-left:-40%;width:550px;height:550px;animation:slideUpAndDown 4s ease-in-out infinite}.contentAstronauts{align-self:flex-end;margin-right:70px;margin-bottom:-200px}.contentLogoPollice{position:absolute;z-index:-1}.contentPanicWord{position:relative;z-index:10;color:#000!important;text-align:center}.contentPanicWord .astroCart{width:250px;height:250px;margin-bottom:-90px;margin-right:40%}.welcomeMessage{font-size:200px!important;color:#fff;text-align:center}.contentLink{margin-bottom:-120px;margin-left:500px}.canvasContainer{margin-top:150px}.linkStart{z-index:1;font-size:45px;position:relative;display:inline-block;padding:30px 107px;border-radius:4px;color:var(--text-color-body);text-decoration:none;text-transform:uppercase;overflow:hidden;margin:25px;border:2px solid transparent;transition:all .1s linear}.linkStart span{position:absolute;display:block}.linkStart span:nth-child(1){top:0;left:0;width:100%;height:3px;background:linear-gradient(90deg,transparent,#35e986);animation:animate1 3s linear infinite}@keyframes animate1{0%{left:-100%}50%,to{left:100%}}.linkStart span:nth-child(2){top:-100%;right:0;width:3px;height:100%;background:linear-gradient(180deg,transparent,#35e986);animation:animate2 3s linear infinite;animation-delay:.75s}@keyframes animate2{0%{top:-100%}50%,to{top:100%}}.linkStart span:nth-child(3){bottom:0;right:0;width:100%;background:linear-gradient(270deg,transparent,#35e986);animation:animate3 3s linear infinite;animation-delay:1.5s}@keyframes animate3{0%{right:-100%;height:3px}50%,to{height:2px;right:100%}}.linkStart span:nth-child(4){bottom:-100%;left:0;width:3px;height:100%;background:linear-gradient(360deg,transparent,#35e986);animation:animate4 3s linear infinite;animation-delay:2.25s}@keyframes animate4{0%{bottom:-100%}50%,to{bottom:100%}}.linkStart:before{content:"";display:block;position:absolute;background:rgba(255,255,255,.5);width:60px;height:100%;top:0;left:-40px;filter:blur(30px);transform:translate(-100px) skew(-15deg)}.linkStart:after{content:"";display:block;position:absolute;background:rgba(255,255,255,.2);width:30px;height:100%;top:0;left:-40px;filter:blur(5px);transform:translate(-100px) skew(-15deg)}.linkStart:hover:before,.linkStart:hover:after{transform:translate(500px) skew(-15deg);transition:.9s}.linkStart:hover i{animation:slideRight 2s ease-in-out infinite}.contentImage{shape-outside:circle();position:relative;float:left;z-index:100;width:105px;height:105px;background:white;border-radius:50px;margin-top:-72px;margin-left:-30px;box-shadow:5px 5px 15px 5px #000;padding-top:3px;background-color:var(--background-color-ContentTutorial)}.imgCard{width:99px;height:99px}.contentImageSecond{margin-top:65px;margin-left:-62px}.imageContentThird{margin-top:-10%}.textModify{margin-top:43px;padding-right:35px}.textModifyAlt{margin-top:43px;padding-right:40px}.contentImageBottom{margin-left:92%;margin-top:-55px}.adjustTop{margin-top:-45px}.adjustBottom{margin-top:-47px}.imgZen{margin-left:5px;width:95px;height:95px}.imgMuscle{width:115px;margin-right:5px}.contentPresentationGlobal{display:flex;flex-wrap:wrap}.contentSchedes{flex:100%;display:flex;justify-content:center}.presentationSchedes{min-height:200px;width:500px;margin-bottom:70px;font-size:40px;text-align:center;display:flex;align-items:center;justify-content:center}.firstSchedes{margin-top:150px}.lastSchedes{width:80%!important;margin-left:10%}.withBody{background-color:var(--background-color-ContentTutorial);border:1px solid var(--navbar-color);color:var(--text-color);border-radius:30px;box-shadow:2px 2px var(--boxshadow-view) -5px #f7e7b3}.withOutBody{color:#fff;text-shadow:1px 1px 3px #fffbed}.left{margin-right:30px}.right{margin-left:30px}.containerArrow{position:absolute;bottom:100px;right:0;left:0;margin-left:auto;margin-right:auto;width:0px;padding-right:33px}.arrow{position:absolute;width:2.1rem;height:.48rem;opacity:0;transform:scale(.3);animation:move-arrow 3s ease-out infinite}.arrow:first-child{animation:move-arrow 3s ease-out 1s infinite}.arrow:nth-child(2){animation:move-arrow 3s ease-out 2s infinite}.arrow:before,.arrow:after{content:"";position:absolute;top:0;height:100%;width:50%;background:#b6d5f5}.arrow:before{left:0;transform:skewY(30deg)}.arrow:after{right:0;width:50%;transform:skewY(-30deg)}@keyframes move-arrow{25%{opacity:1}33.3%{opacity:1;transform:translateY(2.28rem)}66.6%{opacity:1;transform:translateY(3.12rem)}to{opacity:0;transform:translateY(4.8rem) scale(.5)}}@keyframes slideRight{0%,to{transform:translate(0)}50%{transform:translate(15px)}}@keyframes slideUp{0%,to{transform:translateY(15px)}50%{transform:translateY(-10px)}}@keyframes slideUpAndDown{0%,to{transform:translate(-5px,15px)}50%{transform:translate(10px,-10px)}}@media screen and (max-height: 700px){.firstSchedes{margin-top:-90px}.contentAstronauts{margin-right:-40px}}@media screen and (max-width: 1024px){.reversed{flex-direction:column-reverse;align-items:center}.contentSchedes{flex:100%;flex-wrap:wrap}.left{margin-right:0}.right{margin-left:0}}@media screen and (max-width: 768px){.firstSchedes .contentImage{margin-left:-20px;margin-top:-101px}.contentImageSecond{margin-top:-80px;margin-left:-26px}.imageContentThird{margin-top:-72px}.contentSchedes p{font-size:4vw}.contentImageBottom{margin-left:78%;margin-top:-36px}.adjustBottom{margin-top:-12px!important;margin-left:85%!important}.contentPanicWord .astroCart{margin-bottom:-78px}.welcomeMessage{font-size:150px!important}.contentAstronautsRocket .astro{margin-left:20%}.linkStart{font-size:35px!important}.contentLink{margin-left:0}.imagePanic{width:80px;height:80px;margin-top:-15px;margin-left:5px}}@media screen and (max-width: 480px){.contentImage{width:80px;height:80px}.imgCard{width:74px;height:74px}.imageContentFourth{margin-top:-48px}.adjustBottom{margin-top:135px}.contentSchedes p{font-size:9vw}.textModify,.textModifyAlt{padding-right:0!important}.contentPanicWord .astroCart{width:200px;height:200px;margin-bottom:-58px}.welcomeMessage{font-size:98px!important}.contentAstronautsRocket .astro{width:400px;height:400px;margin-top:-250px;margin-left:30%}.linkStart{font-size:25px!important}.linkStart i{font-size:20px!important}.presentationSchedes{min-height:200px;width:350px;margin-bottom:70px;font-size:25px;text-align:center;padding-top:15px}}\n'],encapsulation:2}),Ne})()}];let ae=(()=>{class Ne{}return Ne.\u0275fac=function(Le){return new(Le||Ne)},Ne.\u0275mod=u.oAB({type:Ne}),Ne.\u0275inj=u.cJS({imports:[f.Bz.forChild(Z),f.Bz]}),Ne})();var X=k(7908),ne=k(529),ue=k(7123);let he=(()=>{class Ne{constructor(Le){this.platformId=Le,(0,$.NF)(this.platformId)&&ue.init({offset:350})}}return Ne.\u0275fac=function(Le){return new(Le||Ne)(u.LFG(u.Lbi))},Ne.\u0275mod=u.oAB({type:Ne}),Ne.\u0275inj=u.cJS({imports:[$.ez,ae,K.aw.forRoot({loader:{provide:K.Zw,useFactory:X.s,deps:[ne.eN]}})]}),Ne})()},4629:(Vt,Be,k)=>{"use strict";k.d(Be,{h:()=>q});var u=k(7579),$=k(4650),f=k(529),ye=k(3451),K=k(7350);let q=(()=>{class Z{constructor(X,ne,ue){this.httpConnection=X,this.configService=ne,this.configLanguageService=ue,this.actionFromHeaderChangeLanguare=new u.x,this.actionFromHeaderChangeLanguareChanged$=this.actionFromHeaderChangeLanguare?.asObservable(),this.actionFromTutorialBodyContent=new u.x,this.actionFromTutorialBodyContentAboutSubChapter=new u.x,this.actionFromTutorialBodyContentChanged$=this.actionFromTutorialBodyContent?.asObservable(),this.actionFromTutorialBodyContentAboutSubChapterChanged$=this.actionFromTutorialBodyContentAboutSubChapter?.asObservable(),this.actionFromTutorialBodyNextContent=new u.x,this.actionFromTutorialBodyPreviousContent=new u.x,this.actionFromTutorialBodyNextContentChanged$=this.actionFromTutorialBodyNextContent?.asObservable(),this.actionFromTutorialBodyPreviousContentChanged$=this.actionFromTutorialBodyPreviousContent?.asObservable(),this.idChapter=new u.x,this.idSubChapter=new u.x,this.idChapterChanged$=this.idChapter?.asObservable(),this.idChapterSubChanged$=this.idSubChapter?.asObservable(),this.youtubeVideo=new u.x,this.youtubeVideoChanged$=this.youtubeVideo?.asObservable(),console.log("costruttore service tutorial"),this.language=ue.getBrowserLanguage(),this.configLanguageService.actionForceChangeLanguage$?.subscribe(he=>{console.log("nel subscribe del language"),this.changeLanguage(he)})}notifyChangeFromTutorialBodyContent(X){this.actionFromTutorialBodyContent?.next(X)}notifyChangeFromTutorialBodyContentAboutSubChapter(X){console.log("NEL SERVICE PER LA NOTIFICATION"),this.actionFromTutorialBodyContentAboutSubChapter?.next(X)}getChapters(X,ne){let ue=this.configService.getIpServer();return this.httpConnection.get(ue+"tutorial/chapters/langcode/"+X+"/lang/"+this.configLanguageService.getBrowserLanguage())}getPageByChapter(X,ne){let ue=this.configService.getIpServer();return console.log("chapter id is: "+X),this.httpConnection.get(ue+"tutorial/page/course/"+ne+"/chapter/"+X+"/lang/"+this.configLanguageService.getBrowserLanguage())}getPageBySubChapter(X,ne){let ue=X.substring(0,X.indexOf(".")),he=X.substring(X.indexOf(".")+1,X.length),Ne=this.configService.getIpServer();return console.log("chapter id is: "+ue),console.log("subChapter id is: "+he),console.log("ip id is: "+Ne),console.log("language id is: "+this.language),this.httpConnection.get(Ne+"tutorial/page/course/"+ne+"/chapter/"+ue+"/subchapter/"+he+"/lang/"+this.configLanguageService.getBrowserLanguage())}getCourses(){let X=this.configService.getIpServer();return console.log("PRENDO TUTTI I CORSI"),this.httpConnection.get(X+"tutorial/page/courses")}changeIdChapter(X){this.idChapter?.next(X)}changeIdSubChapter(X){this.idSubChapter?.next(X)}nextChapter(X){console.log("service"),this.actionFromTutorialBodyNextContent?.next(X)}previousChapter(X){console.log("service"),this.actionFromTutorialBodyPreviousContent?.next(X)}youTubeVideoChanged(X){this.youtubeVideo?.next(X)}changeLanguage(X){console.log("service"),this.language=X,this.actionFromHeaderChangeLanguare?.next(X)}changeSilentLanguageONLYSSRBUILD(X){console.log("service"),this.language=X}}return Z.\u0275fac=function(X){return new(X||Z)($.LFG(f.eN),$.LFG(ye.g),$.LFG(K.t))},Z.\u0275prov=$.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},7887:(Vt,Be,k)=>{"use strict";k.d(Be,{i:()=>q});var u=k(5861),$=(()=>{return(Z=$||($={})).CODE="code",Z.FUNDAMENTALS="fundamentals",$;var Z})(),f=k(4650),ye=k(3451),K=k(9383);let q=(()=>{class Z{constructor(X,ne){this.configService=X,this.translate=ne}getUrlPath(X){return X.substring(X.indexOf(this.getTargetPrefixUrl(X)),X.length)}getChapterFromUrlPath(X){let ne=X,ue=ne.substring(ne.indexOf("chapter/"),ne.length).replace("chapter/","").replace("/","\xa3");return console.log("subString of url for the chapte getChapterFromUrlPath: "+ue.substring(0,ue.indexOf("\xa3"))),ue.substring(0,ue.indexOf("\xa3"))}getSubChapterFromUrlPath(X){let ne=X,ue=ne.substring(ne.indexOf("subchapter/"),ne.length).replace("subchapter/","").replace("/","\xa3");return console.log("subString of url for the chapte getSubChapterFromUrlPath: "+ue.substring(0,ue.indexOf("\xa3"))),ue.substring(0,ue.indexOf("\xa3"))}getCourseFromUrl(X){let ne="",ue=this.getTargetPrefixUrl(X);console.log("subString of url for the chapte getCourseFromUrl: "+X);let he=X;return console.log("subString of url for the chapte getCourseFromUrl: "+he.substring(he.indexOf(ue+"/"),he.length)),ne=he.substring(he.indexOf(ue+"/"),he.length).replace(ue+"/","").replace("/","\xa3"),console.log("subString of url for the chapte getCourseFromUrl: "+ne),console.log("subString of url for the chapte getCourseFromUrl: "+ne.substring(0,ne.indexOf("\xa3"))),ne.includes("\xa3")?ne.substring(0,ne.indexOf("\xa3")):ne.substring(0,ne.length)}getTargetPrefixUrl(X){return X.includes($.CODE)?$.CODE:X.includes($.FUNDAMENTALS)?$.FUNDAMENTALS:"unknown"}getTranslateCourseFromUrl(X){var ne=this;return(0,u.Z)(function*(){let he="";switch(ne.getCourseFromUrl(X)){case"Java-base":case"Basic-Java":he="javaBasic";break;case"Java-avanzato":case"Advanced-Java":he="javaAdvanced";break;case"Programmazione-orientata-agli-oggetti":case"Object-oriented-programming":he="oop"}return(yield ne.getTranslateLabel(he)).replace(/\s/g,"-")})()}getTranslateLabel(X){var ne=this;return(0,u.Z)(function*(){let ue="";return yield ne.translate.get("header.menu."+X).forEach(he=>{console.log("tradotto: "+he),ue=he}),ue})()}}return Z.\u0275fac=function(X){return new(X||Z)(f.LFG(ye.g),f.LFG(K.sK))},Z.\u0275prov=f.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},6892:(Vt,Be,k)=>{"use strict";k.r(Be),k.d(Be,{TutorialContentModule:()=>ll});var u=k(6895),$=k(2569),f=k(4650),ye=k(5861);class K{constructor(){this.type="url"}}class q{}var Z=k(4629),ae=k(5657),X=k(1481),ne=k(7887),ue=k(7350),he=k(8249),Ne=k(805),Fe=k(982),Le=k(9592),We=k(1795);const He=function(N){return{"p-treenode-droppoint-active":N}};function Me(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"li",4),f.NdJ("drop",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPoint(G,-1))})("dragover",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPointDragOver(G))})("dragenter",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPointDragEnter(G,-1))})("dragleave",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPointDragLeave(G))}),f.qZA()}if(2&N){const A=f.oxw(2);f.Q6J("ngClass",f.VKq(1,He,A.draghoverPrev))}}const mt=function(N){return{"p-checkbox-disabled":N}},nn=function(N,ce){return{"p-highlight":N,"p-indeterminate":ce}},qe=function(N,ce){return{"pi-check":N,"pi-minus":ce}};function ie(N,ce){if(1&N&&(f.TgZ(0,"div",13)(1,"div",14),f._UZ(2,"span",15),f.qZA()()),2&N){const A=f.oxw(3);f.Q6J("ngClass",f.VKq(4,mt,!1===A.node.selectable)),f.uIk("aria-checked",A.isSelected()),f.xp6(1),f.Q6J("ngClass",f.WLB(6,nn,A.isSelected(),A.node.partialSelected)),f.xp6(1),f.Q6J("ngClass",f.WLB(9,qe,A.isSelected(),A.node.partialSelected))}}function je(N,ce){if(1&N&&f._UZ(0,"span"),2&N){const A=f.oxw(3);f.Tol(A.getIcon())}}function ve(N,ce){if(1&N&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&N){const A=f.oxw(3);f.xp6(1),f.Oqu(A.node.label)}}function _e(N,ce){1&N&&f.GkF(0)}const Xe=function(N){return{$implicit:N}};function be(N,ce){if(1&N&&(f.TgZ(0,"span"),f.YNc(1,_e,1,0,"ng-container",16),f.qZA()),2&N){const A=f.oxw(3);f.xp6(1),f.Q6J("ngTemplateOutlet",A.tree.getTemplateForNode(A.node))("ngTemplateOutletContext",f.VKq(2,Xe,A.node))}}function ze(N,ce){if(1&N&&f._UZ(0,"p-treeNode",19),2&N){const A=ce.$implicit,T=ce.first,G=ce.last,oe=ce.index,rt=f.oxw(4);f.Udp("height",rt.tree.virtualNodeHeight,"px"),f.Q6J("node",A)("parentNode",rt.node)("firstChild",T)("lastChild",G)("index",oe)("level",rt.level+1)}}function $e(N,ce){if(1&N&&(f.TgZ(0,"ul",17),f.YNc(1,ze,1,8,"p-treeNode",18),f.qZA()),2&N){const A=f.oxw(3);f.Udp("display",A.node.expanded?"block":"none"),f.xp6(1),f.Q6J("ngForOf",A.node.children)("ngForTrackBy",A.tree.trackBy)}}const lt=function(N,ce){return["p-treenode",N,ce]},st=function(N,ce,A){return{"p-treenode-selectable":N,"p-treenode-dragover":ce,"p-highlight":A}},bt=function(N,ce){return{"pi-chevron-right":N,"pi-chevron-down":ce}};function ot(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"li",5)(1,"div",6),f.NdJ("click",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onNodeClick(G))})("contextmenu",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onNodeRightClick(G))})("touchend",function(){f.CHM(A);const G=f.oxw(2);return f.KtG(G.onNodeTouchEnd())})("drop",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropNode(G))})("dragover",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropNodeDragOver(G))})("dragenter",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropNodeDragEnter(G))})("dragleave",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropNodeDragLeave(G))})("dragstart",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDragStart(G))})("dragend",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDragStop(G))})("keydown",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onKeyDown(G))}),f.TgZ(2,"button",7),f.NdJ("click",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.toggle(G))}),f._UZ(3,"span",8),f.qZA(),f.YNc(4,ie,3,12,"div",9),f.YNc(5,je,1,2,"span",3),f.TgZ(6,"span",10),f.YNc(7,ve,2,1,"span",11),f.YNc(8,be,2,4,"span",11),f.qZA()(),f.YNc(9,$e,2,4,"ul",12),f.qZA()}if(2&N){const A=f.oxw(2);f.Q6J("ngClass",f.WLB(17,lt,A.node.styleClass||"",A.isLeaf()?"p-treenode-leaf":"")),f.xp6(1),f.Udp("padding-left",A.level*A.indentation+"rem"),f.Q6J("draggable",A.tree.draggableNodes)("ngClass",f.kEZ(20,st,A.tree.selectionMode&&!1!==A.node.selectable,A.draghoverNode,A.isSelected())),f.uIk("tabindex",0)("aria-posinset",A.index+1)("aria-expanded",A.node.expanded)("aria-selected",A.isSelected())("aria-label",A.node.label),f.xp6(1),f.uIk("aria-label",A.tree.togglerAriaLabel),f.xp6(1),f.Q6J("ngClass",f.WLB(24,bt,!A.node.expanded,A.node.expanded)),f.xp6(1),f.Q6J("ngIf","checkbox"==A.tree.selectionMode),f.xp6(1),f.Q6J("ngIf",A.node.icon||A.node.expandedIcon||A.node.collapsedIcon),f.xp6(2),f.Q6J("ngIf",!A.tree.getTemplateForNode(A.node)),f.xp6(1),f.Q6J("ngIf",A.tree.getTemplateForNode(A.node)),f.xp6(1),f.Q6J("ngIf",!A.tree.virtualScroll&&A.node.children&&A.node.expanded)}}function Bt(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"li",4),f.NdJ("drop",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPoint(G,1))})("dragover",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPointDragOver(G))})("dragenter",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPointDragEnter(G,1))})("dragleave",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onDropPointDragLeave(G))}),f.qZA()}if(2&N){const A=f.oxw(2);f.Q6J("ngClass",f.VKq(1,He,A.draghoverNext))}}const Se=function(N){return{"p-treenode-connector-line":N}};function Ge(N,ce){if(1&N&&(f.TgZ(0,"td",25)(1,"table",26)(2,"tbody")(3,"tr"),f._UZ(4,"td",5),f.qZA(),f.TgZ(5,"tr"),f._UZ(6,"td",5),f.qZA()()()()),2&N){const A=f.oxw(3);f.xp6(4),f.Q6J("ngClass",f.VKq(2,Se,!A.firstChild)),f.xp6(2),f.Q6J("ngClass",f.VKq(4,Se,!A.lastChild))}}const ft=function(N,ce){return{"pi-plus":N,"pi-minus":ce}};function Jt(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"span",27),f.NdJ("click",function(G){f.CHM(A);const oe=f.oxw(3);return f.KtG(oe.toggle(G))}),f.qZA()}if(2&N){const A=f.oxw(3);f.Q6J("ngClass",f.WLB(2,ft,!A.node.expanded,A.node.expanded)),f.uIk("aria-label",A.tree.togglerAriaLabel)}}function rn(N,ce){if(1&N&&f._UZ(0,"span"),2&N){const A=f.oxw(3);f.Tol(A.getIcon())}}function Dn(N,ce){if(1&N&&(f.TgZ(0,"span"),f._uU(1),f.qZA()),2&N){const A=f.oxw(3);f.xp6(1),f.Oqu(A.node.label)}}function un(N,ce){1&N&&f.GkF(0)}function Gn(N,ce){if(1&N&&(f.TgZ(0,"span"),f.YNc(1,un,1,0,"ng-container",16),f.qZA()),2&N){const A=f.oxw(3);f.xp6(1),f.Q6J("ngTemplateOutlet",A.tree.getTemplateForNode(A.node))("ngTemplateOutletContext",f.VKq(2,Xe,A.node))}}function Vn(N,ce){if(1&N&&f._UZ(0,"p-treeNode",31),2&N){const T=ce.first,G=ce.last;f.Q6J("node",ce.$implicit)("firstChild",T)("lastChild",G)}}function dn(N,ce){if(1&N&&(f.TgZ(0,"td",28)(1,"div",29),f.YNc(2,Vn,1,3,"p-treeNode",30),f.qZA()()),2&N){const A=f.oxw(3);f.Udp("display",A.node.expanded?"table-cell":"none"),f.xp6(2),f.Q6J("ngForOf",A.node.children)("ngForTrackBy",A.tree.trackBy)}}const Ri=function(N){return{"p-treenode-collapsed":N}},Xn=function(N,ce){return{"p-treenode-selectable":N,"p-highlight":ce}};function Rn(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"table")(1,"tbody")(2,"tr"),f.YNc(3,Ge,7,6,"td",20),f.TgZ(4,"td",21)(5,"div",22),f.NdJ("click",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onNodeClick(G))})("contextmenu",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onNodeRightClick(G))})("touchend",function(){f.CHM(A);const G=f.oxw(2);return f.KtG(G.onNodeTouchEnd())})("keydown",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe.onNodeKeydown(G))}),f.YNc(6,Jt,1,5,"span",23),f.YNc(7,rn,1,2,"span",3),f.TgZ(8,"span",10),f.YNc(9,Dn,2,1,"span",11),f.YNc(10,Gn,2,4,"span",11),f.qZA()()(),f.YNc(11,dn,3,4,"td",24),f.qZA()()()}if(2&N){const A=f.oxw(2);f.Tol(A.node.styleClass),f.xp6(3),f.Q6J("ngIf",!A.root),f.xp6(1),f.Q6J("ngClass",f.VKq(10,Ri,!A.node.expanded)),f.xp6(1),f.Q6J("ngClass",f.WLB(12,Xn,A.tree.selectionMode,A.isSelected())),f.xp6(1),f.Q6J("ngIf",!A.isLeaf()),f.xp6(1),f.Q6J("ngIf",A.node.icon||A.node.expandedIcon||A.node.collapsedIcon),f.xp6(2),f.Q6J("ngIf",!A.tree.getTemplateForNode(A.node)),f.xp6(1),f.Q6J("ngIf",A.tree.getTemplateForNode(A.node)),f.xp6(1),f.Q6J("ngIf",A.node.children&&A.node.expanded)}}function Ei(N,ce){if(1&N&&(f.YNc(0,Me,1,3,"li",1),f.YNc(1,ot,10,27,"li",2),f.YNc(2,Bt,1,3,"li",1),f.YNc(3,Rn,12,15,"table",3)),2&N){const A=f.oxw();f.Q6J("ngIf",A.tree.droppableNodes),f.xp6(1),f.Q6J("ngIf",!A.tree.horizontal),f.xp6(1),f.Q6J("ngIf",A.tree.droppableNodes&&A.lastChild),f.xp6(1),f.Q6J("ngIf",A.tree.horizontal)}}const Yi=["filter"];function _i(N,ce){if(1&N&&(f.TgZ(0,"div",9),f._UZ(1,"i"),f.qZA()),2&N){const A=f.oxw(2);f.xp6(1),f.Tol("p-tree-loading-icon pi-spin "+A.loadingIcon)}}function Fr(N,ce){1&N&&f.GkF(0)}function es(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"div",10)(1,"input",11,12),f.NdJ("keydown.enter",function(G){return G.preventDefault()})("input",function(G){f.CHM(A);const oe=f.oxw(2);return f.KtG(oe._filter(G.target.value))}),f.qZA(),f._UZ(3,"span",13),f.qZA()}if(2&N){const A=f.oxw(2);f.xp6(1),f.uIk("placeholder",A.filterPlaceholder)}}function $r(N,ce){if(1&N&&f._UZ(0,"p-treeNode",18),2&N){const T=ce.first,G=ce.last,oe=ce.index;f.Q6J("node",ce.$implicit)("firstChild",T)("lastChild",G)("index",oe)("level",0)}}function sn(N,ce){if(1&N&&(f.TgZ(0,"ul",16),f.YNc(1,$r,1,5,"p-treeNode",17),f.qZA()),2&N){const A=f.oxw(3);f.uIk("aria-label",A.ariaLabel)("aria-labelledby",A.ariaLabelledBy),f.xp6(1),f.Q6J("ngForOf",A.getRootNode())("ngForTrackBy",A.trackBy)}}function pi(N,ce){if(1&N&&(f.ynx(0),f.TgZ(1,"div",14),f.YNc(2,sn,2,4,"ul",15),f.qZA(),f.BQk()),2&N){const A=f.oxw(2);f.xp6(1),f.Udp("max-height",A.scrollHeight),f.xp6(1),f.Q6J("ngIf",A.getRootNode())}}function wr(N,ce){if(1&N&&f._UZ(0,"p-treeNode",21),2&N){const A=ce.$implicit,T=ce.first,G=ce.last,oe=ce.index,rt=f.oxw(4);f.Udp("height",rt.virtualNodeHeight,"px"),f.Q6J("level",A.level)("rowNode",A)("node",A.node)("firstChild",T)("lastChild",G)("index",oe)("indentation",rt.indentation)}}function mi(N,ce){if(1&N&&(f.TgZ(0,"ul",16),f.YNc(1,wr,1,9,"p-treeNode",20),f.qZA()),2&N){const A=f.oxw(3);f.uIk("aria-label",A.ariaLabel)("aria-labelledby",A.ariaLabelledBy),f.xp6(1),f.Q6J("cdkVirtualForOf",A.serializedValue)("cdkVirtualForTrackBy",A.trackBy)("cdkVirtualForTemplateCacheSize",0)}}function Zr(N,ce){if(1&N&&(f.TgZ(0,"cdk-virtual-scroll-viewport",19),f.YNc(1,mi,2,5,"ul",15),f.qZA()),2&N){const A=f.oxw(2);f.Udp("height",A.scrollHeight),f.Q6J("itemSize",A.virtualNodeHeight)("minBufferPx",A.minBufferPx)("maxBufferPx",A.maxBufferPx),f.xp6(1),f.Q6J("ngIf",A.getRootNode())}}function ho(N,ce){if(1&N&&(f.ynx(0),f._uU(1),f.BQk()),2&N){const A=f.oxw(3);f.xp6(1),f.hij(" ",A.emptyMessageLabel," ")}}function nr(N,ce){1&N&&f.GkF(0,null,23)}function pt(N,ce){if(1&N&&(f.TgZ(0,"div",22),f.YNc(1,ho,2,1,"ng-container",6),f.YNc(2,nr,2,0,"ng-container",4),f.qZA()),2&N){const A=f.oxw(2);f.xp6(1),f.Q6J("ngIf",!A.emptyMessageTemplate)("ngIfElse",A.emptyFilter),f.xp6(1),f.Q6J("ngTemplateOutlet",A.emptyMessageTemplate)}}function Oe(N,ce){1&N&&f.GkF(0)}const we=function(N,ce,A,T){return{"p-tree p-component":!0,"p-tree-selectable":N,"p-treenode-dragover":ce,"p-tree-loading":A,"p-tree-flex-scrollable":T}};function ct(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"div",2),f.NdJ("drop",function(G){f.CHM(A);const oe=f.oxw();return f.KtG(oe.onDrop(G))})("dragover",function(G){f.CHM(A);const oe=f.oxw();return f.KtG(oe.onDragOver(G))})("dragenter",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.onDragEnter())})("dragleave",function(G){f.CHM(A);const oe=f.oxw();return f.KtG(oe.onDragLeave(G))}),f.YNc(1,_i,2,2,"div",3),f.YNc(2,Fr,1,0,"ng-container",4),f.YNc(3,es,4,1,"div",5),f.YNc(4,pi,3,3,"ng-container",6),f.YNc(5,Zr,2,6,"ng-template",null,7,f.W1O),f.YNc(7,pt,3,3,"div",8),f.YNc(8,Oe,1,0,"ng-container",4),f.qZA()}if(2&N){const A=f.MAs(6),T=f.oxw();f.Tol(T.styleClass),f.Q6J("ngClass",f.l5B(11,we,T.selectionMode,T.dragHover,T.loading,"flex"===T.scrollHeight))("ngStyle",T.style),f.xp6(1),f.Q6J("ngIf",T.loading),f.xp6(1),f.Q6J("ngTemplateOutlet",T.headerTemplate),f.xp6(1),f.Q6J("ngIf",T.filter),f.xp6(1),f.Q6J("ngIf",!T.virtualScroll)("ngIfElse",A),f.xp6(3),f.Q6J("ngIf",!T.loading&&(null==T.getRootNode()||0===T.getRootNode().length)),f.xp6(1),f.Q6J("ngTemplateOutlet",T.footerTemplate)}}function Ct(N,ce){1&N&&f.GkF(0)}function Qt(N,ce){if(1&N&&(f.TgZ(0,"div",27),f._UZ(1,"i"),f.qZA()),2&N){const A=f.oxw(2);f.xp6(1),f.Tol("p-tree-loading-icon pi-spin "+A.loadingIcon)}}function An(N,ce){if(1&N&&(f.TgZ(0,"table"),f._UZ(1,"p-treeNode",28),f.qZA()),2&N){const A=f.oxw(2);f.xp6(1),f.Q6J("node",A.value[0])("root",!0)}}function kn(N,ce){if(1&N&&(f.ynx(0),f._uU(1),f.BQk()),2&N){const A=f.oxw(3);f.xp6(1),f.hij(" ",A.emptyMessageLabel," ")}}function xt(N,ce){1&N&&f.GkF(0,null,23)}function Ci(N,ce){if(1&N&&(f.TgZ(0,"div",22),f.YNc(1,kn,2,1,"ng-container",6),f.YNc(2,xt,2,0,"ng-container",4),f.qZA()),2&N){const A=f.oxw(2);f.xp6(1),f.Q6J("ngIf",!A.emptyMessageTemplate)("ngIfElse",A.emptyFilter),f.xp6(1),f.Q6J("ngTemplateOutlet",A.emptyMessageTemplate)}}function ei(N,ce){1&N&&f.GkF(0)}const ir=function(N){return{"p-tree p-tree-horizontal p-component":!0,"p-tree-selectable":N}};function Ln(N,ce){if(1&N&&(f.TgZ(0,"div",24),f.YNc(1,Ct,1,0,"ng-container",4),f.YNc(2,Qt,2,2,"div",25),f.YNc(3,An,2,2,"table",26),f.YNc(4,Ci,3,3,"div",8),f.YNc(5,ei,1,0,"ng-container",4),f.qZA()),2&N){const A=f.oxw();f.Tol(A.styleClass),f.Q6J("ngClass",f.VKq(9,ir,A.selectionMode))("ngStyle",A.style),f.xp6(1),f.Q6J("ngTemplateOutlet",A.headerTemplate),f.xp6(1),f.Q6J("ngIf",A.loading),f.xp6(1),f.Q6J("ngIf",A.value&&A.value[0]),f.xp6(1),f.Q6J("ngIf",!A.loading&&(null==A.getRootNode()||0===A.getRootNode().length)),f.xp6(1),f.Q6J("ngTemplateOutlet",A.footerTemplate)}}let Bn=(()=>{class N{constructor(A){this.tree=A}ngOnInit(){this.node.parent=this.parentNode,this.parentNode&&this.tree.syncNodeOption(this.node,this.tree.value,"parent",this.tree.getNodeWithKey(this.parentNode.key,this.tree.value))}getIcon(){let A;return A=this.node.icon?this.node.icon:this.node.expanded&&this.node.children&&this.node.children.length?this.node.expandedIcon:this.node.collapsedIcon,N.ICON_CLASS+" "+A}isLeaf(){return this.tree.isNodeLeaf(this.node)}toggle(A){this.node.expanded?this.collapse(A):this.expand(A)}expand(A){this.node.expanded=!0,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeExpand.emit({originalEvent:A,node:this.node})}collapse(A){this.node.expanded=!1,this.tree.virtualScroll&&this.tree.updateSerializedValue(),this.tree.onNodeCollapse.emit({originalEvent:A,node:this.node})}onNodeClick(A){this.tree.onNodeClick(A,this.node)}onNodeKeydown(A){13===A.which&&this.tree.onNodeClick(A,this.node)}onNodeTouchEnd(){this.tree.onNodeTouchEnd()}onNodeRightClick(A){this.tree.onNodeRightClick(A,this.node)}isSelected(){return this.tree.isSelected(this.node)}onDropPoint(A,T){A.preventDefault();let G=this.tree.dragNode,en=this.tree.dragNodeTree!==this.tree||1===T||this.tree.dragNodeIndex!==this.index-1;if(this.tree.allowDrop(G,this.node,this.tree.dragNodeScope)&&en){let Cn={...this.createDropPointEventMetadata(T)};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:A,dragNode:G,dropNode:this.node,index:this.index,accept:()=>{this.processPointDrop(Cn)}}):(this.processPointDrop(Cn),this.tree.onNodeDrop.emit({originalEvent:A,dragNode:G,dropNode:this.node,index:this.index}))}this.draghoverPrev=!1,this.draghoverNext=!1}processPointDrop(A){let T=A.dropNode.parent?A.dropNode.parent.children:this.tree.value;A.dragNodeSubNodes.splice(A.dragNodeIndex,1);let G=this.index;A.position<0?(G=A.dragNodeSubNodes===T?A.dragNodeIndex>A.index?A.index:A.index-1:A.index,T.splice(G,0,A.dragNode)):(G=T.length,T.push(A.dragNode)),this.tree.dragDropService.stopDrag({node:A.dragNode,subNodes:A.dropNode.parent?A.dropNode.parent.children:this.tree.value,index:A.dragNodeIndex})}createDropPointEventMetadata(A){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node,index:this.index,position:A}}onDropPointDragOver(A){A.dataTransfer.dropEffect="move",A.preventDefault()}onDropPointDragEnter(A,T){this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(T<0?this.draghoverPrev=!0:this.draghoverNext=!0)}onDropPointDragLeave(A){this.draghoverPrev=!1,this.draghoverNext=!1}onDragStart(A){this.tree.draggableNodes&&!1!==this.node.draggable?(A.dataTransfer.setData("text","data"),this.tree.dragDropService.startDrag({tree:this,node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index,scope:this.tree.draggableScope})):A.preventDefault()}onDragStop(A){this.tree.dragDropService.stopDrag({node:this.node,subNodes:this.node.parent?this.node.parent.children:this.tree.value,index:this.index})}onDropNodeDragOver(A){A.dataTransfer.dropEffect="move",this.tree.droppableNodes&&(A.preventDefault(),A.stopPropagation())}onDropNode(A){if(this.tree.droppableNodes&&!1!==this.node.droppable){let T=this.tree.dragNode;if(this.tree.allowDrop(T,this.node,this.tree.dragNodeScope)){let G={...this.createDropNodeEventMetadata()};this.tree.validateDrop?this.tree.onNodeDrop.emit({originalEvent:A,dragNode:T,dropNode:this.node,index:this.index,accept:()=>{this.processNodeDrop(G)}}):(this.processNodeDrop(G),this.tree.onNodeDrop.emit({originalEvent:A,dragNode:T,dropNode:this.node,index:this.index}))}}A.preventDefault(),A.stopPropagation(),this.draghoverNode=!1}createDropNodeEventMetadata(){return{dragNode:this.tree.dragNode,dragNodeIndex:this.tree.dragNodeIndex,dragNodeSubNodes:this.tree.dragNodeSubNodes,dropNode:this.node}}processNodeDrop(A){let T=A.dragNodeIndex;A.dragNodeSubNodes.splice(T,1),A.dropNode.children?A.dropNode.children.push(A.dragNode):A.dropNode.children=[A.dragNode],this.tree.dragDropService.stopDrag({node:A.dragNode,subNodes:A.dropNode.parent?A.dropNode.parent.children:this.tree.value,index:T})}onDropNodeDragEnter(A){this.tree.droppableNodes&&!1!==this.node.droppable&&this.tree.allowDrop(this.tree.dragNode,this.node,this.tree.dragNodeScope)&&(this.draghoverNode=!0)}onDropNodeDragLeave(A){if(this.tree.droppableNodes){let T=A.currentTarget.getBoundingClientRect();(A.x>T.left+T.width||A.x<T.left||A.y>=Math.floor(T.top+T.height)||A.y<T.top)&&(this.draghoverNode=!1)}}onKeyDown(A){const T=A.target.parentElement.parentElement;if(!("P-TREENODE"!==T.nodeName||this.tree.contextMenu&&"block"===this.tree.contextMenu.containerViewChild.nativeElement.style.display))switch(A.which){case 40:const G=this.tree.droppableNodes?T.children[1].children[1]:T.children[0].children[1];if(G&&G.children.length>0)this.focusNode(G.children[0]);else{const oe=T.nextElementSibling;if(oe)this.focusNode(oe);else{let rt=this.findNextSiblingOfAncestor(T);rt&&this.focusNode(rt)}}A.preventDefault();break;case 38:if(T.previousElementSibling)this.focusNode(this.findLastVisibleDescendant(T.previousElementSibling));else{let oe=this.getParentNodeElement(T);oe&&this.focusNode(oe)}A.preventDefault();break;case 39:!this.node.expanded&&!this.tree.isNodeLeaf(this.node)&&this.expand(A),A.preventDefault();break;case 37:if(this.node.expanded)this.collapse(A);else{let oe=this.getParentNodeElement(T);oe&&this.focusNode(oe)}A.preventDefault();break;case 13:this.tree.onNodeClick(A,this.node),A.preventDefault()}}findNextSiblingOfAncestor(A){let T=this.getParentNodeElement(A);return T?T.nextElementSibling?T.nextElementSibling:this.findNextSiblingOfAncestor(T):null}findLastVisibleDescendant(A){const G=Array.from(A.children).find(oe=>Le.p.hasClass(oe,"p-treenode")).children[1];return G&&G.children.length>0?this.findLastVisibleDescendant(G.children[G.children.length-1]):A}getParentNodeElement(A){const T=A.parentElement.parentElement.parentElement;return"P-TREENODE"===T.tagName?T:null}focusNode(A){this.tree.droppableNodes?A.children[1].children[0].focus():A.children[0].children[0].focus()}}return N.ICON_CLASS="p-treenode-icon ",N.\u0275fac=function(A){return new(A||N)(f.Y36((0,f.Gpc)(()=>$n)))},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-treeNode"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode",node:"node",parentNode:"parentNode",root:"root",index:"index",firstChild:"firstChild",lastChild:"lastChild",level:"level",indentation:"indentation"},decls:1,vars:1,consts:[[3,"ngIf"],["class","p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"class",4,"ngIf"],[1,"p-treenode-droppoint",3,"ngClass","drop","dragover","dragenter","dragleave"],[3,"ngClass"],["role","treeitem",1,"p-treenode-content",3,"draggable","ngClass","click","contextmenu","touchend","drop","dragover","dragenter","dragleave","dragstart","dragend","keydown"],["type","button","pRipple","","tabindex","-1",1,"p-tree-toggler","p-link",3,"click"],[1,"p-tree-toggler-icon","pi","pi-fw",3,"ngClass"],["class","p-checkbox p-component",3,"ngClass",4,"ngIf"],[1,"p-treenode-label"],[4,"ngIf"],["class","p-treenode-children","style","display: none;","role","group",3,"display",4,"ngIf"],[1,"p-checkbox","p-component",3,"ngClass"],[1,"p-checkbox-box",3,"ngClass"],[1,"p-checkbox-icon","pi",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","group",1,"p-treenode-children",2,"display","none"],[3,"node","parentNode","firstChild","lastChild","index","height","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","parentNode","firstChild","lastChild","index","level"],["class","p-treenode-connector",4,"ngIf"],[1,"p-treenode",3,"ngClass"],["tabindex","0",1,"p-treenode-content",3,"ngClass","click","contextmenu","touchend","keydown"],["class","p-tree-toggler pi pi-fw",3,"ngClass","click",4,"ngIf"],["class","p-treenode-children-container",3,"display",4,"ngIf"],[1,"p-treenode-connector"],[1,"p-treenode-connector-table"],[1,"p-tree-toggler","pi","pi-fw",3,"ngClass","click"],[1,"p-treenode-children-container"],[1,"p-treenode-children"],[3,"node","firstChild","lastChild",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild"]],template:function(A,T){1&A&&f.YNc(0,Ei,4,4,"ng-template",0),2&A&&f.Q6J("ngIf",T.node)},dependencies:[N,u.O5,u.mk,We.H,u.tP,u.sg],encapsulation:2}),N})(),$n=(()=>{class N{constructor(A,T,G){this.el=A,this.dragDropService=T,this.config=G,this.selectionChange=new f.vpe,this.onNodeSelect=new f.vpe,this.onNodeUnselect=new f.vpe,this.onNodeExpand=new f.vpe,this.onNodeCollapse=new f.vpe,this.onNodeContextMenuSelect=new f.vpe,this.onNodeDrop=new f.vpe,this.layout="vertical",this.metaKeySelection=!0,this.propagateSelectionUp=!0,this.propagateSelectionDown=!0,this.loadingIcon="pi pi-spinner",this.emptyMessage="",this.filterBy="label",this.filterMode="lenient",this.indentation=1.5,this.trackBy=(oe,rt)=>rt,this.onFilter=new f.vpe}ngOnInit(){this.droppableNodes&&(this.dragStartSubscription=this.dragDropService.dragStart$.subscribe(A=>{this.dragNodeTree=A.tree,this.dragNode=A.node,this.dragNodeSubNodes=A.subNodes,this.dragNodeIndex=A.index,this.dragNodeScope=A.scope}),this.dragStopSubscription=this.dragDropService.dragStop$.subscribe(A=>{this.dragNodeTree=null,this.dragNode=null,this.dragNodeSubNodes=null,this.dragNodeIndex=null,this.dragNodeScope=null,this.dragHover=!1}))}ngOnChanges(A){A.value&&this.updateSerializedValue(),A.scrollHeight&&this.virtualScrollBody&&this.virtualScrollBody.ngOnInit()}get horizontal(){return"horizontal"==this.layout}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Ne.ws.EMPTY_MESSAGE)}ngAfterContentInit(){this.templates.length&&(this.templateMap={}),this.templates.forEach(A=>{switch(A.getType()){case"header":this.headerTemplate=A.template;break;case"empty":this.emptyMessageTemplate=A.template;break;case"footer":this.footerTemplate=A.template;break;default:this.templateMap[A.name]=A.template}})}updateSerializedValue(){this.serializedValue=[],this.serializeNodes(null,this.getRootNode(),0,!0)}serializeNodes(A,T,G,oe){if(T&&T.length)for(let rt of T){rt.parent=A;const en={node:rt,parent:A,level:G,visible:oe&&(!A||A.expanded)};this.serializedValue.push(en),en.visible&&rt.expanded&&this.serializeNodes(rt,rt.children,G+1,en.visible)}}onNodeClick(A,T){let G=A.target;if(!Le.p.hasClass(G,"p-tree-toggler")&&!Le.p.hasClass(G,"p-tree-toggler-icon")){if(this.selectionMode){if(!1===T.selectable||this.hasFilteredNodes()&&!(T=this.getNodeWithKey(T.key,this.value)))return;let oe=this.findIndexInSelection(T),rt=oe>=0;if(this.isCheckboxSelectionMode())rt?(this.propagateSelectionDown?this.propagateDown(T,!1):this.selection=this.selection.filter((en,Cn)=>Cn!=oe),this.propagateSelectionUp&&T.parent&&this.propagateUp(T.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:A,node:T})):(this.propagateSelectionDown?this.propagateDown(T,!0):this.selection=[...this.selection||[],T],this.propagateSelectionUp&&T.parent&&this.propagateUp(T.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:A,node:T}));else if(!this.nodeTouched&&this.metaKeySelection){let Cn=A.metaKey||A.ctrlKey;rt&&Cn?(this.isSingleSelectionMode()?this.selectionChange.emit(null):(this.selection=this.selection.filter((ni,xi)=>xi!=oe),this.selectionChange.emit(this.selection)),this.onNodeUnselect.emit({originalEvent:A,node:T})):(this.isSingleSelectionMode()?this.selectionChange.emit(T):this.isMultipleSelectionMode()&&(this.selection=Cn&&this.selection||[],this.selection=[...this.selection,T],this.selectionChange.emit(this.selection)),this.onNodeSelect.emit({originalEvent:A,node:T}))}else this.isSingleSelectionMode()?rt?(this.selection=null,this.onNodeUnselect.emit({originalEvent:A,node:T})):(this.selection=T,this.onNodeSelect.emit({originalEvent:A,node:T})):rt?(this.selection=this.selection.filter((Cn,ni)=>ni!=oe),this.onNodeUnselect.emit({originalEvent:A,node:T})):(this.selection=[...this.selection||[],T],this.onNodeSelect.emit({originalEvent:A,node:T})),this.selectionChange.emit(this.selection)}this.nodeTouched=!1}}onNodeTouchEnd(){this.nodeTouched=!0}onNodeRightClick(A,T){if(this.contextMenu){let G=A.target;if(G.className&&0===G.className.indexOf("p-tree-toggler"))return;this.findIndexInSelection(T)>=0||(this.isSingleSelectionMode()?this.selectionChange.emit(T):this.selectionChange.emit([T])),this.contextMenu.show(A),this.onNodeContextMenuSelect.emit({originalEvent:A,node:T})}}findIndexInSelection(A){let T=-1;if(this.selectionMode&&this.selection)if(this.isSingleSelectionMode())T=this.selection.key&&this.selection.key===A.key||this.selection==A?0:-1;else for(let G=0;G<this.selection.length;G++){let oe=this.selection[G];if(oe.key&&oe.key===A.key||oe==A){T=G;break}}return T}syncNodeOption(A,T,G,oe){const rt=this.hasFilteredNodes()?this.getNodeWithKey(A.key,T):null;rt&&(rt[G]=oe||A[G])}hasFilteredNodes(){return this.filter&&this.filteredNodes&&this.filteredNodes.length}getNodeWithKey(A,T){for(let G of T){if(G.key===A)return G;if(G.children){let oe=this.getNodeWithKey(A,G.children);if(oe)return oe}}}propagateUp(A,T){if(A.children&&A.children.length){let oe=0,rt=!1;for(let en of A.children)this.isSelected(en)?oe++:en.partialSelected&&(rt=!0);if(T&&oe==A.children.length)this.selection=[...this.selection||[],A],A.partialSelected=!1;else{if(!T){let en=this.findIndexInSelection(A);en>=0&&(this.selection=this.selection.filter((Cn,ni)=>ni!=en))}A.partialSelected=!!(rt||oe>0&&oe!=A.children.length)}this.syncNodeOption(A,this.filteredNodes,"partialSelected")}let G=A.parent;G&&this.propagateUp(G,T)}propagateDown(A,T){let G=this.findIndexInSelection(A);if(T&&-1==G?this.selection=[...this.selection||[],A]:!T&&G>-1&&(this.selection=this.selection.filter((oe,rt)=>rt!=G)),A.partialSelected=!1,this.syncNodeOption(A,this.filteredNodes,"partialSelected"),A.children&&A.children.length)for(let oe of A.children)this.propagateDown(oe,T)}isSelected(A){return-1!=this.findIndexInSelection(A)}isSingleSelectionMode(){return this.selectionMode&&"single"==this.selectionMode}isMultipleSelectionMode(){return this.selectionMode&&"multiple"==this.selectionMode}isCheckboxSelectionMode(){return this.selectionMode&&"checkbox"==this.selectionMode}isNodeLeaf(A){return 0!=A.leaf&&!(A.children&&A.children.length)}getRootNode(){return this.filteredNodes?this.filteredNodes:this.value}getTemplateForNode(A){return this.templateMap?A.type?this.templateMap[A.type]:this.templateMap.default:null}onDragOver(A){this.droppableNodes&&(!this.value||0===this.value.length)&&(A.dataTransfer.dropEffect="move",A.preventDefault())}onDrop(A){if(this.droppableNodes&&(!this.value||0===this.value.length)){A.preventDefault();let T=this.dragNode;if(this.allowDrop(T,null,this.dragNodeScope)){let G=this.dragNodeIndex;this.value=this.value||[],this.validateDrop?this.onNodeDrop.emit({originalEvent:A,dragNode:T,dropNode:null,index:G,accept:()=>{this.processTreeDrop(T,G)}}):(this.onNodeDrop.emit({originalEvent:A,dragNode:T,dropNode:null,index:G}),this.processTreeDrop(T,G))}}}processTreeDrop(A,T){this.dragNodeSubNodes.splice(T,1),this.value.push(A),this.dragDropService.stopDrag({node:A})}onDragEnter(){this.droppableNodes&&this.allowDrop(this.dragNode,null,this.dragNodeScope)&&(this.dragHover=!0)}onDragLeave(A){if(this.droppableNodes){let T=A.currentTarget.getBoundingClientRect();(A.x>T.left+T.width||A.x<T.left||A.y>T.top+T.height||A.y<T.top)&&(this.dragHover=!1)}}allowDrop(A,T,G){if(A){if(this.isValidDragScope(G)){let oe=!0;if(T)if(A===T)oe=!1;else{let rt=T.parent;for(;null!=rt;){if(rt===A){oe=!1;break}rt=rt.parent}}return oe}return!1}return!1}isValidDragScope(A){let T=this.droppableScope;if(T){if("string"==typeof T){if("string"==typeof A)return T===A;if(A instanceof Array)return-1!=A.indexOf(T)}else if(T instanceof Array){if("string"==typeof A)return-1!=T.indexOf(A);if(A instanceof Array)for(let G of T)for(let oe of A)if(G===oe)return!0}return!1}return!0}_filter(A){let T=A;if(""===T)this.filteredNodes=null;else{this.filteredNodes=[];const G=this.filterBy.split(","),oe=Fe.gb.removeAccents(T).toLocaleLowerCase(this.filterLocale),rt="strict"===this.filterMode;for(let en of this.value){let Cn={...en},ni={searchFields:G,filterText:oe,isStrictMode:rt};(rt&&(this.findFilteredNodes(Cn,ni)||this.isFilterMatched(Cn,ni))||!rt&&(this.isFilterMatched(Cn,ni)||this.findFilteredNodes(Cn,ni)))&&this.filteredNodes.push(Cn)}}this.updateSerializedValue(),this.onFilter.emit({filter:T,filteredValue:this.filteredNodes})}resetFilter(){this.filteredNodes=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}findFilteredNodes(A,T){if(A){let G=!1;if(A.children){let oe=[...A.children];A.children=[];for(let rt of oe){let en={...rt};this.isFilterMatched(en,T)&&(G=!0,A.children.push(en))}}if(G)return A.expanded=!0,!0}}isFilterMatched(A,{searchFields:T,filterText:G,isStrictMode:oe}){let rt=!1;for(let en of T)Fe.gb.removeAccents(String(Fe.gb.resolveFieldData(A,en))).toLocaleLowerCase(this.filterLocale).indexOf(G)>-1&&(rt=!0);return(!rt||oe&&!this.isNodeLeaf(A))&&(rt=this.findFilteredNodes(A,{searchFields:T,filterText:G,isStrictMode:oe})||rt),rt}getBlockableElement(){return this.el.nativeElement.children[0]}ngOnDestroy(){this.dragStartSubscription&&this.dragStartSubscription.unsubscribe(),this.dragStopSubscription&&this.dragStopSubscription.unsubscribe()}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.SBq),f.Y36(Ne.Y,8),f.Y36(Ne.b4))},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-tree"]],contentQueries:function(A,T,G){if(1&A&&f.Suo(G,Ne.jx,4),2&A){let oe;f.iGM(oe=f.CRH())&&(T.templates=oe)}},viewQuery:function(A,T){if(1&A&&(f.Gf(he.N7,5),f.Gf(Yi,5)),2&A){let G;f.iGM(G=f.CRH())&&(T.virtualScrollBody=G.first),f.iGM(G=f.CRH())&&(T.filterViewChild=G.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",selectionMode:"selectionMode",selection:"selection",style:"style",styleClass:"styleClass",contextMenu:"contextMenu",layout:"layout",draggableScope:"draggableScope",droppableScope:"droppableScope",draggableNodes:"draggableNodes",droppableNodes:"droppableNodes",metaKeySelection:"metaKeySelection",propagateSelectionUp:"propagateSelectionUp",propagateSelectionDown:"propagateSelectionDown",loading:"loading",loadingIcon:"loadingIcon",emptyMessage:"emptyMessage",ariaLabel:"ariaLabel",togglerAriaLabel:"togglerAriaLabel",ariaLabelledBy:"ariaLabelledBy",validateDrop:"validateDrop",filter:"filter",filterBy:"filterBy",filterMode:"filterMode",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualNodeHeight:"virtualNodeHeight",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",indentation:"indentation",trackBy:"trackBy"},outputs:{selectionChange:"selectionChange",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onNodeContextMenuSelect:"onNodeContextMenuSelect",onNodeDrop:"onNodeDrop",onFilter:"onFilter"},features:[f.TTD],decls:2,vars:2,consts:[[3,"ngClass","ngStyle","class","drop","dragover","dragenter","dragleave",4,"ngIf"],[3,"ngClass","ngStyle","class",4,"ngIf"],[3,"ngClass","ngStyle","drop","dragover","dragenter","dragleave"],["class","p-tree-loading-overlay p-component-overlay",4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tree-filter-container",4,"ngIf"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],["class","p-tree-empty-message",4,"ngIf"],[1,"p-tree-loading-overlay","p-component-overlay"],[1,"p-tree-filter-container"],["type","text","autocomplete","off",1,"p-tree-filter","p-inputtext","p-component",3,"keydown.enter","input"],["filter",""],[1,"p-tree-filter-icon","pi","pi-search"],[1,"p-tree-wrapper"],["class","p-tree-container","role","tree",4,"ngIf"],["role","tree",1,"p-tree-container"],[3,"node","firstChild","lastChild","index","level",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","firstChild","lastChild","index","level"],[1,"p-tree-wrapper",3,"itemSize","minBufferPx","maxBufferPx"],[3,"level","rowNode","node","firstChild","lastChild","index","height","indentation",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"],[3,"level","rowNode","node","firstChild","lastChild","index","indentation"],[1,"p-tree-empty-message"],["emptyFilter",""],[3,"ngClass","ngStyle"],["class","p-tree-loading-mask p-component-overlay",4,"ngIf"],[4,"ngIf"],[1,"p-tree-loading-mask","p-component-overlay"],[3,"node","root"]],template:function(A,T){1&A&&(f.YNc(0,ct,9,16,"div",0),f.YNc(1,Ln,6,11,"div",1)),2&A&&(f.Q6J("ngIf",!T.horizontal),f.xp6(1),f.Q6J("ngIf",T.horizontal))},dependencies:[Bn,he.N7,u.O5,u.mk,u.PC,u.tP,u.sg,he.xd,he.x0],styles:[".p-tree-container{margin:0;padding:0;list-style-type:none;overflow:auto}.p-treenode-children{margin:0;padding:0;list-style-type:none}.p-tree-wrapper{overflow:auto}.p-treenode-selectable{cursor:pointer;-webkit-user-select:none;user-select:none}.p-tree-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0}.p-treenode-leaf>.p-treenode-content .p-tree-toggler{visibility:hidden}.p-treenode-content{display:flex;align-items:center}.p-tree-filter{width:100%}.p-tree-filter-container{position:relative;display:block;width:100%}.p-tree-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-tree-loading{position:relative;min-height:4rem}.p-tree .p-tree-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-tree-flex-scrollable{display:flex;flex:1;height:100%;flex-direction:column}.p-tree-flex-scrollable .p-tree-wrapper{flex:1}.p-tree .p-treenode-droppoint{height:4px;list-style-type:none}.p-tree .p-treenode-droppoint-active{border:0 none}.p-tree-horizontal{width:auto;padding-left:0;padding-right:0;overflow:auto}.p-tree.p-tree-horizontal table,.p-tree.p-tree-horizontal tr,.p-tree.p-tree-horizontal td{border-collapse:collapse;margin:0;padding:0;vertical-align:middle}.p-tree-horizontal .p-treenode-content{font-weight:400;padding:.4em 1em .4em .2em;display:flex;align-items:center}.p-tree-horizontal .p-treenode-parent .p-treenode-content{font-weight:400;white-space:nowrap}.p-tree.p-tree-horizontal .p-treenode{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-x scroll center center transparent;padding:.25rem 2.5rem}.p-tree.p-tree-horizontal .p-treenode.p-treenode-leaf,.p-tree.p-tree-horizontal .p-treenode.p-treenode-collapsed{padding-right:0}.p-tree.p-tree-horizontal .p-treenode-children{padding:0;margin:0}.p-tree.p-tree-horizontal .p-treenode-connector{width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-table{height:100%;width:1px}.p-tree.p-tree-horizontal .p-treenode-connector-line{background:url(data:image/gif;base64,R0lGODlhAQABAIAAALGxsf///yH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNC4xLWMwMzQgNDYuMjcyOTc2LCBTYXQgSmFuIDI3IDIwMDcgMjI6Mzc6MzcgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhhcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyI+CiAgICAgICAgIDx4YXA6Q3JlYXRvclRvb2w+QWRvYmUgRmlyZXdvcmtzIENTMzwveGFwOkNyZWF0b3JUb29sPgogICAgICAgICA8eGFwOkNyZWF0ZURhdGU+MjAxMC0wMy0xMVQxMDoxNjo0MVo8L3hhcDpDcmVhdGVEYXRlPgogICAgICAgICA8eGFwOk1vZGlmeURhdGU+MjAxMC0wMy0xMVQxMjo0NDoxOVo8L3hhcDpNb2RpZnlEYXRlPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIj4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9naWY8L2RjOmZvcm1hdD4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4B//79/Pv6+fj39vX08/Lx8O/u7ezr6uno5+bl5OPi4eDf3t3c29rZ2NfW1dTT0tHQz87NzMvKycjHxsXEw8LBwL++vby7urm4t7a1tLOysbCvrq2sq6qpqKempaSjoqGgn56dnJuamZiXlpWUk5KRkI+OjYyLiomIh4aFhIOCgYB/fn18e3p5eHd2dXRzcnFwb25tbGtqaWhnZmVkY2JhYF9eXVxbWllYV1ZVVFNSUVBPTk1MS0pJSEdGRURDQkFAPz49PAA6OTg3NjU0MzIxMC8uLSwrKikoJyYlJCMiISAfHh0cGxoZGBcWFRQTEhEQDw4NDAsKCQgHBgUEAwIBAAAh+QQABwD/ACwAAAAAAQABAAACAkQBADs=) repeat-y scroll 0 0 transparent;width:1px}.p-tree.p-tree-horizontal table{height:0}\n"],encapsulation:2}),N})(),kr=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez,he.Cl,We.T],Ne.m8,he.Cl]}),N})();var Fi=k(5593);let Ni=(()=>{class N{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return this.size?{...this.style,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...this.style,width:this.width,height:this.height,borderRadius:this.borderRadius}}}return N.\u0275fac=function(A){return new(A||N)},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(A,T){1&A&&f._UZ(0,"div",0),2&A&&(f.Tol(T.styleClass),f.Q6J("ngClass",T.containerClass())("ngStyle",T.containerStyle()))},dependencies:[u.mk,u.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),N})(),ds=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez]]}),N})();function ts(N,ce){1&N&&(f.TgZ(0,"label",8)(1,"i",9),f._UZ(2,"i",10),f.qZA()())}function ns(N,ce){1&N&&(f.TgZ(0,"div")(1,"div",11),f._UZ(2,"p-skeleton",12),f.qZA(),f.TgZ(3,"div",11),f._UZ(4,"p-skeleton",13),f.qZA(),f.TgZ(5,"div",11),f._UZ(6,"p-skeleton",13),f.qZA(),f.TgZ(7,"div",11),f._UZ(8,"p-skeleton",13),f.qZA(),f.TgZ(9,"div",11),f._UZ(10,"p-skeleton",13),f.qZA()())}function Ts(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"p-button",18),f.NdJ("click",function(){const oe=f.CHM(A).$implicit,rt=f.oxw(2);return f.KtG(rt.changeSubChapter(oe,oe.key))}),f.TgZ(1,"p",19)(2,"span",20),f._uU(3),f.qZA(),f._uU(4,"\xa0 "),f.TgZ(5,"span",21),f._uU(6),f.qZA(),f._UZ(7,"img",22),f.qZA()()}if(2&N){const A=ce.$implicit;f.xp6(1),f.s9C("id",A.key),f.xp6(2),f.Oqu(A.key),f.xp6(3),f.Oqu(A.label)}}function Es(N,ce){1&N&&f._UZ(0,"img",27)}function fo(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"span",23),f.YNc(1,Es,1,0,"img",24),f.qZA(),f.TgZ(2,"p-button",25),f.NdJ("click",function(){const oe=f.CHM(A).$implicit,rt=f.oxw(2);return f.KtG(rt.changeChapter(oe,oe.key))}),f.TgZ(3,"p",26)(4,"span",20),f._uU(5),f.qZA(),f._uU(6,"\xa0 "),f.TgZ(7,"span",21),f._uU(8),f.qZA(),f._UZ(9,"img",22),f.qZA()()}if(2&N){const A=ce.$implicit;f.xp6(1),f.Q6J("ngIf",A.leaf),f.xp6(2),f.s9C("id",A.key),f.xp6(2),f.Oqu(A.key),f.xp6(3),f.Oqu(A.label)}}function go(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"p-tree",14),f.NdJ("onNodeExpand",function(G){f.CHM(A);const oe=f.oxw();return f.KtG(oe.refreshChildSelectedAddedEffects(G))})("onNodeCollapse",function(G){f.CHM(A);const oe=f.oxw();return f.KtG(oe.refreshChildSelectedRemoveEffects(G))}),f._UZ(1,"p-skeleton",15),f.YNc(2,Ts,8,3,"ng-template",16),f.YNc(3,fo,10,4,"ng-template",17),f.qZA()}if(2&N){const A=f.oxw();f.Q6J("value",A.nodes)}}let ti=(()=>{class N{constructor(A,T,G,oe,rt,en,Cn,ni,xi){var yi=this;this.router=A,this.chapterJavaService=T,this.route=G,this.cookies=oe,this.platformId=rt,this.metaService=en,this.urlPathService=Cn,this.location=ni,this.configLanguageService=xi,this.windowBrowserWidthCollapseSideBar=768,this.nodes=[],this.selectedSubChapter=void 0,this.previousSubChapter=void 0,this.nextSubChapter=void 0,this.lastChapterSelected=new q,console.log("------------------COSTRUTTORE SIDE BAR-----------------------"),this.cookies.check("lastChapterSelected")&&(this.lastChapterSelected=JSON.parse(this.cookies.get("lastChapterSelected"))),console.log("------------------COSTRUTTORE SIDE BAR-----------------------"+JSON.stringify(this.lastChapterSelected)),this.selectedElementInTheBar="1",this.chapterJavaService.actionFromTutorialBodyContentChanged$?.subscribe(Un=>{console.log("sono nel costruttore della sideBar "),this.initializeChapter(Un)}),this.chapterJavaService.actionFromTutorialBodyContentAboutSubChapterChanged$?.subscribe(Un=>{console.log("sono nel costruttore della sideBar per quanto riguarda il cambio del sotto capitolo "+Un),(0,u.NF)(this.platformId)&&this.initializerSubChapterFromUrl(Un)}),this.chapterJavaService.actionFromTutorialBodyNextContentChanged$?.subscribe(Un=>{console.log("sono nel costruttore della sideBar "),this.nextChapterFromRequestBody()}),this.chapterJavaService.actionFromTutorialBodyPreviousContentChanged$?.subscribe(Un=>{this.previousChapterFromRequestBody()}),this.chapterJavaService.actionFromHeaderChangeLanguareChanged$?.subscribe(function(){var Un=(0,ye.Z)(function*(ji){console.log("sono nella sidebar, ho cambiato la lingua "+yi.configLanguageService.getBrowserLanguage()),console.log("sono nella sidebar, ho cambiato la lingua "+yi.urlPathService.getCourseFromUrl(window.location.href));const ar=yi.urlPathService.getCourseFromUrl(window.location.href);console.log("old: "+ar);const Ir=yield yi.urlPathService.getTranslateCourseFromUrl(window.location.href);console.log("new: "+Ir),console.log("sono nella sidebar, ho cambiato la lingua tradotto: "+Ir);let fi=yi.urlPathService.getUrlPath(window.location.href);console.log("sono nella sidebar, ho cambiato la lingua tradotto: "+fi),yi.location.replaceState(fi.substring(0,fi.length-2).replace(ar,Ir)+yi.configLanguageService.getBrowserLanguage()),console.log("sono nella sidebar, ho cambiato la lingua "+fi.substring(0,fi.length-2)),window.location.reload()});return function(ji){return Un.apply(this,arguments)}}())}ngOnInit(){if((0,u.PM)(this.platformId)){let A=this.route.snapshot.paramMap.get("code");console.log("CODICE PRESO DAI PARAMETRI: "+this.languageCode),console.log("lingua: "+this.configLanguageService.getBrowserLanguage()),this.chapterJavaService.getChapters(A,"").subscribe(T=>{this.chaptersJavaCourse=T,this.nodes=[],this.chaptersJavaCourse.forEach(G=>{console.log(G.id),console.log(G.chapterNumber),this.childrenParam=[],null!=G.subChapters&&G.subChapters.forEach(oe=>{let rt=new K;rt.data=""+oe.id,rt.key=""+oe.subChapterNumber,rt.label=""+oe.subChapterTitle,this.childrenParam.push(rt)}),this.nodes.push({key:""+G.chapterNumber,data:""+G.id,label:G.chapterTitle,children:this.childrenParam})})})}(0,u.NF)(this.platformId)&&this.initSidebar()}navigate(){this.router.navigate(["/auth/signin"])}changeChapter(A,T){console.log("--------------------------------------"),console.log("scope chapter is key "+A.key),console.log("scope chapter is data "+A.data),console.log("scope chapter is "+A.label),console.log("scope chapter is "+A.children?.length),console.log("scope chapter is ex "+A.expanded),console.log("--------------------------------------\n "+window.innerWidth),1!=A.expanded&&(A.expanded=!0),this.selectedElementInTheBar!=A.key&&(window.innerWidth<=this.windowBrowserWidthCollapseSideBar&&setTimeout(()=>{document.getElementById("burger")?.click()},100),this.selectedElementInTheBar=A.key,document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument"),document.getElementById(this.selectedChapter?.key)?.classList.remove("selectedArgument"),document.getElementById(A.key)?.classList.add("selectedArgument"),console.log("id del capitolo: "+A?.data),this.chapterJavaService.changeIdChapter(""+A?.key),this.lastChapterSelected.chapter=A?.data,this.lastChapterSelected.subChapter="0",this.lastChapterSelected.chapterIndex=this.nodes.indexOf(A),this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}),this.evalueateNextChapters(A),this.evalueatePreviousChapters(this.selectedChapter),this.initializeSubChapter(this.selectedChapter))}changeSubChapter(A,T){console.log("--------------------------------------"+T),console.log("scope subchapter is "+A.key),console.log("sotto capitolo numero:  "+T.substring(T.indexOf(".")+1,T.length)),console.log("scope subchapter data "+A.data),console.log("scope subchapter is "+A.label),console.log("scope subchapter is "+A.children?.length),console.log("---------------------------parent-------"+A.parent?.key),this.selectedElementInTheBar!=A.key&&(this.selectedElementInTheBar=A.key,window.innerWidth<=this.windowBrowserWidthCollapseSideBar&&setTimeout(()=>{document.getElementById("burger")?.click()},100),document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument"),document.getElementById(A.key)?.classList.add("selectedArgument"),this.chapterJavaService.changeIdSubChapter(T),this.evalueateNextSubChapters(A),this.evalueatePreviousSubChapters(this.selectedSubChapter),A.parent?.key!=this.selectedChapter?.key&&(document.getElementById(this.selectedChapter?.key)?.classList.remove("selectedArgument"),this.evalueateNextChapters(A.parent),this.evalueatePreviousChapters(this.selectedChapter),document.getElementById(this.selectedChapter?.key)?.classList.add("selectedArgument")),this.lastChapterSelected.subChapter=T,this.lastChapterSelected.chapter=this.selectedChapter.data,this.lastChapterSelected.chapterIndex=this.nodes.indexOf(this.selectedChapter),this.lastChapterSelected.subChapterIndex=this.selectedChapter.children?.indexOf(A),this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}))}initializerSubChapterFromUrl(A){let T=A.substring(0,A.indexOf("."));document.getElementById(T)?.classList.add("selectedArgument"),this.selectedChapter=this.nodes[Number(T)-1],this.metaService.updateTag({name:"keywords",content:this.selectedChapter.key+" boh"}),this.nextChapter=this.nodes.length>Number(T)?this.nodes[Number(T)]:void 0,this.previousChapter=Number(T)-1>0?this.nodes[Number(T)-2]:void 0,1!=this.selectedChapter?.expanded&&(this.selectedChapter.expanded=!0);let G=A.substring(A.indexOf(".")+1,A.length);console.log("il sub chapterId sottostringa: "+G),null!=this.selectedChapter.children&&(this.selectedChapter.children?.length>=Number(G)&&(this.selectedSubChapter=this.selectedChapter.children[Number(G)-1]),this.previousSubChapter=this.selectedChapter.children?.length>0&&Number(G)-1>0&&this.selectedChapter.children?.length>=Number(G)-1?this.selectedChapter.children[Number(G)-2]:void 0,this.selectedChapter.children?.length>Number(G)&&(this.nextSubChapter=this.selectedChapter.children[Number(G)]),setTimeout(()=>{document.getElementById(A)?.classList.add("selectedArgument")},.1))}initializeChapter(A){console.log("inizializzo con key: "+A),document.getElementById(A)?.classList.add("selectedArgument"),this.selectedChapter=this.nodes[Number(A)-1],console.log("node length: "+this.nodes.length),this.nodes.length>1&&(this.nextChapter=this.nodes[Number(this.selectedChapter.key)]),this.previousChapter=void 0,1!=this.selectedChapter?.expanded&&(this.selectedChapter.expanded=!0),this.initializeSubChapter(this.selectedChapter),console.log("capitolo successivo: "+this.nextChapter?.key),console.log("sotto capitolo successivo: "+this.nextSubChapter?.key)}initializeSubChapter(A){console.log("nella sideBar = "+A.children),null!=A.children&&(this.nextSubChapter=A.children[0],this.selectedSubChapter=void 0,this.previousSubChapter=void 0)}nextChapterFromRequestBody(){console.log("nextChapterFromRequestBody"),console.log("sub: "+this.nextSubChapter),null!=this.nextSubChapter?(document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument"),this.chapterJavaService.changeIdSubChapter(""+this.nextSubChapter.key),document.getElementById(this.nextSubChapter?.key)?.classList.add("selectedArgument"),console.log("next chapter: "+this.nextChapter),this.lastChapterSelected.subChapter=this.nextSubChapter.key,this.lastChapterSelected.chapter=null!=this.nextChapter?this.nextChapter.key:this.selectedChapter?.data,this.lastChapterSelected.chapterIndex=this.nodes.indexOf(null!=this.nextChapter?this.nextChapter:this.selectedChapter),this.lastChapterSelected.subChapterIndex=null!=this.nextChapter?this.nextChapter.children?.indexOf(this.nextSubChapter):this.selectedChapter.children?.indexOf(this.nextSubChapter),console.log(""),this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}),this.evalueateNextSubChapters(this.nextSubChapter),this.evalueatePreviousSubChapters(this.selectedSubChapter)):null!=this.nextChapter&&(document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument"),document.getElementById(this.selectedChapter?.key)?.classList.remove("selectedArgument"),this.chapterJavaService.changeIdChapter(this.nextChapter.key),document.getElementById(this.nextChapter?.key)?.classList.add("selectedArgument"),this.lastChapterSelected.chapter=null!=this.nextChapter?this.nextChapter.key:this.selectedChapter?.data,this.lastChapterSelected.subChapter="0",this.lastChapterSelected.chapterIndex=this.nodes.indexOf(null!=this.nextChapter?this.nextChapter:this.selectedChapter),this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}),this.evalueateNextChapters(this.nextChapter),this.evalueatePreviousChapters(this.selectedChapter),this.initializeSubChapter(this.selectedChapter))}previousChapterFromRequestBody(){if(null!=this.previousSubChapter)document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument"),this.chapterJavaService.changeIdSubChapter(""+this.previousSubChapter.key),document.getElementById(this.previousSubChapter?.key)?.classList.add("selectedArgument"),this.lastChapterSelected.subChapter=this.previousSubChapter?.key,this.lastChapterSelected.chapter=null!=this.previousChapter?this.previousChapter.data:this.selectedChapter.data,this.lastChapterSelected.chapterIndex=this.nodes.indexOf(null!=this.previousChapter?this.previousChapter:this.selectedChapter),this.lastChapterSelected.subChapterIndex=null!=this.previousChapter?this.previousChapter.children?.indexOf(this.previousSubChapter):this.selectedChapter.children?.indexOf(this.selectedSubChapter),this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}),this.evalueatePreviousSubChapters(this.previousSubChapter),this.evalueateNextSubChapters(this.selectedSubChapter);else if(null!=this.previousChapter){if(document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument"),document.getElementById(this.selectedChapter?.key)?.classList.remove("selectedArgument"),null==this.previousChapter.children||0==this.previousChapter.children.length)this.chapterJavaService.changeIdChapter(this.previousChapter.key),this.lastChapterSelected.chapter=null!=this.previousChapter?this.previousChapter.data:this.selectedChapter.data,this.lastChapterSelected.subChapter="0",this.lastChapterSelected.chapterIndex=this.nodes.indexOf(null!=this.previousChapter?this.previousChapter:this.selectedChapter),this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}),this.evalueatePreviousChapters(this.previousChapter),this.evalueateNextChapters(this.selectedChapter),this.initializeSubChapter(this.selectedChapter);else{let A=this.previousChapter.children[this.previousChapter.children.length-1];this.chapterJavaService.changeIdSubChapter(A.key),document.getElementById(A?.key)?.classList.add("selectedArgument"),this.lastChapterSelected.subChapter=this.selectedSubChapter?.key,this.lastChapterSelected.chapter=this.selectedChapter.data,this.lastChapterSelected.chapterIndex=this.nodes.indexOf(this.selectedChapter),this.lastChapterSelected.subChapterIndex=null!=this.selectedChapter?this.selectedChapter.children?.indexOf(this.selectedSubChapter):-1,this.cookies.set("lastChapterSelected",JSON.stringify(this.lastChapterSelected),{path:"/"}),this.evalueatePreviousSubChapters(A),this.evalueateNextSubChapters(this.selectedSubChapter),this.evalueatePreviousChapters(this.previousChapter),this.evalueateNextChapters(this.selectedChapter)}document.getElementById(this.selectedChapter?.key)?.classList.add("selectedArgument")}}evalueateNextSubChapters(A){console.log("evaluate next subChapter. Parend: "+A.parent?.key),this.selectedSubChapter=A;let T=[];if(null!=A.parent?.children&&(T=A.parent?.children),T.length>0){let G=T.indexOf(this.selectedSubChapter);this.nextSubChapter=G==T.length-1?void 0:T[G+1]}console.log("-----------next--SUB-------------------"),console.log("selected sub chapter "+this.selectedSubChapter.key),console.log("nex sub chapter "+this.nextSubChapter?.key),console.log("previous sub chapter "+this.previousSubChapter?.key)}evalueateNextChapters(A){console.log("evaluate next subChapter. "),this.selectedChapter=A,this.nextChapter=this.nodes.length-1>this.nodes.indexOf(this.selectedChapter)?this.nodes[this.nodes.indexOf(this.selectedChapter)+1]:void 0,console.log("-----------next---------------------"),console.log("selected  chapter "+this.selectedChapter.key),console.log("nex  chapter "+this.nextChapter?.key),console.log("previous  chapter "+this.previousChapter?.key)}evalueatePreviousSubChapters(A){console.log("evaluate previous subChapter. Parend: "+A.parent?.key),this.selectedSubChapter=A;let T=[];null!=A.parent?.children&&(T=A.parent?.children),T.length>0&&(this.previousSubChapter=0==T.indexOf(this.selectedSubChapter)?void 0:T[T.indexOf(this.selectedSubChapter)-1]),console.log("-----------previous----SUB-----------------"),console.log("selected sub chapter "+this.selectedSubChapter.key),console.log("nex sub chapter "+this.nextSubChapter?.key),console.log("previous sub chapter "+this.previousSubChapter?.key)}evalueatePreviousChapters(A){console.log("evaluate previous subChapter. Parend: "),this.selectedChapter=A,this.previousChapter=this.nodes.indexOf(this.selectedChapter)>0?this.nodes[this.nodes.indexOf(this.selectedChapter)-1]:void 0,console.log("-----------previous---------------------"),console.log("selected  chapter "+this.selectedChapter.key),console.log("nex  chapter "+this.nextChapter?.key),console.log("previous  chapter "+this.previousChapter?.key)}refreshChildSelectedAddedEffects(A){var T=this;A.node.key==this.selectedChapter?.key&&(0,ye.Z)(function*(){setTimeout(()=>{document.getElementById(T.selectedSubChapter?.key)?.classList.add("selectedArgument")},50)})()}refreshChildSelectedRemoveEffects(A){A.node.key==this.selectedChapter?.key&&document.getElementById(this.selectedSubChapter?.key)?.classList.remove("selectedArgument")}initSidebar(){this.languageCode=this.route.snapshot.paramMap.get("code"),console.log("CODICE PRESO DAI PARAMETRI: "+this.languageCode),console.log("lingua: "+this.configLanguageService.getBrowserLanguage()),this.chapterJavaService.getChapters(this.languageCode,"").subscribe(A=>{this.chaptersJavaCourse=A,this.nodes=[],this.chaptersJavaCourse.forEach(T=>{console.log(T.id),console.log(T.chapterNumber),console.log("\xe8 linkato: "+T.linked),this.childrenParam=[],null!=T.subChapters&&T.subChapters.forEach(G=>{let oe=new K;oe.data=""+G.id,oe.key=""+G.subChapterNumber,oe.label=""+G.subChapterTitle,this.childrenParam.push(oe)}),this.nodes.push({key:""+T.chapterNumber,data:""+T.id,label:T.chapterTitle,children:this.childrenParam,leaf:T.linked}),console.log("\xe8 linkato: "+T.linked)})}),this.item=[{label:"capitolo 0",items:[{label:"introduzione",command:()=>this.navigate()}]}]}openCloseSidebar(){document.getElementById("burger").checked?document.getElementById("tree")?.classList.add("marginSubChapterNumberRedux"):document.getElementById("tree")?.classList.remove("marginSubChapterNumberRedux")}}return N.\u0275fac=function(A){return new(A||N)(f.Y36($.F0),f.Y36(Z.h),f.Y36($.gz),f.Y36(ae.N),f.Y36(f.Lbi),f.Y36(X.h_),f.Y36(ne.i),f.Y36(u.Ye),f.Y36(ue.t))},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-side-bar"]],decls:8,vars:3,consts:[[1,"sidebarConteiner"],["type","checkbox","id","burger",3,"click"],["for","burger",4,"ngIf"],["id","sidebarGlobal",1,"sidebar"],[1,"listCap"],[1,"listItem"],[4,"ngIf"],["id","tree",3,"value","onNodeExpand","onNodeCollapse",4,"ngIf"],["for","burger"],["id","burgerMenuClosed"],[1,"fa-solid","fa-angle-left"],[1,"skeleton"],["idth","10rem","height","4rem","borderRadius","16px"],["idth","99%","height","4rem","borderRadius","16px"],["id","tree",3,"value","onNodeExpand","onNodeCollapse"],["width","10rem","height","4rem","borderRadius","16px"],["pTemplate","url"],["pTemplate","default"],["styleClass","p-button-link custom-p-button-linkLeaf",3,"click"],[1,"paragraphSidebar",3,"id"],[1,"paragraphSidebarChapter"],[1,"paragraphSidebarContent"],["src","../../../assets/images/tutorial.content/side-bar/puntina.png",1,"puntinaPost-it"],[2,"position","relative"],["id","logoImg","src","assets/images/header.component/varie/logo-mini.png","width","100px","style","position: absolute;\n                        top: -60px;\n                        left: -88px;",4,"ngIf"],["styleClass","p-button-link custom-p-button-link",3,"click"],[1,"paragraphSidebarOrphanNode",3,"id"],["id","logoImg","src","assets/images/header.component/varie/logo-mini.png","width","100px",2,"position","absolute","top","-60px","left","-88px"]],template:function(A,T){1&A&&(f.TgZ(0,"div",0)(1,"input",1),f.NdJ("click",function(){return T.openCloseSidebar()}),f.qZA(),f.YNc(2,ts,3,0,"label",2),f.TgZ(3,"div",3)(4,"ul",4)(5,"li",5),f.YNc(6,ns,11,0,"div",6),f.YNc(7,go,4,1,"p-tree",7),f.qZA()()()()),2&A&&(f.xp6(2),f.Q6J("ngIf",T.nodes.length>0),f.xp6(4),f.Q6J("ngIf",0==T.nodes.length),f.xp6(1),f.Q6J("ngIf",T.nodes.length>0))},dependencies:[u.O5,$n,Ne.jx,Fi.zx,Ni],styles:[".sidebar[_ngcontent-%COMP%]{max-height:1000px;left:0;width:250px;height:100%;background:white;overflow-y:auto;transition:all .4s ease;margin-left:10px;padding-left:40px;z-index:9999}.sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]{list-style:none}.sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;height:100%;width:100%;margin-bottom:30px;margin-left:-20px;font-size:20px;box-sizing:border-box;transition:.4s}.sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{margin-left:-5px}.skeleton[_ngcontent-%COMP%]{margin:10px!important}#burger[_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]{border:1px solid #9f9e9e;position:absolute;cursor:pointer;background:#042331;border-radius:15px;color:#fff;margin-top:45px;z-index:0;left:243px;font-size:15px;padding:4px 8px;transition:all .4s ease}label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .4s ease}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]{width:90px}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{visibility:hidden;display:none;font-family:var(--font-family-global)}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .descriptionCap[_ngcontent-%COMP%]{display:none}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]{width:40px}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenu[_ngcontent-%COMP%]{opacity:100}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]{left:81px}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(180deg)}.listCap[_ngcontent-%COMP%]{margin-top:1px}.listItem[_ngcontent-%COMP%]{margin-left:-40px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarNode[_ngcontent-%COMP%]{font-size:15px;color:#000}.listItem[_ngcontent-%COMP%]   .paragraphSidebarNode[_ngcontent-%COMP%]   .paragraphSidebarChapter[_ngcontent-%COMP%]{font-size:20px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarOrphanNode[_ngcontent-%COMP%]{display:flex;min-height:40px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarOrphanNode[_ngcontent-%COMP%]   .paragraphSidebarChapter[_ngcontent-%COMP%]{font-size:20px}.listItem[_ngcontent-%COMP%]   .paragraphSidebarOrphanNode[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{font-family:var(--font-family-global);padding-top:4px;width:180px}.listItem[_ngcontent-%COMP%]   .paragraphSidebar[_ngcontent-%COMP%]{display:flex}.listItem[_ngcontent-%COMP%]   .paragraphSidebar[_ngcontent-%COMP%]   .paragraphSidebarChapter[_ngcontent-%COMP%]{font-size:20px;display:inline-flex;align-items:center}.listItem[_ngcontent-%COMP%]   .paragraphSidebar[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{font-family:var(--font-family-global);padding-top:4px;width:180px}.listItem[_ngcontent-%COMP%]   .puntinaPost-it[_ngcontent-%COMP%]{position:absolute;width:40px;height:25px;right:0;top:0;display:none}.listItem[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]{overflow:visible;position:relative;box-shadow:0 1px 4px var(--box-shadow-color1),0 0 20px var(--box-shadow-color2) inset;transform:rotate(-4deg)}.listItem[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]   .puntinaPost-it[_ngcontent-%COMP%]{display:block;top:5px;right:-5px}@media screen and (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:300px;left:-310px;top:5px;max-height:1000px;position:fixed;z-index:9999;transition:all .4s ease}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]{left:0;width:300px;position:fixed;z-index:88888}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .listCap[_ngcontent-%COMP%]   .listItem[_ngcontent-%COMP%]   .paragraphSidebarContent[_ngcontent-%COMP%]{visibility:visible;display:block;font-family:var(--font-family-global)}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .descriptionCap[_ngcontent-%COMP%]{display:block}#burger[_ngcontent-%COMP%]:checked ~ .sidebar[_ngcontent-%COMP%]   .selectedArgument[_ngcontent-%COMP%]{width:190px}label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]{padding-top:8px!important;transition:none;position:absolute;cursor:pointer;background:#042331;border-radius:0 15px 15px 0;color:#fff;margin-top:-60px;z-index:99990;left:0;font-size:35px;padding:4px 8px;transition:all .4s ease}label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(180deg);transition:all .4s ease}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]{left:300px;position:fixed;top:325px}#burger[_ngcontent-%COMP%]:checked ~ label[_ngcontent-%COMP%]   #burgerMenuClosed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(360deg)}.p-tree-container[_ngcontent-%COMP%]{overflow:hidden!important}}"]}),N})();function lr(N,ce){if(1&N&&(f.ynx(0),f._UZ(1,"div",6),f.BQk()),2&N){const A=ce.$implicit;f.xp6(1),f.Q6J("innerHTML",A.value,f.oJD)}}let zi=(()=>{class N{constructor(){this.buttonText="Mostra",this.olContents=[],this.idGlass=""}ngOnInit(){}createPageHiddenCodeTemplate(A){A.childComponentsPageTutorialList?.forEach(T=>{this.idGlass=""+T.id,this.olContents.push(`<${T.componentType} class="${T.componentClassCss}" \n      id="${T.componentIdCss}">${T.componentContent}</${T.componentType}>`)})}showHide(A){"Mostra"==this.buttonText?(this.buttonText="Nascondi",document.getElementById("glassWindow"+A)?.classList.remove("glass"),document.getElementById("codeBlockExercise"+A)?.classList.remove("codeBlockHideOver")):(this.buttonText="Mostra",document.getElementById("glassWindow"+A)?.classList.add("glass"),document.getElementById("codeBlockExercise"+A)?.classList.add("codeBlockHideOver"))}}return N.\u0275fac=function(A){return new(A||N)},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-hidden-code"]],decls:10,vars:6,consts:[[1,"hiddenCodeTemplate"],[1,"center"],[1,"buttonShowHide",3,"click"],[1,"codeblock","textFormat","codeBlockHideOver",3,"id"],[1,"glass",3,"id"],[4,"ngFor","ngForOf"],[1,"article",3,"innerHTML"]],template:function(A,T){1&A&&(f.TgZ(0,"div",0)(1,"div",1)(2,"button",2),f.NdJ("click",function(){return T.showHide(T.idGlass)}),f._uU(3),f.qZA()(),f.TgZ(4,"div",3)(5,"code"),f._UZ(6,"div",4),f.TgZ(7,"div"),f.YNc(8,lr,2,1,"ng-container",5),f.ALo(9,"keyvalue"),f.qZA()()()()),2&A&&(f.xp6(3),f.hij(" ",T.buttonText," "),f.xp6(1),f.s9C("id","codeBlockExercise"+T.idGlass),f.xp6(2),f.s9C("id","glassWindow"+T.idGlass),f.xp6(2),f.Q6J("ngForOf",f.lcZ(9,4,T.olContents)))},dependencies:[u.sg,u.Nd],styles:[".hiddenCodeTemplate{margin-top:30px}.hiddenCodeTemplate code{position:relative}.hiddenCodeTemplate .codeblock{margin-top:10px!important}.hiddenCodeTemplate button{margin-bottom:10px;border-radius:20px;background-color:#667292;box-shadow:var(--box-shadow-inset-unset) 3px 4px 10px var(--box-shadow-button-color);width:130px;height:37px;font-size:50px;font-family:cambria;color:#bccad6;border:none;cursor:pointer}.hiddenCodeTemplate button:hover{border:none;background-color:var(--navbar-color);opacity:1;color:#000}.hiddenCodeTemplate .buttonShowHide:hover{transition:.5s ease-in-out;background:var(--navbar-color)}.hiddenCodeTemplate .buttonShowHide:active{transition:.1s ease-in-out;background:#006192}.hiddenCodeTemplate button{--color1: #36486b;--color2: #bccad6;font-family:cambria;text-align:center;font-size:23px;background:repeating-linear-gradient(45deg,var(--color1),var(--color1) 30px,var(--color2) 30px,var(--color2) 60px);background-clip:text;color:transparent;-webkit-background-clip:text;animation:40s linear 0s infinite move}.hiddenCodeTemplate .glass{position:absolute;width:95%;height:95%;margin-left:2.5%;margin-top:1.8%;backdrop-filter:blur(4px) saturate(133%);-webkit-backdrop-filter:blur(4px) saturate(133%);background-color:#11192800;border-radius:12px;border:1px solid rgba(255,255,255,.125);z-index:100}.hiddenCodeTemplate .codeBlockHideOver{overflow:hidden!important}@keyframes move{0%{background-position:0px}to{background-position:1000px}}\n"],encapsulation:2}),N})();var ki=k(3608);function qi(N,ce){1&N&&f.GkF(0)}function Gi(N,ce){if(1&N&&(f.ynx(0),f.YNc(1,qi,1,0,"ng-container",3),f.BQk()),2&N){const A=f.oxw(2);f.xp6(1),f.Q6J("ngTemplateOutlet",A.contentTemplate)}}function xe(N,ce){if(1&N&&(f.TgZ(0,"div",1),f.Hsn(1),f.YNc(2,Gi,2,1,"ng-container",2),f.qZA()),2&N){const A=f.oxw();f.Q6J("hidden",!A.selected),f.uIk("id",A.id)("aria-hidden",!A.selected)("aria-labelledby",A.id+"-label"),f.xp6(2),f.Q6J("ngIf",A.contentTemplate&&(A.cache?A.loaded:A.selected))}}const J=["*"],V=["content"],B=["navbar"],le=["prevBtn"],Ue=["nextBtn"],nt=["inkbar"];function Ft(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"button",12,13),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.navBackward())}),f._UZ(2,"span",14),f.qZA()}}function Tn(N,ce){if(1&N&&f._UZ(0,"span",24),2&N){const A=f.oxw(3).$implicit;f.Q6J("ngClass",A.leftIcon)}}function xn(N,ce){if(1&N&&f._UZ(0,"span",25),2&N){const A=f.oxw(3).$implicit;f.Q6J("ngClass",A.rightIcon)}}function zt(N,ce){if(1&N&&(f.ynx(0),f.YNc(1,Tn,1,1,"span",21),f.TgZ(2,"span",22),f._uU(3),f.qZA(),f.YNc(4,xn,1,1,"span",23),f.BQk()),2&N){const A=f.oxw(2).$implicit;f.xp6(1),f.Q6J("ngIf",A.leftIcon),f.xp6(2),f.Oqu(A.header),f.xp6(1),f.Q6J("ngIf",A.rightIcon)}}function Ki(N,ce){1&N&&f.GkF(0)}function br(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"span",26),f.NdJ("click",function(G){f.CHM(A);const oe=f.oxw(2).$implicit,rt=f.oxw();return f.KtG(rt.close(G,oe))}),f.qZA()}}const po=function(N,ce){return{"p-highlight":N,"p-disabled":ce}};function Yr(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"li",16)(1,"a",17),f.NdJ("click",function(G){f.CHM(A);const oe=f.oxw().$implicit,rt=f.oxw();return f.KtG(rt.open(G,oe))})("keydown.enter",function(G){f.CHM(A);const oe=f.oxw().$implicit,rt=f.oxw();return f.KtG(rt.open(G,oe))}),f.YNc(2,zt,5,3,"ng-container",18),f.YNc(3,Ki,1,0,"ng-container",19),f.YNc(4,br,1,0,"span",20),f.qZA()()}if(2&N){const A=f.oxw().$implicit;f.Tol(A.headerStyleClass),f.Q6J("ngClass",f.WLB(16,po,A.selected,A.disabled))("ngStyle",A.headerStyle),f.xp6(1),f.Q6J("pTooltip",A.tooltip)("tooltipPosition",A.tooltipPosition)("positionStyle",A.tooltipPositionStyle)("tooltipStyleClass",A.tooltipStyleClass),f.uIk("id",A.id+"-label")("aria-selected",A.selected)("aria-controls",A.id)("aria-selected",A.selected)("tabindex",A.disabled?null:"0"),f.xp6(1),f.Q6J("ngIf",!A.headerTemplate),f.xp6(1),f.Q6J("ngTemplateOutlet",A.headerTemplate),f.xp6(1),f.Q6J("ngIf",A.closable)}}function cr(N,ce){1&N&&f.YNc(0,Yr,5,19,"li",15),2&N&&f.Q6J("ngIf",!ce.$implicit.closed)}function is(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"button",27,28),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.navForward())}),f._UZ(2,"span",29),f.qZA()}}const qr=function(N){return{"p-tabview p-component":!0,"p-tabview-scrollable":N}};let rr=0,hs=(()=>{class N{constructor(A,T,G){this.viewContainer=T,this.cd=G,this.cache=!0,this.tooltipPosition="top",this.tooltipPositionStyle="absolute",this.id="p-tabpanel-"+rr++,this.tabView=A}ngAfterContentInit(){this.templates.forEach(A=>{"header"===A.getType()?this.headerTemplate=A.template:this.contentTemplate=A.template})}get selected(){return this._selected}set selected(A){this._selected=A,this.loaded||this.cd.detectChanges(),A&&(this.loaded=!0)}get disabled(){return this._disabled}set disabled(A){this._disabled=A,this.tabView.cd.markForCheck()}get header(){return this._header}set header(A){this._header=A,this.tabView.updateInkBar(),this.tabView.cd.markForCheck()}get leftIcon(){return this._leftIcon}set leftIcon(A){this._leftIcon=A,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(A){this._rightIcon=A,this.tabView.cd.markForCheck()}ngOnDestroy(){this.view=null}}return N.\u0275fac=function(A){return new(A||N)(f.Y36((0,f.Gpc)(()=>oa)),f.Y36(f.s_b),f.Y36(f.sBO))},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-tabPanel"]],contentQueries:function(A,T,G){if(1&A&&f.Suo(G,Ne.jx,4),2&A){let oe;f.iGM(oe=f.CRH())&&(T.templates=oe)}},hostAttrs:[1,"p-element"],inputs:{closable:"closable",headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:"cache",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},ngContentSelectors:J,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(A,T){1&A&&(f.F$t(),f.YNc(0,xe,3,5,"div",0)),2&A&&f.Q6J("ngIf",!T.closed)},dependencies:[u.O5,u.tP],encapsulation:2}),N})(),oa=(()=>{class N{constructor(A,T){this.el=A,this.cd=T,this.orientation="top",this.onChange=new f.vpe,this.onClose=new f.vpe,this.activeIndexChange=new f.vpe,this.backwardIsDisabled=!0,this.forwardIsDisabled=!1}ngAfterContentInit(){this.initTabs(),this.tabPanels.changes.subscribe(A=>{this.initTabs()})}ngAfterViewChecked(){this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}open(A,T){if(T.disabled)A&&A.preventDefault();else{if(!T.selected){let G=this.findSelectedTab();G&&(G.selected=!1),this.tabChanged=!0,T.selected=!0;let oe=this.findTabIndex(T);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(oe),this.onChange.emit({originalEvent:A,index:oe}),this.updateScrollBar(oe)}A&&A.preventDefault()}}close(A,T){this.controlClose?this.onClose.emit({originalEvent:A,index:this.findTabIndex(T),close:()=>{this.closeTab(T)}}):(this.closeTab(T),this.onClose.emit({originalEvent:A,index:this.findTabIndex(T)})),A.stopPropagation()}closeTab(A){if(!A.disabled){if(A.selected){this.tabChanged=!0,A.selected=!1;for(let T=0;T<this.tabs.length;T++){let G=this.tabs[T];if(!G.closed&&!A.disabled){G.selected=!0;break}}}A.closed=!0}}findSelectedTab(){for(let A=0;A<this.tabs.length;A++)if(this.tabs[A].selected)return this.tabs[A];return null}findTabIndex(A){let T=-1;for(let G=0;G<this.tabs.length;G++)if(this.tabs[G]==A){T=G;break}return T}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(A){this._activeIndex=A,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(A))}updateInkBar(){if(this.navbar){let A=Le.p.findSingle(this.navbar.nativeElement,"li.p-highlight");this.inkbar.nativeElement.style.width=Le.p.getWidth(A)+"px",this.inkbar.nativeElement.style.left=Le.p.getOffset(A).left-Le.p.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(A){this.navbar.nativeElement.children[A].scrollIntoView({block:"nearest"})}updateButtonState(){const A=this.content.nativeElement,{scrollLeft:T,scrollWidth:G}=A,oe=Le.p.getWidth(A);this.backwardIsDisabled=0===T,this.forwardIsDisabled=parseInt(T)===G-oe}onScroll(A){this.scrollable&&this.updateButtonState(),A.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((A,T)=>T?A+Le.p.getWidth(T):A,0)}navBackward(){const A=this.content.nativeElement,T=Le.p.getWidth(A)-this.getVisibleButtonWidths(),G=A.scrollLeft-T;A.scrollLeft=G<=0?0:G}navForward(){const A=this.content.nativeElement,T=Le.p.getWidth(A)-this.getVisibleButtonWidths(),G=A.scrollLeft+T,oe=A.scrollWidth-T;A.scrollLeft=G>=oe?oe:G}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.SBq),f.Y36(f.sBO))},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-tabView"]],contentQueries:function(A,T,G){if(1&A&&f.Suo(G,hs,4),2&A){let oe;f.iGM(oe=f.CRH())&&(T.tabPanels=oe)}},viewQuery:function(A,T){if(1&A&&(f.Gf(V,5),f.Gf(B,5),f.Gf(le,5),f.Gf(Ue,5),f.Gf(nt,5)),2&A){let G;f.iGM(G=f.CRH())&&(T.content=G.first),f.iGM(G=f.CRH())&&(T.navbar=G.first),f.iGM(G=f.CRH())&&(T.prevBtn=G.first),f.iGM(G=f.CRH())&&(T.nextBtn=G.first),f.iGM(G=f.CRH())&&(T.inkbar=G.first)}},hostAttrs:[1,"p-element"],inputs:{orientation:"orientation",style:"style",styleClass:"styleClass",controlClose:"controlClose",scrollable:"scrollable",activeIndex:"activeIndex"},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},ngContentSelectors:J,decls:13,vars:9,consts:[[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["content",""],["role","tablist",1,"p-tabview-nav"],["navbar",""],["ngFor","",3,"ngForOf"],[1,"p-tabview-ink-bar"],["inkbar",""],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],["prevBtn",""],[1,"pi","pi-chevron-left"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","click","keydown.enter"],[4,"ngIf"],[4,"ngTemplateOutlet"],["class","p-tabview-close pi pi-times",3,"click",4,"ngIf"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-close","pi","pi-times",3,"click"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"],["nextBtn",""],[1,"pi","pi-chevron-right"]],template:function(A,T){1&A&&(f.F$t(),f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,Ft,3,0,"button",2),f.TgZ(3,"div",3,4),f.NdJ("scroll",function(oe){return T.onScroll(oe)}),f.TgZ(5,"ul",5,6),f.YNc(7,cr,1,1,"ng-template",7),f._UZ(8,"li",8,9),f.qZA()(),f.YNc(10,is,3,0,"button",10),f.qZA(),f.TgZ(11,"div",11),f.Hsn(12),f.qZA()()),2&A&&(f.Tol(T.styleClass),f.Q6J("ngClass",f.VKq(7,qr,T.scrollable))("ngStyle",T.style),f.xp6(2),f.Q6J("ngIf",T.scrollable&&!T.backwardIsDisabled),f.xp6(5),f.Q6J("ngForOf",T.tabs),f.xp6(3),f.Q6J("ngIf",T.scrollable&&!T.forwardIsDisabled))},dependencies:[u.mk,u.PC,u.O5,We.H,u.sg,ki.u,u.tP],styles:[".p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:flex;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}\n"],encapsulation:2,changeDetection:0}),N})(),di=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez,Ne.m8,ki.z,We.T],Ne.m8]}),N})();function aa(N,ce){if(1&N&&(f.ynx(0),f.TgZ(1,"p-tabPanel",3),f._UZ(2,"div",4),f.qZA(),f.BQk()),2&N){const A=ce.$implicit;f.xp6(1),f.s9C("header",A.key),f.xp6(1),f.Q6J("innerHTML",A.value,f.oJD)}}let la=(()=>{class N{constructor(A){this.changeDetector=A,this.tabViewContents=new Map,this.scrollableTabView=!0,this.scrollableTabView=!1}ngOnInit(){}createPageTabViewTemplate(A){this.tabViewContents=new Map;let T="",G="";console.log("entro nei panel"),A.childComponentsPageTutorialList?.forEach(oe=>{console.log("panel numero:  "+oe.componentClassCss),console.log("panel numero content:  "+oe.componentContent);let rt=[];void 0!==oe.tagOptions&&oe.tagOptions.length>0&&oe.tagOptions.forEach(en=>{G=""+en.optionValue}),G=oe.componentClassCss,T=oe.childComponentsPageTutorialList.length>0?this.createInnestedComponent(oe.childComponentsPageTutorialList):oe.componentContent,rt.push(T),rt.push("<p>sto <strong>cazzo</strong></p>"),this.tabViewContents.set(G,rt)})}createInnestedComponent(A){let T="";return A.forEach(G=>{if(G.childComponentsPageTutorialList.length>0){let oe="";oe=this.createInnestedComponent(G.childComponentsPageTutorialList);let rt="";rt=this.createOptionsTag(G),T+=`<${G.componentType} class="${G.componentClassCss}" id=""${G.componentIdCss} ${rt}>${oe}</${G.componentType}>`}else{let oe="";oe=this.createOptionsTag(G),T+=`<${G.componentType} class="${G.componentClassCss}" id=""${G.componentIdCss} ${oe}>${G.componentContent}</${G.componentType}>`}}),console.log("nel metodo: "+T),T}createOptionsTag(A){let T="";return console.log("nel metodo option "+A.tagOptions),null!=A.tagOptions&&A.tagOptions.length>0&&A.tagOptions?.forEach(G=>{T=T+" "+G.option+G.optionValue}),T}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.sBO))},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-tab-panel"]],decls:4,vars:4,consts:[[1,"tab-panel-templates"],[3,"scrollable"],[4,"ngFor","ngForOf"],[3,"header"],[1,"article",3,"innerHTML"]],template:function(A,T){1&A&&(f.TgZ(0,"div",0)(1,"p-tabView",1),f.YNc(2,aa,3,2,"ng-container",2),f.ALo(3,"keyvalue"),f.qZA()()),2&A&&(f.xp6(1),f.Q6J("scrollable",T.scrollableTabView),f.xp6(1),f.Q6J("ngForOf",f.lcZ(3,2,T.tabViewContents)))},dependencies:[u.sg,oa,hs,u.Nd],styles:[".tab-panel-templates p{font-size:70px}\n"],encapsulation:2}),N})();var Mr=k(9383);const ca=["tabbedPane"],Ds=["hiddenCode"];function mo(N,ce){1&N&&(f.TgZ(0,"div")(1,"div",3),f._UZ(2,"p-skeleton",4),f.qZA(),f._UZ(3,"br"),f.TgZ(4,"div",3),f._UZ(5,"p-skeleton",5),f.qZA(),f.TgZ(6,"div",3),f._UZ(7,"p-skeleton",6),f.qZA(),f.TgZ(8,"div",3),f._UZ(9,"p-skeleton",7),f.qZA(),f.TgZ(10,"div",3),f._UZ(11,"p-skeleton",8),f.qZA(),f.TgZ(12,"div",3),f._UZ(13,"p-skeleton",9),f.qZA(),f.TgZ(14,"div",3),f._UZ(15,"p-skeleton",10),f.qZA()())}function Ps(N,ce){if(1&N&&(f.ynx(0),f.TgZ(1,"p-tabPanel",20),f._UZ(2,"div",21),f.qZA(),f.BQk()),2&N){const A=ce.$implicit;f.xp6(1),f.s9C("header",A.key),f.xp6(1),f.Q6J("innerHTML",A.value,f.oJD)}}function fr(N,ce){if(1&N){const A=f.EpF();f.ynx(0),f._UZ(1,"br"),f.TgZ(2,"div",11)(3,"div",12)(4,"p-button",13),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.previousArgument())}),f._UZ(5,"i",14),f._uU(6),f.ALo(7,"translate"),f.qZA()(),f.TgZ(8,"div",15)(9,"p-button",16),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.nextArgument())}),f._uU(10),f.ALo(11,"translate"),f._UZ(12,"i",17),f.qZA()()(),f._UZ(13,"hr"),f.TgZ(14,"p-tabView",18),f.YNc(15,Ps,3,2,"ng-container",2),f.ALo(16,"keyvalue"),f.qZA(),f._UZ(17,"hr"),f.TgZ(18,"div",19)(19,"div",12)(20,"p-button",13),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.previousArgument())}),f._UZ(21,"i",14),f._uU(22),f.ALo(23,"translate"),f.qZA()(),f.TgZ(24,"div",15)(25,"p-button",16),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.nextArgument())}),f._uU(26),f.ALo(27,"translate"),f._UZ(28,"i",17),f.qZA()()(),f.BQk()}if(2&N){const A=f.oxw();f.xp6(6),f.hij(" ",f.lcZ(7,6,"ContentBodyTutorial.buttonPrevious")," "),f.xp6(4),f.hij(" ",f.lcZ(11,8,"ContentBodyTutorial.buttonNext")," "),f.xp6(4),f.Q6J("scrollable",!0),f.xp6(1),f.Q6J("ngForOf",f.lcZ(16,10,A.tabViewContents)),f.xp6(7),f.hij(" ",f.lcZ(23,12,"ContentBodyTutorial.buttonPrevious")," "),f.xp6(4),f.hij(" ",f.lcZ(27,14,"ContentBodyTutorial.buttonNext")," ")}}function ys(N,ce){if(1&N&&(f.TgZ(0,"div",24),f._UZ(1,"div",21)(2,"span",25,26)(4,"span",25,27),f.qZA()),2&N){const A=ce.$implicit,T=ce.index;f.xp6(1),f.Q6J("innerHTML",A,f.oJD),f.xp6(1),f.s9C("id",T),f.xp6(2),f.s9C("id",1e4*(T+1))}}function ur(N,ce){if(1&N){const A=f.EpF();f.TgZ(0,"div"),f._UZ(1,"br"),f.TgZ(2,"div",11)(3,"div",12)(4,"p-button",13),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.previousArgument())}),f._UZ(5,"i",14),f._uU(6),f.ALo(7,"translate"),f.qZA()(),f.TgZ(8,"div",15)(9,"p-button",16),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.nextArgument())}),f._uU(10),f.ALo(11,"translate"),f._UZ(12,"i",17),f.qZA()()(),f._UZ(13,"hr"),f.TgZ(14,"div",22),f.YNc(15,ys,6,3,"div",23),f.qZA(),f._UZ(16,"hr"),f.TgZ(17,"div",19)(18,"div",12)(19,"p-button",13),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.previousArgument())}),f._UZ(20,"i",14),f._uU(21),f.ALo(22,"translate"),f.qZA()(),f.TgZ(23,"div",15)(24,"p-button",16),f.NdJ("click",function(){f.CHM(A);const G=f.oxw();return f.KtG(G.nextArgument())}),f._uU(25),f.ALo(26,"translate"),f._UZ(27,"i",17),f.qZA()()()()}if(2&N){const A=f.oxw();f.xp6(6),f.hij(" ",f.lcZ(7,5,"ContentBodyTutorial.buttonPrevious")," "),f.xp6(4),f.hij(" ",f.lcZ(11,7,"ContentBodyTutorial.buttonNext")," "),f.xp6(5),f.Q6J("ngForOf",A.defaultContent),f.xp6(6),f.hij(" ",f.lcZ(22,9,"ContentBodyTutorial.buttonPrevious")," "),f.xp6(4),f.hij(" ",f.lcZ(26,11,"ContentBodyTutorial.buttonNext")," ")}}function sr(N,ce){if(1&N&&(f.TgZ(0,"div"),f._UZ(1,"hr")(2,"div",21),f.TgZ(3,"p"),f._uU(4),f.qZA(),f._UZ(5,"hr"),f.qZA()),2&N){const A=ce.$implicit;f.xp6(2),f.Q6J("innerHTML",A.value,f.oJD),f.xp6(2),f.AsE(" ",A.key," --\x3e ",A.value,"")}}let fs=(()=>{class N{constructor(A,T,G,oe,rt,en,Cn,ni,xi,yi,Un,ji){this.changeDetector=A,this.renderer=T,this.chapterJavaService=G,this.viewContainerRef=oe,this.sanitizer=rt,this.platformId=en,this.route=Cn,this.location=ni,this.metaService=xi,this.title=yi,this.urlPathService=Un,this.configLanguageService=ji,this.contentViewContainerRefToClear=new Map,this.contentViewContainerRefHiddenCodeToClear=new Map,this.defaultContent=[],this.tabViewContents=new Map,this.nestedTabViewContents=new Map,this.nestedHiddenCodeContents=new Map,this._gridOptions=new Map,this.boh=!0,this.p="p",this.b="p-tabPanel",this.lastChapterSelected=new q,console.log("COSTRUTTOREEEEEEEEEEEEEEEEEEEE"),(0,u.NF)(this.platformId)&&(this.chapterJavaService.idChapterSubChanged$?.subscribe(ar=>{console.log("COOOOODE: "+this.urlPathService.getCourseFromUrl(window.location.href)),this.location.replaceState("/"+this.urlPathService.getTargetPrefixUrl(window.location.href)+"/"+this.urlPathService.getCourseFromUrl(window.location.href)+"/chapter/"+ar.substring(0,ar.indexOf("."))+"/subchapter/"+ar+"/lang/"+ji.getBrowserLanguage()),console.log("sono nel body-contet. sotto capitolo cambiato: "+ar);let Ir=this.route.snapshot.paramMap.get("code");this.chapterJavaService.getPageBySubChapter(ar,Ir).subscribe(fi=>{this.contentViewContainerRefToClear.forEach((Ql,Xl)=>{Xl.clear(),Ql.destroy()}),this.tabViewContents=new Map,this.defaultContent=[],console.log("nel subscribe "),this.pageToShow=fi,this.title.setTitle(""+fi.subChapter?.subChapterTitle),this.createPage(this.pageToShow),this.chapterJavaService.youTubeVideoChanged(null!=fi.videoYouTubeId?fi.videoYouTubeId:"")})}),this.chapterJavaService.idChapterChanged$?.subscribe(ar=>{console.log("sono nel body-contet. capitolo cambiato: "+ar);let Ir=this.route.snapshot.paramMap.get("code");this.chapterJavaService.getPageByChapter(ar,Ir).subscribe(fi=>{this.location.replaceState("/"+this.urlPathService.getTargetPrefixUrl(window.location.href)+"/"+this.urlPathService.getCourseFromUrl(window.location.href)+"/chapter/"+ar+"/lang/"+this.configLanguageService.getBrowserLanguage()),this.contentViewContainerRefToClear.forEach((Ql,Xl)=>{Xl.clear(),Ql.destroy()}),this.tabViewContents=new Map,this.defaultContent=[],console.log(fi),this.pageToShow=fi,this.title.setTitle(""+fi.chapter?.chapterTitle),this.createPage(this.pageToShow),this.chapterJavaService.youTubeVideoChanged(null!=fi.videoYouTubeId?fi.videoYouTubeId:"")})}))}ngAfterViewInit(){this.components.changes.subscribe(()=>{this.createNestedTabView()}),this.componentsHiddenCode.changes.subscribe(()=>{this.createNestedHiddenCode()})}ngOnInit(){if((0,u.NF)(this.platformId)){console.log("-----------------------------BROWSER--------------------------------"+this.urlPathService.getCourseFromUrl(window.location.href));let A="1",T="",G="it",oe=this.urlPathService.getUrlPath(window.location.href);if(G=oe.includes("/it")?"it":oe.includes("/en")?"en":this.configLanguageService.getBrowserLanguage(),this.configLanguageService.forceSilecentUpdateLanguage(G),oe.includes("chapter"),oe.includes("chapter")?oe.includes("subchapter")?(console.log("il path iniziale contiene il subchapter"),A=this.urlPathService.getChapterFromUrlPath(oe),T=this.urlPathService.getSubChapterFromUrlPath(oe)):(console.log("il path iniziale non contiene subchapter"),A=this.urlPathService.getChapterFromUrlPath(oe)):(console.log("il path \xe8 quello base, inizializziamo ad 1"),A="1"),""==T){let rt=this.route.snapshot.paramMap.get("code");this.chapterJavaService.getPageByChapter(A,rt).subscribe(en=>{this.location.replaceState("/"+this.urlPathService.getTargetPrefixUrl(window.location.href)+"/"+this.urlPathService.getCourseFromUrl(window.location.href)+"/chapter/"+A+"/lang/"+G),this.contentViewContainerRefToClear.forEach((Cn,ni)=>{ni.clear(),Cn.destroy()}),this.chapterJavaService.notifyChangeFromTutorialBodyContent(A),this.tabViewContents=new Map,this.defaultContent=[],console.log(en),this.pageToShow=en,this.createPage(this.pageToShow),this.updateMetaTag(this.pageToShow,!0),this.chapterJavaService.youTubeVideoChanged(null!=en.videoYouTubeId?en.videoYouTubeId:"")})}else{let rt=this.route.snapshot.paramMap.get("code");this.chapterJavaService.getPageBySubChapter(T,rt).subscribe(en=>{this.location.replaceState("/"+this.urlPathService.getTargetPrefixUrl(window.location.href)+"/"+this.urlPathService.getCourseFromUrl(window.location.href)+"/chapter/"+T.substring(0,T.indexOf("."))+"/subchapter/"+T+"/lang/"+this.configLanguageService.getBrowserLanguage()),this.contentViewContainerRefToClear.forEach((Cn,ni)=>{ni.clear(),Cn.destroy()}),this.chapterJavaService.notifyChangeFromTutorialBodyContentAboutSubChapter(T),this.tabViewContents=new Map,this.defaultContent=[],console.log("nel subscribe "),this.pageToShow=en,this.updateMetaTag(this.pageToShow,!1),this.createPage(this.pageToShow),this.chapterJavaService.youTubeVideoChanged(null!=en.videoYouTubeId?en.videoYouTubeId:"")})}}if(console.log("quasi nel server"),(0,u.PM)(this.platformId)){console.log("quasi nel server "+this.route.snapshot.paramMap.get("code")),console.log("-----------------SERVER-----------------");let A="1",T="",G="it";console.log("sto per chiamare il metodo");let oe=this.getUrlPath();console.log("urlPath: "+oe),console.log("urlPath: "+oe.includes("subchapter")),oe.includes("it")&&(G="it"),oe.includes("en")&&(G="en"),this.configLanguageService.forceSilecentUpdateLanguage(G),this.chapterJavaService.changeSilentLanguageONLYSSRBUILD(G),oe.includes("chapter")?oe.includes("subchapter")?(console.log("il path iniziale contiene il subchapter"),A=this.getChapterFromUrlPath(),T=this.getSubChapterFromUrlPath()):(console.log("il path iniziale non contiene subchapter"),A=this.getChapterFromUrlPath()):(console.log("il path \xe8 quello base, inizializziamo ad 1"),A="1"),console.log("DOPO IL CONTROLLO DELL'URL");let rt=this.route.snapshot.paramMap.get("code");if(""==T)this.chapterJavaService.getPageByChapter(A,rt).subscribe(en=>{console.log("CHAPTER CHANGE URL"),this.location.replaceState("/"+this.urlPathService.getTargetPrefixUrl(window.location.href)+"/"+rt+"/chapter/"+A+"/lang/"+G),console.log("CHAPTER AFTER CHANGE URL"),this.contentViewContainerRefToClear.forEach((Cn,ni)=>{ni.clear(),Cn.destroy()}),this.chapterJavaService.notifyChangeFromTutorialBodyContent(A),this.tabViewContents=new Map,this.defaultContent=[],console.log(en),this.pageToShow=en,this.createPage(this.pageToShow),this.updateMetaTag(this.pageToShow,!0),this.chapterJavaService.youTubeVideoChanged(null!=en.videoYouTubeId?en.videoYouTubeId:"")});else{let en=this.route.snapshot.paramMap.get("code");this.chapterJavaService.getPageBySubChapter(T,en).subscribe(Cn=>{console.log("SUBCHAPTER "+T),this.contentViewContainerRefToClear.forEach((ni,xi)=>{xi.clear(),ni.destroy()}),console.log("AFTER CLEAR AND DESTROY"),console.log("NOTIFICATION"),this.chapterJavaService.notifyChangeFromTutorialBodyContentAboutSubChapter(T),this.tabViewContents=new Map,this.defaultContent=[],console.log("nel subscribe "),this.pageToShow=Cn,this.updateMetaTag(this.pageToShow,!1),this.createPage(this.pageToShow),this.chapterJavaService.youTubeVideoChanged(null!=Cn.videoYouTubeId?Cn.videoYouTubeId:"")})}}}createPage(A){"p-tabView"==A.compontentsPage[0].componentType?(A.compontentsPage?.forEach(T=>{T.childComponentsPageTutorialList?.forEach(G=>{})}),console.log("finitoooooooooooooooooooooo"),this.createPageTabViewTemplate(A),this.createNestedTabView()):(this.createPageDefaultTemplate(A),this.createNestedTabView(),this.createNestedHiddenCode())}createPageDefaultTemplate(A){console.log("prima del forEach"),this.nestedTabViewContents=new Map,this.nestedHiddenCodeContents=new Map;let G=0;A.compontentsPage?.forEach(oe=>{if(oe.childComponentsPageTutorialList.length>0){let rt="";"p-tabView"!=oe.componentType?"hiddenCode"!=oe.componentType?(rt=this.createInnestedComponent(oe.childComponentsPageTutorialList),this.defaultContent.push(`<${oe.componentType} class="${oe.componentClassCss}" id="${oe.componentIdCss}">${rt}</${oe.componentType}>`)):(oe.childComponentsPageTutorialList?.forEach(en=>{G=en.id}),this.nestedHiddenCodeContents.set(1e4*(this.defaultContent.length-1+1),oe)):(console.log("qui c'\xe8 una cazzo di tab e dobbiamo fare qualcosa "+this.nestedTabViewContents.size),this.nestedTabViewContents.set(this.defaultContent.length-1,oe))}else oe.id!=G&&this.defaultContent.push(`<${oe.componentType} class="${oe.componentClassCss}" id="${oe.componentIdCss}">${oe.componentContent}</${oe.componentType}>`)})}createPageTabViewTemplate(A){A.compontentsPage?.forEach(T=>{let G="",oe="";console.log("entro nei panel"),T.childComponentsPageTutorialList?.forEach(rt=>{let en=[];void 0!==rt.tagOptions&&rt.tagOptions.length>0&&rt.tagOptions.forEach(Cn=>{oe=""+Cn.optionValue}),G=rt.childComponentsPageTutorialList.length>0?this.createInnestedComponent(rt.childComponentsPageTutorialList):rt.componentContent,en.push(G),en.push("<p>sto <strong>cazzo</strong></p>"),this.tabViewContents.set(oe,en)})})}createInnestedComponent(A){let T="";return console.log("nel metodo"),A.forEach(G=>{if(G.childComponentsPageTutorialList.length>0){let oe="";oe=this.createInnestedComponent(G.childComponentsPageTutorialList);let rt="";rt=this.createOptionsTag(G),T+=`<${G.componentType} class="${G.componentClassCss}" id=""${G.componentIdCss} ${rt}>${oe}</${G.componentType}>`}else{let oe="";oe=this.createOptionsTag(G),T+=`<${G.componentType} class="${G.componentClassCss}" id=""${G.componentIdCss} ${oe}>${G.componentContent}</${G.componentType}>`}}),T}createOptionsTag(A){let T="";return null!=A.tagOptions&&A.tagOptions.length>0&&A.tagOptions?.forEach(G=>{T=T+" "+G.option+G.optionValue}),T}createNestedTabView(){console.log("ngAfterViewInit");let A=[];this.contentViewContainerRefToClear=new Map,console.log("sto per partire. pronti...partenza..."),this.nestedTabViewContents.forEach((T,G)=>{this.components.forEach(oe=>{if(oe.element.nativeElement.id==G){let rt=oe.createComponent(la);[].push(T.componentType),rt.instance.createPageTabViewTemplate(T),this.contentViewContainerRefToClear.set(oe,rt),A.push(G)}}),A.forEach(oe=>{this.nestedTabViewContents.delete(oe)})}),this.changeDetector.detectChanges()}createNestedHiddenCode(){console.log("create hidden code nested");let A=[];this.contentViewContainerRefHiddenCodeToClear=new Map,console.log("sto per partire. pronti...partenza..."),this.nestedHiddenCodeContents.forEach((T,G)=>{this.componentsHiddenCode.forEach(oe=>{if(oe.element.nativeElement.id==G){let rt=oe.createComponent(zi);[].push(T.componentType),rt.instance.createPageHiddenCodeTemplate(T),this.contentViewContainerRefHiddenCodeToClear.set(oe,rt),A.push(G)}})}),A.forEach(T=>{this.nestedHiddenCodeContents.delete(T)}),this.changeDetector.detectChanges()}previousArgument(){console.log("previous"),this.chapterJavaService.previousChapter("1"),this.goOnTop()}nextArgument(){console.log("next"),this.chapterJavaService.nextChapter("1"),this.goOnTop()}goOnTop(){window.pageYOffset>100&&window.scrollTo(0,100)}getUrlPath(){console.log("sto per usare route");var A="{"+this.route+"}";return console.log("ho usato route"),JSON.parse(A.replace("Route(","").replace(")","").replace("url",'"url"').replace("path",'"path"').replace("'",'"').replace("'",'"').replace("'",'"').replace("'",'"')).url}getChapterFromUrlPath(){let A=this.getUrlPath(),T=A.substring(A.indexOf("chapter/"),A.length).replace("chapter/","").replace("/","\xa3");return console.log("subString of url for the chapte: "+T.substring(0,T.indexOf("\xa3"))),T.substring(0,T.indexOf("\xa3"))}getSubChapterFromUrlPath(){let A=this.getUrlPath(),T=A.substring(A.indexOf("subchapter/"),A.length).replace("subchapter/","").replace("/","\xa3");return console.log("subString of url for the chapte: "+T.substring(0,T.indexOf("\xa3"))),T.substring(0,T.indexOf("\xa3"))}getCourseFromUrlPath(){let A=this.getUrlPath(),T=A.substring(A.indexOf(this.urlPathService.getTargetPrefixUrl(window.location.href)+"/"),A.length).replace(this.urlPathService.getTargetPrefixUrl(window.location.href)+"/","").replace("/","\xa3");return console.log("subString of url for the chapte: "+T.substring(0,T.indexOf("\xa3"))),T.includes("\xa3")?T.substring(0,T.indexOf("\xa3")):T.substring(0,T.length)}updateMetaTag(A,T){console.log("SIAMO NEL METATAG"),T?(console.log("\xe8 un capitolo il titolo \xe8: "+A.chapter?.chapterTitle),this.metaService.updateTag({property:"og:title",content:""+A.chapter?.chapterTitle}),this.title.setTitle(""+A.chapter?.chapterTitle)):(console.log("\xe8 un sotto capitolo il titolo \xe8: "+A.subChapter?.subChapterTitle),this.title.setTitle(""+A.subChapter?.subChapterTitle),this.metaService.updateTag({property:"og:title",content:""+A.subChapter?.subChapterTitle})),console.log("meta: "+A.metaTags),null!=A.metaTags&&null!=A.metaTags&&A.metaTags.forEach(G=>{"name"==G.metaTypeName&&this.metaService.updateTag({name:""+G.metaType,content:""+G.content}),"property"==G.metaTypeName&&this.metaService.updateTag({property:""+G.metaType,content:""+G.content}),"itemprop"==G.metaTypeName&&this.metaService.updateTag({itemprop:""+G.metaType,content:""+G.content})})}showHide(){console.log("show hide")}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(Z.h),f.Y36(f.s_b),f.Y36(X.H7),f.Y36(f.Lbi),f.Y36($.gz),f.Y36(u.Ye),f.Y36(X.h_),f.Y36(X.Dx),f.Y36(ne.i),f.Y36(ue.t))},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-tutorial-body-content"]],viewQuery:function(A,T){if(1&A&&(f.Gf(ca,5,f.s_b),f.Gf(Ds,5,f.s_b)),2&A){let G;f.iGM(G=f.CRH())&&(T.components=G),f.iGM(G=f.CRH())&&(T.componentsHiddenCode=G)}},decls:6,vars:6,consts:[[1,"tutorialBodyContent"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"skeleton"],["width","50%","height","2rem","styleClass","mb-2","borderRadius","16px"],["width","80%","styleClass","mb-2","borderRadius","16px"],["width","70%","styleClass","mb-1","borderRadius","16px"],["width","85%","styleClass","mb-2","borderRadius","16px"],["width","55%","styleClass","mb-2","borderRadius","16px"],["width","10rem","styleClass","mb-2","borderRadius","16px"],["width","5rem","styleClass","mb-2","borderRadius","16px"],[1,"buttonNavigate"],[1,"contentButtonPrevious"],[1,"buttonPrevious",3,"click"],[1,"pi","pi-angle-left"],[1,"contentButtonNext"],[1,"buttonNext",3,"click"],[1,"pi","pi-angle-right"],[3,"scrollable"],[1,"buttonNavigate","onTheBottom"],[3,"header"],[1,"article",3,"innerHTML"],[1,"contentTutorialChapter"],["class","defaultTutorialContent",4,"ngFor","ngForOf"],[1,"defaultTutorialContent"],[3,"id"],["tabbedPane",""],["hiddenCode",""]],template:function(A,T){1&A&&(f.TgZ(0,"div",0),f.YNc(1,mo,16,0,"div",1),f.YNc(2,fr,29,16,"ng-container",1),f.YNc(3,ur,28,13,"div",1),f.YNc(4,sr,6,3,"div",2),f.ALo(5,"keyvalue"),f.qZA()),2&A&&(f.xp6(1),f.Q6J("ngIf",0==T.tabViewContents.size&&0==T.defaultContent.length),f.xp6(1),f.Q6J("ngIf",T.tabViewContents.size>0),f.xp6(1),f.Q6J("ngIf",!(T.tabViewContents.size>0)&&T.defaultContent.length>0),f.xp6(1),f.Q6J("ngForOf",f.lcZ(5,4,T._gridOptions)))},dependencies:[u.sg,u.O5,Fi.zx,oa,hs,Ni,u.Nd,Mr.X$],styles:['.tutorialBodyContent{color:var(--text-color-content-tutorial)}.tutorialBodyContent .provaaa{font-size:100px;display:none}.tutorialBodyContent .contentTutorialChapter{padding:5px}.tutorialBodyContent .contentTutorialChapter p{display:block;margin-block-start:1em;margin-block-end:1em;margin-inline-start:0px;margin-inline-end:0px}.tutorialBodyContent .contentTutorialChapter .chapterTitle{font-family:var(--font-family-global);margin-bottom:25px;font-size:80px;text-align:center}.tutorialBodyContent .contentTutorialChapter .generalSettings{margin-bottom:10px;font-size:28px;font-family:var(--font-family-global);line-height:30px}.tutorialBodyContent .contentTutorialChapter .generalSettings a{color:var(--link-color);transition:var(--transition-delay)}.tutorialBodyContent .contentTutorialChapter .generalSettings a:hover{color:#0af}.tutorialBodyContent .contentTutorialChapter .imageCourse{width:80%;max-width:800px;margin:0 auto 30px;text-align:center;border:1px solid black}.tutorialBodyContent .contentTutorialChapter .imageCourse img{width:100%;height:auto}.tutorialBodyContent .contentTutorialChapter .imageCourse .imageDescription{font-family:var(--font-family-global);font-size:12px;text-align:left;margin-top:-35px;margin-bottom:0}.tutorialBodyContent .contentTutorialChapter .evidenceArgument{margin:50px auto 20px;border:2px solid black;background-color:#0000001a;border-radius:20px;width:90%}.tutorialBodyContent .contentTutorialChapter .evidenceArgument .contentUsedLegend{float:left;margin-top:-30px;margin-left:-30px;border-radius:50%;width:90px;height:90px}.tutorialBodyContent .contentTutorialChapter .evidenceArgument .contentUsedLegend .iconLegend{width:100px;height:100px;border-left:1px solid black}.tutorialBodyContent .contentTutorialChapter .evidenceArgument .contentUsedLegend .usedLegend{border:none;position:relative;left:-5px;top:-5px}.tutorialBodyContent .contentTutorialChapter .evidenceArgument .evidenceArgumentDescription{text-indent:10px;margin-left:10px;margin-right:10px;margin-bottom:25px}.tutorialBodyContent .contentTutorialChapter .listSettings{margin-bottom:25px;margin-top:25px;margin-left:7%}.tutorialBodyContent .contentTutorialChapter .listSettings li:not(:last-child){margin-bottom:5px}.tutorialBodyContent .contentTutorialChapter .listToListSettings{margin-left:7%}.tutorialBodyContent .contentTutorialChapter .greetings{margin-bottom:25px;margin-top:35px}.tutorialBodyContent .contentTutorialChapter .codeblock{width:90%;margin-top:40px;margin-bottom:60px;margin-left:20px;border-left:7px solid var(--navbar-color);background-color:#7c777734;padding-top:1px;padding-bottom:1px;overflow:auto;box-shadow:5px 5px 15px 1px #0000004d}.tutorialBodyContent .contentTutorialChapter .codeblock ol{min-width:700px;list-style:none;list-style-type:decimal;list-style-position:outside!important;counter-reset:item}.tutorialBodyContent .contentTutorialChapter .codeblock li{margin-top:8px;display:block;margin-left:2em;position:relative}.tutorialBodyContent .contentTutorialChapter .codeblock li .singleComment{color:var(--comment-single-line)}.tutorialBodyContent .contentTutorialChapter .codeblock li:before{display:inline-block;counter-increment:item;content:counter(item);position:absolute;right:100%;margin-right:10px;top:0}.tutorialBodyContent .contentTutorialChapter .codeblock .singleLi:before{content:""}.tutorialBodyContent .contentTutorialChapter .codeblock .tab1{margin-left:70px}.tutorialBodyContent .contentTutorialChapter .codeblock .tab2{margin-left:140px}.tutorialBodyContent .contentTutorialChapter .codeblock .keyword{color:var(--keword-color)}.tutorialBodyContent .contentTutorialChapter .codeblock .className{color:var(--className-color)}.tutorialBodyContent .contentTutorialChapter .codeblock .methodName{color:var(--methodName-color)}.tutorialBodyContent .contentTutorialChapter .codeblock .stringArgument{color:#2a9201e0}.tutorialBodyContent .contentTutorialChapter .textFormat{font-size:20px}.tutorialBodyContent .contentTutorialChapter .contentLegend{box-shadow:5px 5px 15px 5px #0000008f;margin-top:20px;margin-bottom:20px;width:500px;margin-left:35px}.tutorialBodyContent .contentTutorialChapter .contentLegend .contentIconLegend{display:flex;border:1px solid black}.tutorialBodyContent .contentTutorialChapter .contentLegend .contentIconLegend .textLegend{padding-top:35px;padding-left:25px;margin:0}.tutorialBodyContent .contentTutorialChapter .contentLegend .contentIconLegend .iconLegend{width:100px;height:100px;border-right:1px solid black}.tutorialBodyContent .contentTutorialChapter .tooltip{position:relative;display:inline-block;border-bottom:1px dotted black}.tutorialBodyContent .contentTutorialChapter .tooltip .tooltiptext{visibility:hidden;width:240px;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:5px 0;position:absolute;z-index:1;bottom:125%;left:20%;margin-left:-60px;opacity:0;transition:opacity .3s}.tutorialBodyContent .contentTutorialChapter .tooltip .tooltiptext:after{content:attr(data-tooltip);position:absolute;top:100%;left:30%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent transparent}.tutorialBodyContent .contentTutorialChapter .tooltip:hover .tooltiptext{content:attr(data-tooltip);visibility:visible;opacity:1;box-shadow:5px 5px 15px 5px #0000008f}.tutorialBodyContent .contentTutorialChapter .defaultTutorialContent{margin-left:20px;margin-right:20px}.tutorialBodyContent .skeleton{margin:10px!important}hr{border:0;border-top:1px solid #eee;margin:20px 16px}.buttonNavigate{display:flex;justify-content:flex-end;align-items:center}.buttonNavigate .p-button{background-color:var(--navbar-color);transition:var(--transition-delay);color:var(--text-color);border:1px solid #9f9e9e;box-shadow:-6px 8px 10px var(--button-tutorial-navigate-first-shadow-color),0 2px 2px var(--button-tutorial-navigate-second-shadow-color)}.buttonNavigate .p-button:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:var(--text-color)}.buttonNavigate .p-button:enabled:focus{outline:0 none!important;outline-offset:0!important}.buttonNavigate .p-button:enabled:active{color:#13df3f;background-color:var(--navbar-color)!important;box-shadow:-6px 8px 10px #51290a1a,0 2px 2px #51290a1a}.contentButtonPrevious{margin-right:auto}.contentButtonPrevious .p-button{margin-left:30px}.contentButtonPrevious .p-button i{margin-right:7px;margin-top:3px}.contentButtonNext .p-button{margin-right:30px}.contentButtonNext .p-button i{margin-left:7px;margin-top:3px}.onTheBottom{margin-bottom:30px}.reddo{background-color:#000;color:red}.red{background-color:red;color:#fff}.headerTop{text-align:center;margin-top:10px}.topTitle{text-align:center}.subTitle{margin-left:20px}.subBodyContaine{margin-left:10px;margin-right:10px}ul.ui-tabview-nav li:first-child span,.ui-tabview-title{color:red}@media screen and (max-width: 768px){.tutorialBodyContent .contentTutorialChapter .generalSettings{font-size:22px!important}.tutorialBodyContent .contentTutorialChapter .imageCourse{width:90%}.tutorialBodyContent .contentTutorialChapter .contentLegend{width:400px;margin-left:5px}}@media screen and (max-width: 480px){.tutorialBodyContent .contentTutorialChapter .generalSettings{font-size:19px!important}.tutorialBodyContent .contentTutorialChapter .chapterTitle{font-size:50px}.tutorialBodyContent .contentTutorialChapter .imageCourse{width:99%}.tutorialBodyContent .contentTutorialChapter .imageCourse .imageDescription{font-size:9px!important}.tutorialBodyContent .contentTutorialChapter .codeblock ol{min-width:500px}.tutorialBodyContent .contentTutorialChapter .contentLegend{width:309px;margin-left:-10px}.tutorialBodyContent .contentTutorialChapter .contentLegend .contentIconLegend .textLegend{padding-top:27px}.tutorialBodyContent .contentTutorialChapter .codeblock li{margin-left:3px}}\n'],encapsulation:2}),N})();var Ro=k(4968),$s=k(8675),gr=k(4004);function ua(N){const ce=window.matchMedia(N);return(0,Ro.R)(ce,"change").pipe((0,$s.O)(ce),(0,gr.U)(A=>A.matches))}var Os=k(7340);function Bl(N,ce){if(1&N&&(f.TgZ(0,"span",9),f._uU(1),f.qZA()),2&N){const A=f.oxw();f.xp6(1),f.hij(" ",A.header," ")}}function Co(N,ce){1&N&&f.GkF(0)}function Tc(N,ce){1&N&&f.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function rs(N,ce){1&N&&f.GkF(0)}function Ec(N,ce){if(1&N&&(f.ynx(0),f.YNc(1,rs,1,0,"ng-container",5),f.BQk()),2&N){const A=f.oxw();f.xp6(1),f.Q6J("ngTemplateOutlet",A.contentTemplate)}}const Dc=["*",[["p-header"]]],Yd=function(N){return{"p-accordion-tab-active":N}},Pc=function(N,ce){return{"p-highlight":N,"p-disabled":ce}},Ul=function(N){return{transitionParams:N}},Du=function(N){return{value:"visible",params:N}},Oc=function(N){return{value:"hidden",params:N}},Lc=["*","p-header"],Zs=["*"];let No=0,Ya=(()=>{class N{constructor(A,T){this.changeDetector=T,this.cache=!0,this.selectedChange=new f.vpe,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="p-accordiontab-"+No++,this.accordion=A}get selected(){return this._selected}set selected(A){this._selected=A,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}ngAfterContentInit(){this.templates.forEach(A=>{switch(A.getType()){case"content":default:this.contentTemplate=A.template;break;case"header":this.headerTemplate=A.template}})}toggle(A){if(this.disabled)return!1;let T=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:A,index:T});else{if(!this.accordion.multiple)for(var G=0;G<this.accordion.tabs.length;G++)this.accordion.tabs[G].selected&&(this.accordion.tabs[G].selected=!1,this.accordion.tabs[G].selectedChange.emit(!1),this.accordion.tabs[G].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:A,index:T})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),A.preventDefault()}findTabIndex(){let A=-1;for(var T=0;T<this.accordion.tabs.length;T++)if(this.accordion.tabs[T]==this){A=T;break}return A}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(A){(32===A.which||13===A.which)&&(this.toggle(A),A.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}}return N.\u0275fac=function(A){return new(A||N)(f.Y36((0,f.Gpc)(()=>Vl)),f.Y36(f.sBO))},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-accordionTab"]],contentQueries:function(A,T,G){if(1&A&&(f.Suo(G,Ne.h4,4),f.Suo(G,Ne.jx,4)),2&A){let oe;f.iGM(oe=f.CRH())&&(T.headerFacet=oe),f.iGM(oe=f.CRH())&&(T.templates=oe)}},hostAttrs:[1,"p-element"],inputs:{header:"header",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:Lc,decls:11,vars:28,consts:[[1,"p-accordion-tab",3,"ngClass"],[1,"p-accordion-header",3,"ngClass"],["role","tab",1,"p-accordion-header-link",3,"click","keydown"],[1,"p-accordion-toggle-icon",3,"ngClass"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],[4,"ngIf"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content"],[1,"p-accordion-header-text"]],template:function(A,T){1&A&&(f.F$t(Dc),f.TgZ(0,"div",0)(1,"div",1)(2,"a",2),f.NdJ("click",function(oe){return T.toggle(oe)})("keydown",function(oe){return T.onKeydown(oe)}),f._UZ(3,"span",3),f.YNc(4,Bl,2,1,"span",4),f.YNc(5,Co,1,0,"ng-container",5),f.YNc(6,Tc,1,0,"ng-content",6),f.qZA()(),f.TgZ(7,"div",7)(8,"div",8),f.Hsn(9),f.YNc(10,Ec,2,1,"ng-container",6),f.qZA()()()),2&A&&(f.Q6J("ngClass",f.VKq(15,Yd,T.selected)),f.xp6(1),f.Q6J("ngClass",f.WLB(17,Pc,T.selected,T.disabled)),f.xp6(1),f.uIk("tabindex",T.disabled?null:0)("id",T.id)("aria-controls",T.id+"-content")("aria-expanded",T.selected),f.xp6(1),f.Q6J("ngClass",T.selected?T.accordion.collapseIcon:T.accordion.expandIcon),f.xp6(1),f.Q6J("ngIf",!T.hasHeaderFacet),f.xp6(1),f.Q6J("ngTemplateOutlet",T.headerTemplate),f.xp6(1),f.Q6J("ngIf",T.hasHeaderFacet),f.xp6(1),f.Q6J("@tabContent",T.selected?f.VKq(22,Du,f.VKq(20,Ul,T.transitionOptions)):f.VKq(26,Oc,f.VKq(24,Ul,T.transitionOptions))),f.uIk("id",T.id+"-content")("aria-hidden",!T.selected)("aria-labelledby",T.id),f.xp6(3),f.Q6J("ngIf",T.contentTemplate&&(T.cache?T.loaded:T.selected)))},dependencies:[u.mk,u.O5,u.tP],styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}\n"],encapsulation:2,data:{animation:[(0,Os.X$)("tabContent",[(0,Os.SB)("hidden",(0,Os.oB)({height:"0",overflow:"hidden"})),(0,Os.SB)("visible",(0,Os.oB)({height:"*"})),(0,Os.eR)("visible <=> hidden",[(0,Os.oB)({overflow:"hidden"}),(0,Os.jt)("{{transitionParams}}")]),(0,Os.eR)("void => *",(0,Os.jt)(0))])]},changeDetection:0}),N})(),Vl=(()=>{class N{constructor(A,T){this.el=A,this.changeDetector=T,this.onClose=new f.vpe,this.onOpen=new f.vpe,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.activeIndexChange=new f.vpe,this.tabs=[]}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(A=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}get activeIndex(){return this._activeIndex}set activeIndex(A){this._activeIndex=A,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let A=0;A<this.tabs.length;A++){let T=this.multiple?this._activeIndex.includes(A):A===this._activeIndex;T!==this.tabs[A].selected&&(this.tabs[A].selected=T,this.tabs[A].selectedChange.emit(T),this.tabs[A].changeDetector.markForCheck())}}updateActiveIndex(){let A=this.multiple?[]:null;this.tabs.forEach((T,G)=>{if(T.selected){if(!this.multiple)return void(A=G);A.push(G)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(A)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.SBq),f.Y36(f.sBO))},N.\u0275cmp=f.Xpm({type:N,selectors:[["p-accordion"]],contentQueries:function(A,T,G){if(1&A&&f.Suo(G,Ya,4),2&A){let oe;f.iGM(oe=f.CRH())&&(T.tabList=oe)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:Zs,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(A,T){1&A&&(f.F$t(),f.TgZ(0,"div",0),f.Hsn(1),f.qZA()),2&A&&(f.Tol(T.styleClass),f.Q6J("ngClass","p-accordion p-component")("ngStyle",T.style))},dependencies:[u.mk,u.PC],encapsulation:2,changeDetection:0}),N})(),qa=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez],Ne.m8]}),N})();var Ar=k(7579),Ls=k(1135),da=k(9646),Rs=k(9751),ss=k(576),Ka=k(3268);function Ao(N,ce,A){return A?Ao(N,ce).pipe((0,Ka.Z)(A)):new Rs.y(T=>{const G=(...rt)=>T.next(1===rt.length?rt[0]:rt),oe=N(G);return(0,ss.m)(ce)?()=>ce(G,oe):void 0})}var Kr=k(9841),Ns=k(9635),Ja=k(6451),Fs=k(5698),Hl=k(8505),Qa=k(2722),Ys=k(4033),zl=k(2076),dr=k(4482);const fa={connector:()=>new Ar.x};function ga(N,ce=fa){const{connector:A}=ce;return(0,dr.e)((T,G)=>{const oe=A();(0,zl.D)(N(function ha(N){return new Rs.y(ce=>N.subscribe(ce))}(oe))).subscribe(G),G.add(T.subscribe(oe))})}var Wi=k(3900),Gl=k(5577),Wl=k(5403),ks=k(8421),Br=k(4671),Rc=k(5032),el=k(3269);function _o(...N){const ce=(0,el.jO)(N);return(0,dr.e)((A,T)=>{const G=N.length,oe=new Array(G);let rt=N.map(()=>!1),en=!1;for(let Cn=0;Cn<G;Cn++)(0,ks.Xf)(N[Cn]).subscribe((0,Wl.x)(T,ni=>{oe[Cn]=ni,!en&&!rt[Cn]&&(rt[Cn]=!0,(en=rt.every(Br.y))&&(rt=null))},Rc.Z));A.subscribe((0,Wl.x)(T,Cn=>{if(en){const ni=[Cn,...oe];T.next(ce?ce(...ni):ni)}}))})}var vi=k(5026),jl=k(1884);const{isArray:Fo}=Array;function $l(N){return 1===N.length&&Fo(N[0])?N[0]:N}function bs(...N){const ce=(0,el.jO)(N);return ce?(0,Ns.z)(bs(...N),(0,Ka.Z)(ce)):(0,dr.e)((A,T)=>{(0,Kr.l)([A,...$l(N)])(T)})}var xr=k(9300);const _n=["youtubeContainer"];let Zl=(()=>{class N{constructor(A,T){this._ngZone=A,this._youtubeContainer=new Ar.x,this._destroyed=new Ar.x,this._playerChanges=new Ls.X(void 0),this._videoId=new Ls.X(void 0),this._height=new Ls.X(390),this._width=new Ls.X(640),this._startSeconds=new Ls.X(void 0),this._endSeconds=new Ls.X(void 0),this._suggestedQuality=new Ls.X(void 0),this._playerVars=new Ls.X(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=(0,u.NF)(T)}get videoId(){return this._videoId.value}set videoId(A){this._videoId.next(A)}get height(){return this._height.value}set height(A){this._height.next(A||390)}get width(){return this._width.value}set width(A){this._width.next(A||640)}set startSeconds(A){this._startSeconds.next(A)}set endSeconds(A){this._endSeconds.next(A)}set suggestedQuality(A){this._suggestedQuality.next(A)}get playerVars(){return this._playerVars.value}set playerVars(A){this._playerVars.next(A)}ngOnInit(){if(!this._isBrowser)return;let A=(0,da.of)(!0);if(!window.YT||!window.YT.Player){const G=new Ar.x;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>G.next(!0))},A=G.pipe((0,Fs.q)(1),(0,$s.O)(!1))}const T=function nl(N,ce,A,T,G,oe,rt){const en=(0,Kr.a)([ce,oe]).pipe(_o((0,Kr.a)([T,G])),(0,gr.U)(([Cn,ni])=>{const[xi,yi]=Cn,[Un,ji]=ni;return xi?{videoId:xi,playerVars:yi,width:Un,height:ji}:void 0}));return(0,Kr.a)([N,en,(0,da.of)(rt)]).pipe(function qs(N){return(0,Ns.z)(bs(N),function ko(N){return(0,dr.e)((ce,A)=>{let T=!1,G=0;ce.subscribe((0,Wl.x)(A,oe=>(T||(T=!N(oe,G++)))&&A.next(oe)))})}(([ce,A])=>!A),(0,gr.U)(([ce])=>ce))}(A),(0,vi.R)(Tt,void 0),(0,jl.x)())}(this._youtubeContainer,this._videoId,A,this._width,this._height,this._playerVars,this._ngZone).pipe((0,Hl.b)(G=>{this._playerChanges.next(G)}),function Bo(N){return(0,Gl.z)(ce=>ce?Bs(ce)?(0,da.of)(ce):new Rs.y(A=>{let T=!1,G=!1;const oe=rt=>{G=!0,T||(rt.target.removeEventListener("onReady",oe),A.next(rt.target))};return ce.addEventListener("onReady",oe),()=>{T=!0,G||N(ce)}}).pipe((0,Fs.q)(1),(0,$s.O)(void 0)):(0,da.of)(void 0))}(G=>{Bs(G)||G.destroy()}),(0,Qa.R)(this._destroyed),function Xa(N){return N?ce=>ga(N)(ce):ce=>function Io(N,ce){const A=(0,ss.m)(N)?N:()=>N;return(0,ss.m)(ce)?ga(ce,{connector:A}):T=>new Ys.c(T,A)}(new Ar.x)(ce)}());T.subscribe(G=>{this._player=G,G&&this._pendingPlayerState&&this._initializePlayer(G,this._pendingPlayerState),this._pendingPlayerState=void 0}),function tl(N,ce,A){(0,Kr.a)([N,ce,A]).subscribe(([T,G,oe])=>T&&T.setSize(G,oe))}(T,this._width,this._height),function pa(N,ce){(0,Kr.a)([N,ce]).subscribe(([A,T])=>A&&T&&A.setPlaybackQuality(T))}(T,this._suggestedQuality),function qn(N,ce,A,T,G,oe){const rt=(0,Kr.a)([A,T]).pipe((0,gr.U)(([xi,yi])=>({startSeconds:xi,endSeconds:yi}))),en=rt.pipe(Di(N,xi=>!!xi&&!function Fc(N){const ce=N.getPlayerState();return ce!==YT.PlayerState.UNSTARTED&&ce!==YT.PlayerState.CUED}(xi))),Cn=ce.pipe(Di(N,(xi,yi)=>!!xi&&xi.videoId!==yi)),ni=N.pipe(Di((0,Kr.a)([ce,rt]),([xi,yi],Un)=>!(!Un||xi==Un.videoId&&!yi.startSeconds&&!yi.endSeconds)));(0,Ja.T)(ni,Cn,en).pipe(_o((0,Kr.a)([N,ce,rt,G])),(0,gr.U)(([xi,yi])=>yi),(0,Qa.R)(oe)).subscribe(([xi,yi,Un,ji])=>{!yi||!xi||(xi.videoId=yi,xi.cueVideoById({videoId:yi,suggestedQuality:ji,...Un}))})}(T,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),T.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(A,T){this._player?this._player.seekTo(A,T):this._getPendingState().seek={seconds:A,allowSeekAhead:T}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(A){this._player?this._player.setVolume(A):this._getPendingState().volume=A}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(A){if(this._player)return this._player.setPlaybackRate(A);this._getPendingState().playbackRate=A}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(A,T){const{playbackState:G,playbackRate:oe,volume:rt,muted:en,seek:Cn}=T;switch(G){case YT.PlayerState.PLAYING:A.playVideo();break;case YT.PlayerState.PAUSED:A.pauseVideo();break;case YT.PlayerState.CUED:A.stopVideo()}null!=oe&&A.setPlaybackRate(oe),null!=rt&&A.setVolume(rt),null!=en&&(en?A.mute():A.unMute()),null!=Cn&&A.seekTo(Cn.seconds,Cn.allowSeekAhead)}_getLazyEmitter(A){return this._playerChanges.pipe((0,Wi.w)(T=>T?Ao(G=>{T.addEventListener(A,G)},G=>{try{T.removeEventListener&&T.removeEventListener(A,G)}catch{}}):(0,da.of)()),T=>new Rs.y(G=>T.subscribe({next:oe=>this._ngZone.run(()=>G.next(oe)),error:oe=>G.error(oe),complete:()=>G.complete()})),(0,Qa.R)(this._destroyed))}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.R0b),f.Y36(f.Lbi))},N.\u0275cmp=f.Xpm({type:N,selectors:[["youtube-player"]],viewQuery:function(A,T){if(1&A&&f.Gf(_n,5),2&A){let G;f.iGM(G=f.CRH())&&(T.youtubeContainer=G.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(A,T){1&A&&f._UZ(0,"div",null,0)},encapsulation:2,changeDetection:0}),N})();function Tt(N,[ce,A,T]){if(N&&A&&N.playerVars!==A.playerVars)N.destroy();else{if(!A)return void(N&&N.destroy());if(N)return N}const G=T.runOutsideAngular(()=>new YT.Player(ce,A));return G.videoId=A.videoId,G.playerVars=A.playerVars,G}function Bs(N){return"getPlayerStatus"in N}function Di(N,ce){return(0,Ns.z)(_o(N),(0,xr.h)(([A,T])=>ce(T,A)),(0,gr.U)(([A])=>A))}let ma=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({}),N})(),os=(()=>{class N{constructor(A){this.sanitizer=A,this.draggable=!0,this.position={x:0,y:0},this.opacityValue=1}get tranform(){return this.sanitizer.bypassSecurityTrustStyle(`translateX(${this.position.x}px) translateY(${this.position.y}px)`)}get opacity(){return this.sanitizer.bypassSecurityTrustStyle(`${this.opacityValue}`)}onDragStart(A){this.startPosition={x:A.clientX-this.position.x,y:A.clientY-this.position.y},this.opacityValue=.4}onDragMove(A){this.position.x=A.clientX-this.startPosition.x,this.position.y=A.clientY-this.startPosition.y}onDragEnd(A){this.position.x=A.clientX-this.startPosition.x,this.position.y=A.clientY-this.startPosition.y,this.opacityValue=1}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(X.H7))},N.\u0275dir=f.lG2({type:N,selectors:[["","appAppDraggable",""]],hostVars:6,hostBindings:function(A,T){1&A&&f.NdJ("dragstart",function(oe){return T.onDragStart(oe)})("drag",function(oe){return T.onDragMove(oe)})("dragend",function(oe){return T.onDragEnd(oe)}),2&A&&(f.Udp("transform",T.tranform)("opacity",T.opacity),f.ekj("draggable",T.draggable))}}),N})(),kc=(()=>{class N{constructor(A,T,G){this.platformId=A,this.messageService=T,this.chapterJavaService=G,this.availabilityMessage="Video non ancora disponibile",this.isAvailable=!1,this.num=10,this.height=300,this.width=630,this.created=!1,this.iconBook="fa-sharp fa-solid fa-book",this.videoId="",this.lastScroll=0,(0,u.NF)(this.platformId)&&(ua("(max-width: 2024px) and (min-width: 769px)").subscribe(oe=>{console.log("1024px= "+oe),!this.created&&!oe||oe&&(this.height=300,this.width=630)}),ua("(max-width: 768px) and (min-width: 481px)").subscribe(oe=>{console.log("768px=1 "+oe),console.log("768px=1 "+this.created),this.created||oe?(console.log("768px=3 "+oe),console.log("768px=3 "+this.created),oe?(this.height=250,this.width=540):(this.height=300,this.width=630)):(console.log("768px=2 "+oe),console.log("768px=2 "+this.created))}),ua("(max-width: 480px)").subscribe(oe=>{console.log("480px= "+oe),!this.created&&!oe||oe&&(this.height=150,this.width=315)}),this.created=!0,this.chapterJavaService.youtubeVideoChanged$?.subscribe(oe=>{console.log("entrato: "+oe),""==oe?(console.log("video vuoto: "),this.availabilityMessage="Video non ancora disponibile",this.isAvailable=!1,this.videoId=oe,document.getElementById("youTubeContent")?.classList.remove("openYouTubeContentAnimation")):(this.videoId=oe,this.isAvailable=!0,this.availabilityMessage="")}))}ngOnInit(){}openAndCloseBurger(){document.getElementById("burgerUtilityMenu")?.classList.toggle("open"),document.getElementById("contentMenuLeft")?.classList.toggle("contentMenuLeftOpen"),document.getElementById("contentMenuRight")?.classList.toggle("contentMenuRightOpen"),document.getElementById("toolBarShake")?.classList.toggle("toolBarShake"),document.getElementById("youTubeContent")?.classList.contains("openYouTubeContentAnimation")&&document.getElementById("youTubeContent")?.classList.remove("openYouTubeContentAnimation")}openAndCloseYouTube(){document.getElementById("youTubeContent")?.classList.toggle("openYouTubeContentAnimation")}openAndCloseLegend(){document.getElementById("utilitySideBar")?.classList.toggle("utilitySideBarOpen"),this.iconBook=document.getElementById("utilitySideBar")?.classList.contains("utilitySideBarOpen")?"fa-solid fa-book-open":"fa-sharp fa-solid fa-book"}onScroll(A){window.scrollY>=78?document.getElementById("ContentToolBar").style.marginTop=window.scrollY-78+"px":document.getElementById("ContentToolBar").style.marginTop="0px"}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(f.Lbi),f.Y36(Ne.ez),f.Y36(Z.h))},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-utility-menu"]],hostBindings:function(A,T){1&A&&f.NdJ("scroll",function(oe){return T.onScroll(oe)},!1,f.Jf7)},decls:46,vars:27,consts:[["id","ContentToolBar","appAppDraggable","","draggable","true",1,"ContentToolBar"],["id","toolBarShake",1,"toolBarShake"],["id","contentMenuLeft",1,"contentMenuLeft"],["pButton","","pRipple","","type","button",1,"p-button-danger",3,"disabled","click"],["tooltipPosition","bottom",1,"pi","pi-youtube",2,"font-size","1.5rem",3,"pTooltip"],[1,"toolBar"],["id","burgerUtilityMenu","pTooltip","Drag me","tooltipPosition","bottom","tooltipEvent","focus",1,"bottone",3,"life","click"],["id","contentMenuRight",1,"contentMenuRight"],["pButton","","pRipple","","type","button",1,"p-button-danger",3,"click"],[2,"font-size","1.3rem"],["id","youTubeContent",1,"youTubeContent"],[3,"videoId","height","width"],[1,"cone"],["id","utilitySideBar",1,"utilitySideBar"],[3,"header"],[1,"contentLegend"],[1,"contentIconLegend"],["src","../../../assets/images/Legend/importantArgumentLegend.png","alt","",1,"iconLegend"],[1,"generalSettings","textLegend"],["src","/../../assets/images/Legend/bestPracticeLegend.png","alt","",1,"iconLegend"],["src","../../../assets/images/Legend/complexConceptLegend.png","alt","",1,"iconLegend"],["src","../../../assets/images/Legend/commonErrorLegend.png","alt","",1,"iconLegend"],["src","../../../assets/images/Legend/trickLegend.png","alt","",1,"iconLegend"]],template:function(A,T){1&A&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),f.NdJ("click",function(){return T.openAndCloseYouTube()}),f._UZ(4,"i",4),f.qZA()(),f.TgZ(5,"div",5)(6,"button",6),f.NdJ("click",function(){return T.openAndCloseBurger()}),f._UZ(7,"div")(8,"div")(9,"div"),f.qZA()(),f.TgZ(10,"div",7)(11,"button",8),f.NdJ("click",function(){return T.openAndCloseLegend()}),f._UZ(12,"i",9),f.qZA()()(),f.TgZ(13,"div",10),f._UZ(14,"youtube-player",11),f.qZA()(),f._UZ(15,"div",12),f.TgZ(16,"div",13)(17,"p-accordion")(18,"p-accordionTab",14),f.ALo(19,"translate"),f.TgZ(20,"div",15)(21,"div",16),f._UZ(22,"img",17),f.TgZ(23,"div",18),f._uU(24),f.ALo(25,"translate"),f.qZA()(),f.TgZ(26,"div",16),f._UZ(27,"img",19),f.TgZ(28,"div",18),f._uU(29),f.ALo(30,"translate"),f.qZA()(),f.TgZ(31,"div",16),f._UZ(32,"img",20),f.TgZ(33,"div",18),f._uU(34),f.ALo(35,"translate"),f.qZA()(),f.TgZ(36,"div",16),f._UZ(37,"img",21),f.TgZ(38,"div",18),f._uU(39),f.ALo(40,"translate"),f.qZA()(),f.TgZ(41,"div",16),f._UZ(42,"img",22),f.TgZ(43,"div",18),f._uU(44),f.ALo(45,"translate"),f.qZA()()()()()()),2&A&&(f.xp6(3),f.Q6J("disabled",!T.isAvailable),f.xp6(1),f.Q6J("pTooltip",T.availabilityMessage),f.xp6(2),f.Q6J("life",2e3),f.xp6(6),f.Tol(T.iconBook),f.xp6(2),f.Q6J("videoId",T.videoId)("height",T.height)("width",T.width),f.xp6(4),f.s9C("header",f.lcZ(19,15,"ContentBodyTutorial.legend.header_table")),f.xp6(6),f.Oqu(f.lcZ(25,17,"ContentBodyTutorial.legend.important_topic")),f.xp6(5),f.Oqu(f.lcZ(30,19,"ContentBodyTutorial.legend.best_practice")),f.xp6(5),f.Oqu(f.lcZ(35,21,"ContentBodyTutorial.legend.complex_topic")),f.xp6(5),f.Oqu(f.lcZ(40,23,"ContentBodyTutorial.legend.common_error")),f.xp6(5),f.Oqu(f.lcZ(45,25,"ContentBodyTutorial.legend.trick")))},dependencies:[ki.u,Fi.Hq,Vl,Ya,Zl,os,Mr.X$],styles:['.draggable[_ngcontent-%COMP%]{transition:tranform .3s ease-in-out}.ContentToolBar[_ngcontent-%COMP%]{position:absolute;margin-left:62%;top:79px!important;z-index:500}.toolBarShake[_ngcontent-%COMP%]{animation:shake 6s infinite cubic-bezier(.36,.07,.19,.97) both;animation-delay:2s}#toolBarShake[_ngcontent-%COMP%]{width:55px}.toolBar[_ngcontent-%COMP%]{background-color:var(--background--utility-menu);width:50px;height:50px;border-radius:50%;display:flex;align-content:center;z-index:100;box-shadow:0 6px 10px -4px #f3cd7a}.bottone[_ngcontent-%COMP%]{position:relative;margin-top:30%!important;margin-left:28%!important;margin:auto;width:30px;height:30px;transition:all .3s cubic-bezier(.61,.01,.42,1);cursor:pointer;background:transparent;border:0px}.bottone[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{height:0px;border:1.5px solid #fff;width:22px;display:block;position:absolute;transition:all .3s cubic-bezier(.61,.01,.42,1);background:#fff}.open[_ngcontent-%COMP%]{transition-delay:.1s;transform:scale(1.1)}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-left:-3px!important;margin-top:-2px!important}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):before{width:2px;height:2px;border-radius:50%;background:#F26451}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:2px solid #fff;height:9px;border-radius:50%;margin-left:-1px;margin-top:2px;animation:atom .3s linear 1;width:29px;top:0;background:transparent}.bottone[_ngcontent-%COMP%]:focus{outline:0px}.bottone[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){top:0}.bottone[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){top:8px}.bottone[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){top:16px}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){top:9px}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){top:9px}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){top:9px}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):before{opacity:0;animation:ball 1.5s linear infinite;content:"";border:2px solid #fff;display:block;position:relative;top:.25px}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){transform:rotate(-33deg)}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){transform:rotate(90deg)}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){transform:rotate(33deg)}.open[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):before{opacity:1;transition:opacity .6s cubic-bezier(.61,.01,.42,1)}.contentMenuLeft[_ngcontent-%COMP%]{display:flex;position:absolute;background-color:#5f6670;margin-top:6px;left:-7px;width:40px;height:40px;border-radius:40px;border-left:9px solid white;z-index:-1;transition:all .3s cubic-bezier(.61,.01,.42,1);overflow:hidden}.contentMenuLeft[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.contentMenuLeft[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{border:1px solid white;z-index:100;width:55px!important;margin-left:-10px}.contentMenuLeft[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]   .i[_ngcontent-%COMP%]{padding-right:10px!important;font-family:var(--font-family-global)}.contentMenuRight[_ngcontent-%COMP%]{display:flex;position:absolute;background-color:#5f6670;margin-top:-44px;left:17px;width:40px;height:40px;border-radius:40px;border-right:9px solid white;z-index:-1;transition:all .3s cubic-bezier(.61,.01,.42,1);overflow:hidden}.contentMenuRight[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.contentMenuRight[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{border:1px solid white;z-index:100;width:55px!important;left:0;right:auto;margin:0 -5px 0 75px;padding:10px;background-color:#17a117c9}.contentMenuRight[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]   .i[_ngcontent-%COMP%]{padding-left:10px!important;font-family:var(--font-family-global)}.contentMenuRight[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:hover{background-color:#17a117f8}.contentMenuRight[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:active{transition:.1s ease-in-out;background-color:#17a117c9}.contentMenuLeftOpen[_ngcontent-%COMP%]{left:-100px;width:150px;box-shadow:0 6px 10px -5px #f3cd7a}.contentMenuRightOpen[_ngcontent-%COMP%]{width:130px;box-shadow:0 6px 10px -5px #f3cd7a}.youTubeContent[_ngcontent-%COMP%]{display:none;background-color:transparent;overflow:hidden;margin-left:-100px;width:243px;height:0}.openYouTubeContentAnimation[_ngcontent-%COMP%]{display:block;animation:youTubeOpenheight 1s ease-in forwards,youTubeOpenwidth 1s 1s ease-in forwards}.utilitySideBar[_ngcontent-%COMP%]{background:rgba(0,123,184,.2);width:0;height:100%;right:0;top:130px;border-radius:10px;max-height:1000px;position:fixed;z-index:100;transition:all .4s ease}.utilitySideBarOpen[_ngcontent-%COMP%]{width:300px}.p-accordion-header-link[_ngcontent-%COMP%]{background-color:var(--navbar-color)!important;transition:var(--transition-delay);color:var(--text-color)!important;outline:0 none!important;outline-offset:0!important;box-shadow:none!important}.p-accordion-header-link[_ngcontent-%COMP%]:hover{background:var(--navbar-hover-component-color)!important;color:var(--text-color)!important}.p-accordion-content[_ngcontent-%COMP%]{overflow-y:auto!important;overflow-x:hidden!important;height:468px}.contentLegend[_ngcontent-%COMP%]{background-color:var(--background-color-content-tutorial);transition:var(--transition-delay);color:var(--text-color-content-tutorial);box-shadow:5px 5px 15px 5px #0000008f;width:290px;margin-left:-19px;margin-top:-15px}.contentLegend[_ngcontent-%COMP%]   .generalSettings[_ngcontent-%COMP%]{font-size:22px!important}.contentLegend[_ngcontent-%COMP%]   .contentIconLegend[_ngcontent-%COMP%]{display:flex;border:1px solid black}.contentLegend[_ngcontent-%COMP%]   .contentIconLegend[_ngcontent-%COMP%]   .textLegend[_ngcontent-%COMP%]{padding-left:25px;margin:auto 0}.contentLegend[_ngcontent-%COMP%]   .contentIconLegend[_ngcontent-%COMP%]   .iconLegend[_ngcontent-%COMP%]{width:100px;height:100px;border-right:1px solid black}@keyframes youTubeOpenwidth{0%{width:245px;transform:translate(0)}to{width:630px;transform:translate(-200px)}}@keyframes youTubeOpenheight{0%{height:0}to{height:300px}}@keyframes atom{0%{transform:rotate(180deg)}}@keyframes division{0%{transform:rotate(180deg)}}@keyframes ball{0%{left:-20%;top:10%}10%{left:10%;top:-35%}25%{left:45%;top:-50%}40%{left:80%;top:-20%}50%{left:98%;top:18%}60%{left:80%;top:50%}75%{left:45%;top:80%}90%{left:0%;top:60%}to{left:-20%;top:10%}}@keyframes shake{0%{transform:translate(0)}1.78571%{transform:translate(5px)}3.57143%{transform:translate(0)}5.35714%{transform:translate(5px)}7.14286%{transform:translate(0)}8.92857%{transform:translate(5px)}10.71429%{transform:translate(0)}to{transform:translate(0)}}@media screen and (max-width: 768px){@keyframes youTubeOpenwidth{0%{width:245px;transform:translate(0)}to{width:540px;transform:translate(-150px)}}@keyframes youTubeOpenheight{0%{height:0}to{height:250px}}}@media screen and (max-width: 480px){.ContentToolBar[_ngcontent-%COMP%]{margin-left:45%}@keyframes youTubeOpenwidth{0%{width:245px;transform:translate(0)}to{width:315px;transform:translate(-40px)}}@keyframes youTubeOpenheight{0%{height:0}to{height:150px}}}']}),N})(),yo=(()=>{class N{constructor(A,T){this.router=A,this.platformId=T,console.log("NELLA GLOBAL CONSTR"),(0,u.NF)(this.platformId)&&this.router.events.subscribe(G=>{G instanceof $.m2&&window.scrollTo(0,0)}),console.log("NELLA GLOBAL CONSTR FINE")}ngOnInit(){console.log("NELLA GLOBAL NG"),(0,u.NF)(this.platformId)&&this.router.events.subscribe(A=>{A instanceof $.m2&&window.scrollTo(0,0)}),console.log("NELLA GLOBAL NG FINE")}navigate(){this.router.navigate(["/auth/signin"])}}return N.\u0275fac=function(A){return new(A||N)(f.Y36($.F0),f.Y36(f.Lbi))},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-global-content"]],decls:7,vars:0,consts:[[1,"utility-menu"],[1,"globalContentTutorialContent"],[1,"contentSideBar"],[1,"contentTurorial"]],template:function(A,T){1&A&&(f.TgZ(0,"div",0),f._UZ(1,"app-utility-menu"),f.qZA(),f.TgZ(2,"div",1)(3,"div",2),f._UZ(4,"app-side-bar"),f.qZA(),f.TgZ(5,"div",3),f._UZ(6,"app-tutorial-body-content"),f.qZA()())},dependencies:[ti,fs,kc],styles:[".globalContentTutorialContent[_ngcontent-%COMP%]{margin-top:250px;display:flex}.contentTurorial[_ngcontent-%COMP%]{background-color:var(--background-color-content-tutorial);transition:var(--transition-delay);height:100vp;width:99%;margin-left:2px;margin-right:10px;margin-bottom:15px;color:var(--text-color-content-tutorial)}"]}),N})();function Pu(N,ce){1&N&&(f.TgZ(0,"span",11),f._uU(1),f.ALo(2,"translate"),f.qZA()),2&N&&(f.xp6(1),f.hij(" ",f.lcZ(2,1,"header.menu.subCourseComingSoon"),""))}function Ou(N,ce){if(1&N){const A=f.EpF();f.ynx(0),f.TgZ(1,"div",3),f.YNc(2,Pu,3,3,"span",4),f.TgZ(3,"div",5),f._UZ(4,"i",6),f.qZA(),f.TgZ(5,"div",7)(6,"h2"),f._uU(7),f.ALo(8,"translate"),f.qZA(),f.TgZ(9,"p",8),f._uU(10),f.ALo(11,"translate"),f.qZA(),f.TgZ(12,"div",9)(13,"p-button",10),f.NdJ("click",function(){const oe=f.CHM(A).$implicit,rt=f.oxw(2);return f.KtG(rt.navigateToCourse(oe))}),f.TgZ(14,"p"),f._uU(15),f.ALo(16,"translate"),f.qZA()()()()(),f.BQk()}if(2&N){const A=ce.$implicit,T=ce.index;f.xp6(1),f.s9C("id",T),f.xp6(1),f.Q6J("ngIf",!A.isActive),f.xp6(2),f.Tol(A.icon),f.xp6(3),f.Oqu(f.lcZ(8,9,"header.menu."+A.translateSubCourse)),f.xp6(3),f.hij(" ",f.lcZ(11,11,"header.menu."+A.translateSubCourse+"Description")," "),f.xp6(3),f.Q6J("disabled",!A.isActive),f.xp6(2),f.hij(" ",f.lcZ(16,13,"welcome.linkStart")," ")}}function Lu(N,ce){if(1&N&&(f.ynx(0),f.TgZ(1,"div",2)(2,"h1"),f._uU(3),f.ALo(4,"translate"),f.qZA(),f.YNc(5,Ou,17,15,"ng-container",1),f.qZA(),f.BQk()),2&N){const A=ce.index,T=f.oxw();f.xp6(3),f.Oqu(f.lcZ(4,2,"header.menu."+T.modelCourse[A].translateCourse)),f.xp6(2),f.Q6J("ngForOf",T.modelCourse[A].subCourse)}}const Bi=[{path:"code/lang/:lang",component:(()=>{class N{constructor(A,T,G,oe,rt,en,Cn,ni,xi,yi){this.chapterJavaService=A,this.router=T,this.translate=G,this.platformId=oe,this.urlPathService=rt,this.configLanguageService=en,this.location=Cn,this.metaService=ni,this.route=xi,this.title=yi,console.log("COSTRUTTORE DISP 2"),this.titleCourse="Java",this.titleSubCourse="Java base",this.modelCourse=[],A.getCourses().subscribe(Un=>{console.log("object"+JSON.stringify(Un)),Un.forEach(ji=>{console.log("nel for each: "+ji);let ar={};ar.courseTitle=ji.courseName,ar.isActive=ji.activeCourse,ar.translateCourse=ji.translateCourse,ar.subCourse=[],ji.subCourses?.forEach(Ir=>{console.log("nel sub for each: "+JSON.stringify(Ir));let fi={};fi.subCourseTitle=Ir.subCourseName,fi.url=Ir.subCourseName,fi.translateSubCourse=Ir.translateSubCourse,fi.isActive=Ir.activeSubCourse,fi.icon=Ir.iconSubCourse,fi.prefixUrl=Ir.prefixUrl,ar.subCourse.push(fi)}),this.modelCourse.push(ar)}),(0,u.NF)(this.platformId)&&(setTimeout(()=>{this.modelCourse.forEach(ji=>{null!=ji.subCourse&&document.getElementById(""+(ji.subCourse.length-1))?.classList.add("lastCourse")})},.01),this.router.events.subscribe(ji=>{ji instanceof $.m2&&window.scrollTo(0,0)}))}),this.configLanguageService.actionForceChangeLanguageForDispacherPage$?.subscribe(Un=>{let ji=this.urlPathService.getUrlPath(window.location.href);ji.includes("code/lang")&&this.location.replaceState(ji.substring(0,ji.indexOf("lang/"))+"lang/"+this.configLanguageService.getBrowserLanguage())}),(0,u.PM)(this.platformId)&&this.setPagaTag()}ngOnInit(){console.log("NELLA GLOBAL NG")}navigateToCourse(A){var T=this;return(0,ye.Z)(function*(){const G=yield T.getTranslateLabel(A.translateSubCourse);console.log("/"+A.prefixUrl+"/"+G.replace(/\s/g,"-")),T.router.navigate(["/code/"+G.replace(/\s/g,"-")])})()}getTranslateLabel(A){var T=this;return(0,ye.Z)(function*(){let G="";return yield T.translate.get("header.menu."+A).forEach(oe=>{G=oe}),G})()}setPagaTag(){console.log("META TAG"),"it"==this.route.snapshot.paramMap.get("lang")?(console.log("META ITA"),this.metaService.updateTag({property:"og:title",content:"Corsi"}),this.title.setTitle("Corsi"),this.metaService.updateTag({name:"description",content:"Descrizione dei corsi"}),this.metaService.updateTag({name:"excerpt",content:"Descrizione dei corsi"}),this.metaService.updateTag({name:"keywords",content:"keywords"}),this.metaService.updateTag({property:"og:title",content:"Corsi"}),this.metaService.updateTag({property:"og:description",content:"Descrizione dei corsi"}),this.metaService.updateTag({property:"og:type",content:"article"})):(console.log("META ENG"),this.metaService.updateTag({property:"og:title",content:"Courses"}),this.title.setTitle("Courses"),this.metaService.updateTag({name:"description",content:"Description of courses"}),this.metaService.updateTag({name:"excerpt",content:"Description of courses"}),this.metaService.updateTag({name:"keywords",content:"keywords"}),this.metaService.updateTag({property:"og:title",content:"Courses"}),this.metaService.updateTag({property:"og:description",content:"Description of courses"}),this.metaService.updateTag({property:"og:type",content:"article"}))}}return N.\u0275fac=function(A){return new(A||N)(f.Y36(Z.h),f.Y36($.F0),f.Y36(Mr.sK),f.Y36(f.Lbi),f.Y36(ne.i),f.Y36(ue.t),f.Y36(u.Ye),f.Y36(X.h_),f.Y36($.gz),f.Y36(X.Dx))},N.\u0275cmp=f.Xpm({type:N,selectors:[["app-courses-dispatcher"]],decls:2,vars:1,consts:[["id","courses-countainer"],[4,"ngFor","ngForOf"],[1,"container-course"],[1,"course",3,"id"],["class","comingSoonSubCourseSpan",4,"ngIf"],[1,"course-icon"],["width","100","height","100"],[1,"course-description"],[1,"descriptionCourse"],[1,"buttonContainer"],[1,"buttonPrevious",3,"disabled","click"],[1,"comingSoonSubCourseSpan"]],template:function(A,T){1&A&&(f.TgZ(0,"div",0),f.YNc(1,Lu,6,4,"ng-container",1),f.qZA()),2&A&&(f.xp6(1),f.Q6J("ngForOf",T.modelCourse))},dependencies:[u.sg,u.O5,Fi.zx,Mr.X$],styles:["#courses-countainer[_ngcontent-%COMP%]{margin-top:250px;width:95%;margin-left:2.5%;margin-bottom:15px;color:var(--text-color-content-tutorial);min-height:500px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:50px;color:var(--text-color-content-tutorial);background-color:var(--background-color-content-courses);width:100%;min-height:350px;border-radius:15px;padding-top:1%;margin-bottom:30px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-bottom:5px;text-align:center;font-size:50px;margin-bottom:-30px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .comingSoonCourseSpan[_ngcontent-%COMP%]{font-size:12vw;color:#dd2626;margin:0 auto}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]{display:flex;color:var(--text-color-content-tutorial);background-color:var(--background-color-content-tutorial);width:90%;height:80%;margin-left:5%;border:1px solid black;border-radius:15px;box-shadow:0 10px 13px -7px #000,3px 5px 15px 5px #0000;transition:all .4s ease-in-out}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 26px -12px #000,3px 5px 15px 5px #0000}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .comingSoonSubCourseSpan[_ngcontent-%COMP%]{position:absolute;font-size:35px;color:#dd2626;transform:rotate(329deg);margin-top:40px;margin-left:-10px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-icon[_ngcontent-%COMP%]{width:100px;overflow:hidden;border-right:1px solid black}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:4px;font-size:7.25em!important}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:1.5;display:inline-block;vertical-align:middle;margin-top:50%}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]{flex:50%}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px;text-align:center;font-size:35px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]   .descriptionCourse[_ngcontent-%COMP%]{font-size:30px;margin:0 10px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]{margin-left:15%;margin-bottom:23px;margin-top:20px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{background-color:var(--navbar-color);transition:var(--transition-delay);color:var(--text-color);border:1px solid #9f9e9e;box-shadow:-6px 8px 10px var(--button-tutorial-navigate-first-shadow-color),0 2px 2px var(--button-tutorial-navigate-second-shadow-color);width:80%!important}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;font-size:40px;font-weight:700}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:hover{transition:var(--transition-delay-hover);background-color:var(--navbar-hover-component-color)!important;color:var(--text-color)}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:focus{outline:0 none!important;outline-offset:0!important}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:enabled:active{color:#13df3f;background-color:var(--navbar-color)!important;box-shadow:-6px 8px 10px #51290a1a,0 2px 2px #51290a1a}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .lastCourse[_ngcontent-%COMP%]{margin-bottom:35px}@media screen and (max-width: 768px){#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], #courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]   .descriptionCourse[_ngcontent-%COMP%]{font-size:25px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:35px}}@media screen and (max-width: 480px){#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:25px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .course-description[_ngcontent-%COMP%]   .descriptionCourse[_ngcontent-%COMP%]{font-size:19px}#courses-countainer[_ngcontent-%COMP%]   .container-course[_ngcontent-%COMP%]   .course[_ngcontent-%COMP%]   .buttonContainer[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:29px}}"]}),N})()},{path:"code/:code",component:yo},{path:"fundamentals/:code",component:yo},{path:"code/:code/chapter/:chapter/lang/:lang",component:yo},{path:"fundamentals/:code/chapter/:chapter/lang/:lang",component:yo},{path:"code/:code/chapter/:chapter/subchapter/:subchapter/lang/:lang",component:yo},{path:"fundamentals/:code/chapter/:chapter/subchapter/:subchapter/lang/:lang",component:yo}];let Sr=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[$.Bz.forChild(Bi),$.Bz]}),N})(),va=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez,$.Bz,ki.z],$.Bz,ki.z]}),N})(),ku=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez]]}),N})(),zu=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({imports:[[u.ez,Fi.hJ,We.T,ki.z,$.Bz],Ne.m8,Fi.hJ,ki.z,$.Bz]}),N})();var eh=k(7908),Hs=k(529);let ll=(()=>{class N{}return N.\u0275fac=function(A){return new(A||N)},N.\u0275mod=f.oAB({type:N}),N.\u0275inj=f.cJS({providers:[Ne.ez],imports:[u.ez,Sr,va,kr,Fi.hJ,di,qa,ds,ku,ki.z,zu,ma,Mr.aw.forRoot({loader:{provide:Mr.Zw,useFactory:eh.s,deps:[Hs.eN]}})]}),N})()},6246:(Vt,Be,k)=>{"use strict";var u=k(1481),$=k(4650),f=k(7908);function K(){u.q6().bootstrapModule(f.b).catch(q=>console.error(q))}(0,$.G48)(),"complete"===document.readyState?K():document.addEventListener("DOMContentLoaded",K)},7123:function(Vt){Vt.exports=function(Be){function k($){if(u[$])return u[$].exports;var f=u[$]={exports:{},id:$,loaded:!1};return Be[$].call(f.exports,f,f.exports,k),f.loaded=!0,f.exports}var u={};return k.m=Be,k.c=u,k.p="dist/",k(0)}([function(Be,k,u){"use strict";function $(be){return be&&be.__esModule?be:{default:be}}var f=Object.assign||function(be){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze];for(var lt in $e)Object.prototype.hasOwnProperty.call($e,lt)&&(be[lt]=$e[lt])}return be},K=($(u(1)),u(6)),q=$(K),ae=$(u(7)),ne=$(u(8)),he=$(u(9)),Fe=$(u(10)),We=$(u(11)),Me=$(u(14)),mt=[],nn=!1,qe={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ie=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(nn=!0),nn)return mt=(0,We.default)(mt,qe),(0,Fe.default)(mt,qe.once),mt},je=function(){mt=(0,Me.default)(),ie()};Be.exports={init:function(be){qe=f(qe,be),mt=(0,Me.default)();var ze=document.all&&!window.atob;return function(be){return!0===be||"mobile"===be&&he.default.mobile()||"phone"===be&&he.default.phone()||"tablet"===be&&he.default.tablet()||"function"==typeof be&&!0===be()}(qe.disable)||ze?void mt.forEach(function(be,ze){be.node.removeAttribute("data-aos"),be.node.removeAttribute("data-aos-easing"),be.node.removeAttribute("data-aos-duration"),be.node.removeAttribute("data-aos-delay")}):(qe.disableMutationObserver||ne.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),qe.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",qe.easing),document.querySelector("body").setAttribute("data-aos-duration",qe.duration),document.querySelector("body").setAttribute("data-aos-delay",qe.delay),"DOMContentLoaded"===qe.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ie(!0):"load"===qe.startEvent?window.addEventListener(qe.startEvent,function(){ie(!0)}):document.addEventListener(qe.startEvent,function(){ie(!0)}),window.addEventListener("resize",(0,ae.default)(ie,qe.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ae.default)(ie,qe.debounceDelay,!0)),window.addEventListener("scroll",(0,q.default)(function(){(0,Fe.default)(mt,qe.once)},qe.throttleDelay)),qe.disableMutationObserver||ne.default.ready("[data-aos]",je),mt)},refresh:ie,refreshHard:je}},function(Be,k){},,,,,function(Be,k){(function(u){"use strict";function $(_e,Xe,be){function ze(Rn){var Ei=ft,Yi=Jt;return ft=Jt=void 0,Vn=Rn,Dn=_e.apply(Yi,Ei)}function $e(Rn){return Vn=Rn,un=setTimeout(bt,Xe),dn?ze(Rn):Dn}function st(Rn){var Ei=Rn-Gn;return void 0===Gn||Ei>=Xe||Ei<0||Ri&&Rn-Vn>=rn}function bt(){var Rn=ve();return st(Rn)?ot(Rn):void(un=setTimeout(bt,function lt(Rn){var _i=Xe-(Rn-Gn);return Ri?je(_i,rn-(Rn-Vn)):_i}(Rn)))}function ot(Rn){return un=void 0,Xn&&ft?ze(Rn):(ft=Jt=void 0,Dn)}function Ge(){var Rn=ve(),Ei=st(Rn);if(ft=arguments,Jt=this,Gn=Rn,Ei){if(void 0===un)return $e(Gn);if(Ri)return un=setTimeout(bt,Xe),ze(Gn)}return void 0===un&&(un=setTimeout(bt,Xe)),Dn}var ft,Jt,rn,Dn,un,Gn,Vn=0,dn=!1,Ri=!1,Xn=!0;if("function"!=typeof _e)throw new TypeError(X);return Xe=Z(Xe)||0,ye(be)&&(dn=!!be.leading,rn=(Ri="maxWait"in be)?ie(Z(be.maxWait)||0,Xe):rn,Xn="trailing"in be?!!be.trailing:Xn),Ge.cancel=function Bt(){void 0!==un&&clearTimeout(un),Vn=0,ft=Gn=Jt=un=void 0},Ge.flush=function Se(){return void 0===un?Dn:ot(ve())},Ge}function ye(_e){var Xe=typeof _e>"u"?"undefined":ae(_e);return!!_e&&("object"==Xe||"function"==Xe)}function q(_e){return"symbol"==(typeof _e>"u"?"undefined":ae(_e))||function K(_e){return!!_e&&"object"==(typeof _e>"u"?"undefined":ae(_e))}(_e)&&qe.call(_e)==ue}function Z(_e){if("number"==typeof _e)return _e;if(q(_e))return ne;if(ye(_e)){var Xe="function"==typeof _e.valueOf?_e.valueOf():_e;_e=ye(Xe)?Xe+"":Xe}if("string"!=typeof _e)return 0===_e?_e:+_e;_e=_e.replace(he,"");var be=Fe.test(_e);return be||Le.test(_e)?We(_e.slice(2),be?2:8):Ne.test(_e)?ne:+_e}var ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},X="Expected a function",ne=NaN,ue="[object Symbol]",he=/^\s+|\s+$/g,Ne=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,Le=/^0o[0-7]+$/i,We=parseInt,He="object"==(typeof u>"u"?"undefined":ae(u))&&u&&u.Object===Object&&u,Me="object"==(typeof self>"u"?"undefined":ae(self))&&self&&self.Object===Object&&self,mt=He||Me||Function("return this")(),qe=Object.prototype.toString,ie=Math.max,je=Math.min,ve=function(){return mt.Date.now()};Be.exports=function f(_e,Xe,be){var ze=!0,$e=!0;if("function"!=typeof _e)throw new TypeError(X);return ye(be)&&(ze="leading"in be?!!be.leading:ze,$e="trailing"in be?!!be.trailing:$e),$(_e,Xe,{leading:ze,maxWait:Xe,trailing:$e})}}).call(k,function(){return this}())},function(Be,k){(function(u){"use strict";function f(ve){var _e=typeof ve>"u"?"undefined":Z(ve);return!!ve&&("object"==_e||"function"==_e)}function K(ve){return"symbol"==(typeof ve>"u"?"undefined":Z(ve))||function ye(ve){return!!ve&&"object"==(typeof ve>"u"?"undefined":Z(ve))}(ve)&&nn.call(ve)==ne}function q(ve){if("number"==typeof ve)return ve;if(K(ve))return X;if(f(ve)){var _e="function"==typeof ve.valueOf?ve.valueOf():ve;ve=f(_e)?_e+"":_e}if("string"!=typeof ve)return 0===ve?ve:+ve;ve=ve.replace(ue,"");var Xe=Ne.test(ve);return Xe||Fe.test(ve)?Le(ve.slice(2),Xe?2:8):he.test(ve)?X:+ve}var Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ve){return typeof ve}:function(ve){return ve&&"function"==typeof Symbol&&ve.constructor===Symbol&&ve!==Symbol.prototype?"symbol":typeof ve},ae="Expected a function",X=NaN,ne="[object Symbol]",ue=/^\s+|\s+$/g,he=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,Fe=/^0o[0-7]+$/i,Le=parseInt,We="object"==(typeof u>"u"?"undefined":Z(u))&&u&&u.Object===Object&&u,He="object"==(typeof self>"u"?"undefined":Z(self))&&self&&self.Object===Object&&self,Me=We||He||Function("return this")(),nn=Object.prototype.toString,qe=Math.max,ie=Math.min,je=function(){return Me.Date.now()};Be.exports=function $(ve,_e,Xe){function be(Xn){var Rn=Ge,Ei=ft;return Ge=ft=void 0,Gn=Xn,rn=ve.apply(Ei,Rn)}function ze(Xn){return Gn=Xn,Dn=setTimeout(st,_e),Vn?be(Xn):rn}function lt(Xn){var Rn=Xn-un;return void 0===un||Rn>=_e||Rn<0||dn&&Xn-Gn>=Jt}function st(){var Xn=je();return lt(Xn)?bt(Xn):void(Dn=setTimeout(st,function $e(Xn){var Yi=_e-(Xn-un);return dn?ie(Yi,Jt-(Xn-Gn)):Yi}(Xn)))}function bt(Xn){return Dn=void 0,Ri&&Ge?be(Xn):(Ge=ft=void 0,rn)}function Se(){var Xn=je(),Rn=lt(Xn);if(Ge=arguments,ft=this,un=Xn,Rn){if(void 0===Dn)return ze(un);if(dn)return Dn=setTimeout(st,_e),be(un)}return void 0===Dn&&(Dn=setTimeout(st,_e)),rn}var Ge,ft,Jt,rn,Dn,un,Gn=0,Vn=!1,dn=!1,Ri=!0;if("function"!=typeof ve)throw new TypeError(ae);return _e=q(_e)||0,f(Xe)&&(Vn=!!Xe.leading,Jt=(dn="maxWait"in Xe)?qe(q(Xe.maxWait)||0,_e):Jt,Ri="trailing"in Xe?!!Xe.trailing:Ri),Se.cancel=function ot(){void 0!==Dn&&clearTimeout(Dn),Gn=0,Ge=un=ft=Dn=void 0},Se.flush=function Bt(){return void 0===Dn?rn:bt(je())},Se}}).call(k,function(){return this}())},function(Be,k){"use strict";function u(Z){var ae=void 0,X=void 0;for(ae=0;ae<Z.length;ae+=1)if((X=Z[ae]).dataset&&X.dataset.aos||X.children&&u(X.children))return!0;return!1}function $(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function K(Z){Z&&Z.forEach(function(ae){var X=Array.prototype.slice.call(ae.addedNodes),ne=Array.prototype.slice.call(ae.removedNodes);if(u(X.concat(ne)))return q()})}Object.defineProperty(k,"__esModule",{value:!0});var q=function(){};k.default={isSupported:function f(){return!!$()},ready:function ye(Z,ae){var X=window.document,ue=new($())(K);q=ae,ue.observe(X.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Be,k){"use strict";function $(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(k,"__esModule",{value:!0});var f=function(){function X(ne,ue){for(var he=0;he<ue.length;he++){var Ne=ue[he];Ne.enumerable=Ne.enumerable||!1,Ne.configurable=!0,"value"in Ne&&(Ne.writable=!0),Object.defineProperty(ne,Ne.key,Ne)}}return function(ne,ue,he){return ue&&X(ne.prototype,ue),he&&X(ne,he),ne}}(),ye=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,K=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,q=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Z=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ae=function(){function X(){!function u(X,ne){if(!(X instanceof ne))throw new TypeError("Cannot call a class as a function")}(this,X)}return f(X,[{key:"phone",value:function(){var ne=$();return!(!ye.test(ne)&&!K.test(ne.substr(0,4)))}},{key:"mobile",value:function(){var ne=$();return!(!q.test(ne)&&!Z.test(ne.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),X}();k.default=new ae},function(Be,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.default=function(f,ye){var K=window.pageYOffset,q=window.innerHeight;f.forEach(function(Z,ae){!function(f,ye,K){var q=f.node.getAttribute("data-aos-once");ye>f.position?f.node.classList.add("aos-animate"):typeof q<"u"&&("false"===q||!K&&"true"!==q)&&f.node.classList.remove("aos-animate")}(Z,q+K,ye)})}},function(Be,k,u){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var ye=function $(q){return q&&q.__esModule?q:{default:q}}(u(12));k.default=function(q,Z){return q.forEach(function(ae,X){ae.node.classList.add("aos-init"),ae.position=(0,ye.default)(ae.node,Z.offset)}),q}},function(Be,k,u){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var ye=function $(q){return q&&q.__esModule?q:{default:q}}(u(13));k.default=function(q,Z){var ae=0,X=0,ne=window.innerHeight,ue={offset:q.getAttribute("data-aos-offset"),anchor:q.getAttribute("data-aos-anchor"),anchorPlacement:q.getAttribute("data-aos-anchor-placement")};switch(ue.offset&&!isNaN(ue.offset)&&(X=parseInt(ue.offset)),ue.anchor&&document.querySelectorAll(ue.anchor)&&(q=document.querySelectorAll(ue.anchor)[0]),ae=(0,ye.default)(q).top,ue.anchorPlacement){case"top-bottom":break;case"center-bottom":ae+=q.offsetHeight/2;break;case"bottom-bottom":ae+=q.offsetHeight;break;case"top-center":ae+=ne/2;break;case"bottom-center":ae+=ne/2+q.offsetHeight;break;case"center-center":ae+=ne/2+q.offsetHeight/2;break;case"top-top":ae+=ne;break;case"bottom-top":ae+=q.offsetHeight+ne;break;case"center-top":ae+=q.offsetHeight/2+ne}return ue.anchorPlacement||ue.offset||isNaN(Z)||(X=Z),ae+X}},function(Be,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function($){for(var f=0,ye=0;$&&!isNaN($.offsetLeft)&&!isNaN($.offsetTop);)f+=$.offsetLeft-("BODY"!=$.tagName?$.scrollLeft:0),ye+=$.offsetTop-("BODY"!=$.tagName?$.scrollTop:0),$=$.offsetParent;return{top:ye,left:f}}},function(Be,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function($){return $=$||document.querySelectorAll("[data-aos]"),Array.prototype.map.call($,function(f){return{node:f}})}}])},1135:(Vt,Be,k)=>{"use strict";k.d(Be,{X:()=>$});var u=k(7579);class $ extends u.x{constructor(ye){super(),this._value=ye}get value(){return this.getValue()}_subscribe(ye){const K=super._subscribe(ye);return!K.closed&&ye.next(this._value),K}getValue(){const{hasError:ye,thrownError:K,_value:q}=this;if(ye)throw K;return this._throwIfClosed(),q}next(ye){super.next(this._value=ye)}}},9751:(Vt,Be,k)=>{"use strict";k.d(Be,{y:()=>ae});var u=k(930),$=k(727),f=k(8822),ye=k(9635),K=k(2416),q=k(576),Z=k(2806);let ae=(()=>{class he{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Le=new he;return Le.source=this,Le.operator=Fe,Le}subscribe(Fe,Le,We){const He=function ue(he){return he&&he instanceof u.Lv||function ne(he){return he&&(0,q.m)(he.next)&&(0,q.m)(he.error)&&(0,q.m)(he.complete)}(he)&&(0,$.Nn)(he)}(Fe)?Fe:new u.Hp(Fe,Le,We);return(0,Z.x)(()=>{const{operator:Me,source:mt}=this;He.add(Me?Me.call(He,mt):mt?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Le){Fe.error(Le)}}forEach(Fe,Le){return new(Le=X(Le))((We,He)=>{const Me=new u.Hp({next:mt=>{try{Fe(mt)}catch(nn){He(nn),Me.unsubscribe()}},error:He,complete:We});this.subscribe(Me)})}_subscribe(Fe){var Le;return null===(Le=this.source)||void 0===Le?void 0:Le.subscribe(Fe)}[f.L](){return this}pipe(...Fe){return(0,ye.U)(Fe)(this)}toPromise(Fe){return new(Fe=X(Fe))((Le,We)=>{let He;this.subscribe(Me=>He=Me,Me=>We(Me),()=>Le(He))})}}return he.create=Ne=>new he(Ne),he})();function X(he){var Ne;return null!==(Ne=he??K.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(Vt,Be,k)=>{"use strict";k.d(Be,{x:()=>Z});var u=k(9751),$=k(727);const ye=(0,k(3888).d)(X=>function(){X(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=k(8737),q=k(2806);let Z=(()=>{class X extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const he=new ae(this,this);return he.operator=ue,he}_throwIfClosed(){if(this.closed)throw new ye}next(ue){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ue)}})}error(ue){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:he}=this;for(;he.length;)he.shift().error(ue)}})}complete(){(0,q.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:he,isStopped:Ne,observers:Fe}=this;return he||Ne?$.Lc:(this.currentObservers=null,Fe.push(ue),new $.w0(()=>{this.currentObservers=null,(0,K.P)(Fe,ue)}))}_checkFinalizedStatuses(ue){const{hasError:he,thrownError:Ne,isStopped:Fe}=this;he?ue.error(Ne):Fe&&ue.complete()}asObservable(){const ue=new u.y;return ue.source=this,ue}}return X.create=(ne,ue)=>new ae(ne,ue),X})();class ae extends Z{constructor(ne,ue){super(),this.destination=ne,this.source=ue}next(ne){var ue,he;null===(he=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===he||he.call(ue,ne)}error(ne){var ue,he;null===(he=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===he||he.call(ue,ne)}complete(){var ne,ue;null===(ue=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ue||ue.call(ne)}_subscribe(ne){var ue,he;return null!==(he=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ne))&&void 0!==he?he:$.Lc}}},930:(Vt,Be,k)=>{"use strict";k.d(Be,{Hp:()=>We,Lv:()=>he});var u=k(576),$=k(727),f=k(2416),ye=k(7849),K=k(5032);const q=X("C",void 0,void 0);function X(qe,ie,je){return{kind:qe,value:ie,error:je}}var ne=k(3410),ue=k(2806);class he extends $.w0{constructor(ie){super(),this.isStopped=!1,ie?(this.destination=ie,(0,$.Nn)(ie)&&ie.add(this)):this.destination=nn}static create(ie,je,ve){return new We(ie,je,ve)}next(ie){this.isStopped?mt(function ae(qe){return X("N",qe,void 0)}(ie),this):this._next(ie)}error(ie){this.isStopped?mt(function Z(qe){return X("E",void 0,qe)}(ie),this):(this.isStopped=!0,this._error(ie))}complete(){this.isStopped?mt(q,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ie){this.destination.next(ie)}_error(ie){try{this.destination.error(ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function Fe(qe,ie){return Ne.call(qe,ie)}class Le{constructor(ie){this.partialObserver=ie}next(ie){const{partialObserver:je}=this;if(je.next)try{je.next(ie)}catch(ve){He(ve)}}error(ie){const{partialObserver:je}=this;if(je.error)try{je.error(ie)}catch(ve){He(ve)}else He(ie)}complete(){const{partialObserver:ie}=this;if(ie.complete)try{ie.complete()}catch(je){He(je)}}}class We extends he{constructor(ie,je,ve){let _e;if(super(),(0,u.m)(ie)||!ie)_e={next:ie??void 0,error:je??void 0,complete:ve??void 0};else{let Xe;this&&f.v.useDeprecatedNextContext?(Xe=Object.create(ie),Xe.unsubscribe=()=>this.unsubscribe(),_e={next:ie.next&&Fe(ie.next,Xe),error:ie.error&&Fe(ie.error,Xe),complete:ie.complete&&Fe(ie.complete,Xe)}):_e=ie}this.destination=new Le(_e)}}function He(qe){f.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(qe):(0,ye.h)(qe)}function mt(qe,ie){const{onStoppedNotification:je}=f.v;je&&ne.z.setTimeout(()=>je(qe,ie))}const nn={closed:!0,next:K.Z,error:function Me(qe){throw qe},complete:K.Z}},727:(Vt,Be,k)=>{"use strict";k.d(Be,{Lc:()=>q,w0:()=>K,Nn:()=>Z});var u=k(576);const f=(0,k(3888).d)(X=>function(ue){X(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((he,Ne)=>`${Ne+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ye=k(8737);class K{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Fe of ue)Fe.remove(this);else ue.remove(this);const{initialTeardown:he}=this;if((0,u.m)(he))try{he()}catch(Fe){ne=Fe instanceof f?Fe.errors:[Fe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const Fe of Ne)try{ae(Fe)}catch(Le){ne=ne??[],Le instanceof f?ne=[...ne,...Le.errors]:ne.push(Le)}}if(ne)throw new f(ne)}}add(ne){var ue;if(ne&&ne!==this)if(this.closed)ae(ne);else{if(ne instanceof K){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ne)}}_hasParent(ne){const{_parentage:ue}=this;return ue===ne||Array.isArray(ue)&&ue.includes(ne)}_addParent(ne){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ne),ue):ue?[ue,ne]:ne}_removeParent(ne){const{_parentage:ue}=this;ue===ne?this._parentage=null:Array.isArray(ue)&&(0,ye.P)(ue,ne)}remove(ne){const{_finalizers:ue}=this;ue&&(0,ye.P)(ue,ne),ne instanceof K&&ne._removeParent(this)}}K.EMPTY=(()=>{const X=new K;return X.closed=!0,X})();const q=K.EMPTY;function Z(X){return X instanceof K||X&&"closed"in X&&(0,u.m)(X.remove)&&(0,u.m)(X.add)&&(0,u.m)(X.unsubscribe)}function ae(X){(0,u.m)(X)?X():X.unsubscribe()}},2416:(Vt,Be,k)=>{"use strict";k.d(Be,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(Vt,Be,k)=>{"use strict";k.d(Be,{c:()=>q});var u=k(9751),$=k(727),f=k(8343),ye=k(5403),K=k(4482);class q extends u.y{constructor(ae,X){super(),this.source=ae,this.subjectFactory=X,this._subject=null,this._refCount=0,this._connection=null,(0,K.A)(ae)&&(this.lift=ae.lift)}_subscribe(ae){return this.getSubject().subscribe(ae)}getSubject(){const ae=this._subject;return(!ae||ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ae}=this;this._subject=this._connection=null,ae?.unsubscribe()}connect(){let ae=this._connection;if(!ae){ae=this._connection=new $.w0;const X=this.getSubject();ae.add(this.source.subscribe((0,ye.x)(X,void 0,()=>{this._teardown(),X.complete()},ne=>{this._teardown(),X.error(ne)},()=>this._teardown()))),ae.closed&&(this._connection=null,ae=$.w0.EMPTY)}return ae}refCount(){return(0,f.x)()(this)}}},9841:(Vt,Be,k)=>{"use strict";k.d(Be,{a:()=>ne,l:()=>ue});var u=k(9751),$=k(4742),f=k(2076),ye=k(4671),K=k(3268),q=k(3269),Z=k(1810),ae=k(5403),X=k(9672);function ne(...Ne){const Fe=(0,q.yG)(Ne),Le=(0,q.jO)(Ne),{args:We,keys:He}=(0,$.D)(Ne);if(0===We.length)return(0,f.D)([],Fe);const Me=new u.y(ue(We,Fe,He?mt=>(0,Z.n)(He,mt):ye.y));return Le?Me.pipe((0,K.Z)(Le)):Me}function ue(Ne,Fe,Le=ye.y){return We=>{he(Fe,()=>{const{length:He}=Ne,Me=new Array(He);let mt=He,nn=He;for(let qe=0;qe<He;qe++)he(Fe,()=>{const ie=(0,f.D)(Ne[qe],Fe);let je=!1;ie.subscribe((0,ae.x)(We,ve=>{Me[qe]=ve,je||(je=!0,nn--),nn||We.next(Le(Me.slice()))},()=>{--mt||We.complete()}))},We)},We)}}function he(Ne,Fe,Le){Ne?(0,X.f)(Le,Ne,Fe):Fe()}},7272:(Vt,Be,k)=>{"use strict";k.d(Be,{z:()=>K});var u=k(8189),f=k(3269),ye=k(2076);function K(...q){return function $(){return(0,u.J)(1)}()((0,ye.D)(q,(0,f.yG)(q)))}},9770:(Vt,Be,k)=>{"use strict";k.d(Be,{P:()=>f});var u=k(9751),$=k(8421);function f(ye){return new u.y(K=>{(0,$.Xf)(ye()).subscribe(K)})}},515:(Vt,Be,k)=>{"use strict";k.d(Be,{E:()=>$});const $=new(k(9751).y)(K=>K.complete())},4128:(Vt,Be,k)=>{"use strict";k.d(Be,{D:()=>ae});var u=k(9751),$=k(4742),f=k(8421),ye=k(3269),K=k(5403),q=k(3268),Z=k(1810);function ae(...X){const ne=(0,ye.jO)(X),{args:ue,keys:he}=(0,$.D)(X),Ne=new u.y(Fe=>{const{length:Le}=ue;if(!Le)return void Fe.complete();const We=new Array(Le);let He=Le,Me=Le;for(let mt=0;mt<Le;mt++){let nn=!1;(0,f.Xf)(ue[mt]).subscribe((0,K.x)(Fe,qe=>{nn||(nn=!0,Me--),We[mt]=qe},()=>He--,void 0,()=>{(!He||!nn)&&(Me||Fe.next(he?(0,Z.n)(he,We):We),Fe.complete())}))}});return ne?Ne.pipe((0,q.Z)(ne)):Ne}},2076:(Vt,Be,k)=>{"use strict";k.d(Be,{D:()=>ve});var u=k(8421),$=k(9672),f=k(4482),ye=k(5403);function K(_e,Xe=0){return(0,f.e)((be,ze)=>{be.subscribe((0,ye.x)(ze,$e=>(0,$.f)(ze,_e,()=>ze.next($e),Xe),()=>(0,$.f)(ze,_e,()=>ze.complete(),Xe),$e=>(0,$.f)(ze,_e,()=>ze.error($e),Xe)))})}function q(_e,Xe=0){return(0,f.e)((be,ze)=>{ze.add(_e.schedule(()=>be.subscribe(ze),Xe))})}var X=k(9751),ue=k(2202),he=k(576);function Fe(_e,Xe){if(!_e)throw new Error("Iterable cannot be null");return new X.y(be=>{(0,$.f)(be,Xe,()=>{const ze=_e[Symbol.asyncIterator]();(0,$.f)(be,Xe,()=>{ze.next().then($e=>{$e.done?be.complete():be.next($e.value)})},0,!0)})})}var Le=k(3670),We=k(8239),He=k(1144),Me=k(6495),mt=k(2206),nn=k(4532),qe=k(3260);function ve(_e,Xe){return Xe?function je(_e,Xe){if(null!=_e){if((0,Le.c)(_e))return function Z(_e,Xe){return(0,u.Xf)(_e).pipe(q(Xe),K(Xe))}(_e,Xe);if((0,He.z)(_e))return function ne(_e,Xe){return new X.y(be=>{let ze=0;return Xe.schedule(function(){ze===_e.length?be.complete():(be.next(_e[ze++]),be.closed||this.schedule())})})}(_e,Xe);if((0,We.t)(_e))return function ae(_e,Xe){return(0,u.Xf)(_e).pipe(q(Xe),K(Xe))}(_e,Xe);if((0,mt.D)(_e))return Fe(_e,Xe);if((0,Me.T)(_e))return function Ne(_e,Xe){return new X.y(be=>{let ze;return(0,$.f)(be,Xe,()=>{ze=_e[ue.h](),(0,$.f)(be,Xe,()=>{let $e,lt;try{({value:$e,done:lt}=ze.next())}catch(st){return void be.error(st)}lt?be.complete():be.next($e)},0,!0)}),()=>(0,he.m)(ze?.return)&&ze.return()})}(_e,Xe);if((0,qe.L)(_e))return function ie(_e,Xe){return Fe((0,qe.Q)(_e),Xe)}(_e,Xe)}throw(0,nn.z)(_e)}(_e,Xe):(0,u.Xf)(_e)}},4968:(Vt,Be,k)=>{"use strict";k.d(Be,{R:()=>ne});var u=k(8421),$=k(9751),f=k(5577),ye=k(1144),K=k(576),q=k(3268);const Z=["addListener","removeListener"],ae=["addEventListener","removeEventListener"],X=["on","off"];function ne(Le,We,He,Me){if((0,K.m)(He)&&(Me=He,He=void 0),Me)return ne(Le,We,He).pipe((0,q.Z)(Me));const[mt,nn]=function Fe(Le){return(0,K.m)(Le.addEventListener)&&(0,K.m)(Le.removeEventListener)}(Le)?ae.map(qe=>ie=>Le[qe](We,ie,He)):function he(Le){return(0,K.m)(Le.addListener)&&(0,K.m)(Le.removeListener)}(Le)?Z.map(ue(Le,We)):function Ne(Le){return(0,K.m)(Le.on)&&(0,K.m)(Le.off)}(Le)?X.map(ue(Le,We)):[];if(!mt&&(0,ye.z)(Le))return(0,f.z)(qe=>ne(qe,We,He))((0,u.Xf)(Le));if(!mt)throw new TypeError("Invalid event target");return new $.y(qe=>{const ie=(...je)=>qe.next(1<je.length?je:je[0]);return mt(ie),()=>nn(ie)})}function ue(Le,We){return He=>Me=>Le[He](We,Me)}},8421:(Vt,Be,k)=>{"use strict";k.d(Be,{Xf:()=>Ne});var u=k(655),$=k(1144),f=k(8239),ye=k(9751),K=k(3670),q=k(2206),Z=k(4532),ae=k(6495),X=k(3260),ne=k(576),ue=k(7849),he=k(8822);function Ne(qe){if(qe instanceof ye.y)return qe;if(null!=qe){if((0,K.c)(qe))return function Fe(qe){return new ye.y(ie=>{const je=qe[he.L]();if((0,ne.m)(je.subscribe))return je.subscribe(ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,$.z)(qe))return function Le(qe){return new ye.y(ie=>{for(let je=0;je<qe.length&&!ie.closed;je++)ie.next(qe[je]);ie.complete()})}(qe);if((0,f.t)(qe))return function We(qe){return new ye.y(ie=>{qe.then(je=>{ie.closed||(ie.next(je),ie.complete())},je=>ie.error(je)).then(null,ue.h)})}(qe);if((0,q.D)(qe))return Me(qe);if((0,ae.T)(qe))return function He(qe){return new ye.y(ie=>{for(const je of qe)if(ie.next(je),ie.closed)return;ie.complete()})}(qe);if((0,X.L)(qe))return function mt(qe){return Me((0,X.Q)(qe))}(qe)}throw(0,Z.z)(qe)}function Me(qe){return new ye.y(ie=>{(function nn(qe,ie){var je,ve,_e,Xe;return(0,u.mG)(this,void 0,void 0,function*(){try{for(je=(0,u.KL)(qe);!(ve=yield je.next()).done;)if(ie.next(ve.value),ie.closed)return}catch(be){_e={error:be}}finally{try{ve&&!ve.done&&(Xe=je.return)&&(yield Xe.call(je))}finally{if(_e)throw _e.error}}ie.complete()})})(qe,ie).catch(je=>ie.error(je))})}},6451:(Vt,Be,k)=>{"use strict";k.d(Be,{T:()=>q});var u=k(8189),$=k(8421),f=k(515),ye=k(3269),K=k(2076);function q(...Z){const ae=(0,ye.yG)(Z),X=(0,ye._6)(Z,1/0),ne=Z;return ne.length?1===ne.length?(0,$.Xf)(ne[0]):(0,u.J)(X)((0,K.D)(ne,ae)):f.E}},9646:(Vt,Be,k)=>{"use strict";k.d(Be,{of:()=>f});var u=k(3269),$=k(2076);function f(...ye){const K=(0,u.yG)(ye);return(0,$.D)(ye,K)}},5403:(Vt,Be,k)=>{"use strict";k.d(Be,{x:()=>$});var u=k(930);function $(ye,K,q,Z,ae){return new f(ye,K,q,Z,ae)}class f extends u.Lv{constructor(K,q,Z,ae,X,ne){super(K),this.onFinalize=X,this.shouldUnsubscribe=ne,this._next=q?function(ue){try{q(ue)}catch(he){K.error(he)}}:super._next,this._error=ae?function(ue){try{ae(ue)}catch(he){K.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(ue){K.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:q}=this;super.unsubscribe(),!q&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},4351:(Vt,Be,k)=>{"use strict";k.d(Be,{b:()=>f});var u=k(5577),$=k(576);function f(ye,K){return(0,$.m)(K)?(0,u.z)(ye,K,1):(0,u.z)(ye,1)}},1884:(Vt,Be,k)=>{"use strict";k.d(Be,{x:()=>ye});var u=k(4671),$=k(4482),f=k(5403);function ye(q,Z=u.y){return q=q??K,(0,$.e)((ae,X)=>{let ne,ue=!0;ae.subscribe((0,f.x)(X,he=>{const Ne=Z(he);(ue||!q(ne,Ne))&&(ue=!1,ne=Ne,X.next(he))}))})}function K(q,Z){return q===Z}},9300:(Vt,Be,k)=>{"use strict";k.d(Be,{h:()=>f});var u=k(4482),$=k(5403);function f(ye,K){return(0,u.e)((q,Z)=>{let ae=0;q.subscribe((0,$.x)(Z,X=>ye.call(K,X,ae++)&&Z.next(X)))})}},4004:(Vt,Be,k)=>{"use strict";k.d(Be,{U:()=>f});var u=k(4482),$=k(5403);function f(ye,K){return(0,u.e)((q,Z)=>{let ae=0;q.subscribe((0,$.x)(Z,X=>{Z.next(ye.call(K,X,ae++))}))})}},8189:(Vt,Be,k)=>{"use strict";k.d(Be,{J:()=>f});var u=k(5577),$=k(4671);function f(ye=1/0){return(0,u.z)($.y,ye)}},5577:(Vt,Be,k)=>{"use strict";k.d(Be,{z:()=>ae});var u=k(4004),$=k(8421),f=k(4482),ye=k(9672),K=k(5403),Z=k(576);function ae(X,ne,ue=1/0){return(0,Z.m)(ne)?ae((he,Ne)=>(0,u.U)((Fe,Le)=>ne(he,Fe,Ne,Le))((0,$.Xf)(X(he,Ne))),ue):("number"==typeof ne&&(ue=ne),(0,f.e)((he,Ne)=>function q(X,ne,ue,he,Ne,Fe,Le,We){const He=[];let Me=0,mt=0,nn=!1;const qe=()=>{nn&&!He.length&&!Me&&ne.complete()},ie=ve=>Me<he?je(ve):He.push(ve),je=ve=>{Fe&&ne.next(ve),Me++;let _e=!1;(0,$.Xf)(ue(ve,mt++)).subscribe((0,K.x)(ne,Xe=>{Ne?.(Xe),Fe?ie(Xe):ne.next(Xe)},()=>{_e=!0},void 0,()=>{if(_e)try{for(Me--;He.length&&Me<he;){const Xe=He.shift();Le?(0,ye.f)(ne,Le,()=>je(Xe)):je(Xe)}qe()}catch(Xe){ne.error(Xe)}}))};return X.subscribe((0,K.x)(ne,ie,()=>{nn=!0,qe()})),()=>{We?.()}}(he,Ne,X,ue)))}},8343:(Vt,Be,k)=>{"use strict";k.d(Be,{x:()=>f});var u=k(4482),$=k(5403);function f(){return(0,u.e)((ye,K)=>{let q=null;ye._refCount++;const Z=(0,$.x)(K,void 0,void 0,void 0,()=>{if(!ye||ye._refCount<=0||0<--ye._refCount)return void(q=null);const ae=ye._connection,X=q;q=null,ae&&(!X||ae===X)&&ae.unsubscribe(),K.unsubscribe()});ye.subscribe(Z),Z.closed||(q=ye.connect())})}},5026:(Vt,Be,k)=>{"use strict";k.d(Be,{R:()=>ye});var u=k(4482),$=k(5403);function f(K,q,Z,ae,X){return(ne,ue)=>{let he=Z,Ne=q,Fe=0;ne.subscribe((0,$.x)(ue,Le=>{const We=Fe++;Ne=he?K(Ne,Le,We):(he=!0,Le),ae&&ue.next(Ne)},X&&(()=>{he&&ue.next(Ne),ue.complete()})))}}function ye(K,q){return(0,u.e)(f(K,q,arguments.length>=2,!0))}},3099:(Vt,Be,k)=>{"use strict";k.d(Be,{B:()=>q});var u=k(2076),$=k(5698),f=k(7579),ye=k(930),K=k(4482);function q(ae={}){const{connector:X=(()=>new f.x),resetOnError:ne=!0,resetOnComplete:ue=!0,resetOnRefCountZero:he=!0}=ae;return Ne=>{let Fe=null,Le=null,We=null,He=0,Me=!1,mt=!1;const nn=()=>{Le?.unsubscribe(),Le=null},qe=()=>{nn(),Fe=We=null,Me=mt=!1},ie=()=>{const je=Fe;qe(),je?.unsubscribe()};return(0,K.e)((je,ve)=>{He++,!mt&&!Me&&nn();const _e=We=We??X();ve.add(()=>{He--,0===He&&!mt&&!Me&&(Le=Z(ie,he))}),_e.subscribe(ve),Fe||(Fe=new ye.Hp({next:Xe=>_e.next(Xe),error:Xe=>{mt=!0,nn(),Le=Z(qe,ne,Xe),_e.error(Xe)},complete:()=>{Me=!0,nn(),Le=Z(qe,ue),_e.complete()}}),(0,u.D)(je).subscribe(Fe))})(Ne)}}function Z(ae,X,...ne){return!0===X?(ae(),null):!1===X?null:X(...ne).pipe((0,$.q)(1)).subscribe(()=>ae())}},3151:(Vt,Be,k)=>{"use strict";k.d(Be,{d:()=>K});var u=k(7579),$=k(6063);class f extends u.x{constructor(Z=1/0,ae=1/0,X=$.l){super(),this._bufferSize=Z,this._windowTime=ae,this._timestampProvider=X,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ae===1/0,this._bufferSize=Math.max(1,Z),this._windowTime=Math.max(1,ae)}next(Z){const{isStopped:ae,_buffer:X,_infiniteTimeWindow:ne,_timestampProvider:ue,_windowTime:he}=this;ae||(X.push(Z),!ne&&X.push(ue.now()+he)),this._trimBuffer(),super.next(Z)}_subscribe(Z){this._throwIfClosed(),this._trimBuffer();const ae=this._innerSubscribe(Z),{_infiniteTimeWindow:X,_buffer:ne}=this,ue=ne.slice();for(let he=0;he<ue.length&&!Z.closed;he+=X?1:2)Z.next(ue[he]);return this._checkFinalizedStatuses(Z),ae}_trimBuffer(){const{_bufferSize:Z,_timestampProvider:ae,_buffer:X,_infiniteTimeWindow:ne}=this,ue=(ne?1:2)*Z;if(Z<1/0&&ue<X.length&&X.splice(0,X.length-ue),!ne){const he=ae.now();let Ne=0;for(let Fe=1;Fe<X.length&&X[Fe]<=he;Fe+=2)Ne=Fe;Ne&&X.splice(0,Ne+1)}}}var ye=k(3099);function K(q,Z,ae){let X,ne=!1;return q&&"object"==typeof q?({bufferSize:X=1/0,windowTime:Z=1/0,refCount:ne=!1,scheduler:ae}=q):X=q??1/0,(0,ye.B)({connector:()=>new f(X,Z,ae),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:ne})}},8675:(Vt,Be,k)=>{"use strict";k.d(Be,{O:()=>ye});var u=k(7272),$=k(3269),f=k(4482);function ye(...K){const q=(0,$.yG)(K);return(0,f.e)((Z,ae)=>{(q?(0,u.z)(K,Z,q):(0,u.z)(K,Z)).subscribe(ae)})}},3900:(Vt,Be,k)=>{"use strict";k.d(Be,{w:()=>ye});var u=k(8421),$=k(4482),f=k(5403);function ye(K,q){return(0,$.e)((Z,ae)=>{let X=null,ne=0,ue=!1;const he=()=>ue&&!X&&ae.complete();Z.subscribe((0,f.x)(ae,Ne=>{X?.unsubscribe();let Fe=0;const Le=ne++;(0,u.Xf)(K(Ne,Le)).subscribe(X=(0,f.x)(ae,We=>ae.next(q?q(Ne,We,Le,Fe++):We),()=>{X=null,he()}))},()=>{ue=!0,he()}))})}},5698:(Vt,Be,k)=>{"use strict";k.d(Be,{q:()=>ye});var u=k(515),$=k(4482),f=k(5403);function ye(K){return K<=0?()=>u.E:(0,$.e)((q,Z)=>{let ae=0;q.subscribe((0,f.x)(Z,X=>{++ae<=K&&(Z.next(X),K<=ae&&Z.complete())}))})}},2722:(Vt,Be,k)=>{"use strict";k.d(Be,{R:()=>K});var u=k(4482),$=k(5403),f=k(8421),ye=k(5032);function K(q){return(0,u.e)((Z,ae)=>{(0,f.Xf)(q).subscribe((0,$.x)(ae,()=>ae.complete(),ye.Z)),!ae.closed&&Z.subscribe(ae)})}},8505:(Vt,Be,k)=>{"use strict";k.d(Be,{b:()=>K});var u=k(576),$=k(4482),f=k(5403),ye=k(4671);function K(q,Z,ae){const X=(0,u.m)(q)||Z||ae?{next:q,error:Z,complete:ae}:q;return X?(0,$.e)((ne,ue)=>{var he;null===(he=X.subscribe)||void 0===he||he.call(X);let Ne=!0;ne.subscribe((0,f.x)(ue,Fe=>{var Le;null===(Le=X.next)||void 0===Le||Le.call(X,Fe),ue.next(Fe)},()=>{var Fe;Ne=!1,null===(Fe=X.complete)||void 0===Fe||Fe.call(X),ue.complete()},Fe=>{var Le;Ne=!1,null===(Le=X.error)||void 0===Le||Le.call(X,Fe),ue.error(Fe)},()=>{var Fe,Le;Ne&&(null===(Fe=X.unsubscribe)||void 0===Fe||Fe.call(X)),null===(Le=X.finalize)||void 0===Le||Le.call(X)}))}):ye.y}},6063:(Vt,Be,k)=>{"use strict";k.d(Be,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Vt,Be,k)=>{"use strict";k.d(Be,{z:()=>u});const u={setTimeout($,f,...ye){const{delegate:K}=u;return K?.setTimeout?K.setTimeout($,f,...ye):setTimeout($,f,...ye)},clearTimeout($){const{delegate:f}=u;return(f?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(Vt,Be,k)=>{"use strict";k.d(Be,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Vt,Be,k)=>{"use strict";k.d(Be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Vt,Be,k)=>{"use strict";k.d(Be,{_6:()=>q,jO:()=>ye,yG:()=>K});var u=k(576),$=k(3532);function f(Z){return Z[Z.length-1]}function ye(Z){return(0,u.m)(f(Z))?Z.pop():void 0}function K(Z){return(0,$.K)(f(Z))?Z.pop():void 0}function q(Z,ae){return"number"==typeof f(Z)?Z.pop():ae}},4742:(Vt,Be,k)=>{"use strict";k.d(Be,{D:()=>K});const{isArray:u}=Array,{getPrototypeOf:$,prototype:f,keys:ye}=Object;function K(Z){if(1===Z.length){const ae=Z[0];if(u(ae))return{args:ae,keys:null};if(function q(Z){return Z&&"object"==typeof Z&&$(Z)===f}(ae)){const X=ye(ae);return{args:X.map(ne=>ae[ne]),keys:X}}}return{args:Z,keys:null}}},8737:(Vt,Be,k)=>{"use strict";function u($,f){if($){const ye=$.indexOf(f);0<=ye&&$.splice(ye,1)}}k.d(Be,{P:()=>u})},3888:(Vt,Be,k)=>{"use strict";function u($){const ye=$(K=>{Error.call(K),K.stack=(new Error).stack});return ye.prototype=Object.create(Error.prototype),ye.prototype.constructor=ye,ye}k.d(Be,{d:()=>u})},1810:(Vt,Be,k)=>{"use strict";function u($,f){return $.reduce((ye,K,q)=>(ye[K]=f[q],ye),{})}k.d(Be,{n:()=>u})},2806:(Vt,Be,k)=>{"use strict";k.d(Be,{O:()=>ye,x:()=>f});var u=k(2416);let $=null;function f(K){if(u.v.useDeprecatedSynchronousErrorHandling){const q=!$;if(q&&($={errorThrown:!1,error:null}),K(),q){const{errorThrown:Z,error:ae}=$;if($=null,Z)throw ae}}else K()}function ye(K){u.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=K)}},9672:(Vt,Be,k)=>{"use strict";function u($,f,ye,K=0,q=!1){const Z=f.schedule(function(){ye(),q?$.add(this.schedule(null,K)):this.unsubscribe()},K);if($.add(Z),!q)return Z}k.d(Be,{f:()=>u})},4671:(Vt,Be,k)=>{"use strict";function u($){return $}k.d(Be,{y:()=>u})},1144:(Vt,Be,k)=>{"use strict";k.d(Be,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(Vt,Be,k)=>{"use strict";k.d(Be,{D:()=>$});var u=k(576);function $(f){return Symbol.asyncIterator&&(0,u.m)(f?.[Symbol.asyncIterator])}},576:(Vt,Be,k)=>{"use strict";function u($){return"function"==typeof $}k.d(Be,{m:()=>u})},3670:(Vt,Be,k)=>{"use strict";k.d(Be,{c:()=>f});var u=k(8822),$=k(576);function f(ye){return(0,$.m)(ye[u.L])}},6495:(Vt,Be,k)=>{"use strict";k.d(Be,{T:()=>f});var u=k(2202),$=k(576);function f(ye){return(0,$.m)(ye?.[u.h])}},5191:(Vt,Be,k)=>{"use strict";k.d(Be,{b:()=>f});var u=k(9751),$=k(576);function f(ye){return!!ye&&(ye instanceof u.y||(0,$.m)(ye.lift)&&(0,$.m)(ye.subscribe))}},8239:(Vt,Be,k)=>{"use strict";k.d(Be,{t:()=>$});var u=k(576);function $(f){return(0,u.m)(f?.then)}},3260:(Vt,Be,k)=>{"use strict";k.d(Be,{L:()=>ye,Q:()=>f});var u=k(655),$=k(576);function f(K){return(0,u.FC)(this,arguments,function*(){const Z=K.getReader();try{for(;;){const{value:ae,done:X}=yield(0,u.qq)(Z.read());if(X)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ae)}}finally{Z.releaseLock()}})}function ye(K){return(0,$.m)(K?.getReader)}},3532:(Vt,Be,k)=>{"use strict";k.d(Be,{K:()=>$});var u=k(576);function $(f){return f&&(0,u.m)(f.schedule)}},4482:(Vt,Be,k)=>{"use strict";k.d(Be,{A:()=>$,e:()=>f});var u=k(576);function $(ye){return(0,u.m)(ye?.lift)}function f(ye){return K=>{if($(K))return K.lift(function(q){try{return ye(q,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Vt,Be,k)=>{"use strict";k.d(Be,{Z:()=>ye});var u=k(4004);const{isArray:$}=Array;function ye(K){return(0,u.U)(q=>function f(K,q){return $(q)?K(...q):K(q)}(K,q))}},5032:(Vt,Be,k)=>{"use strict";function u(){}k.d(Be,{Z:()=>u})},9635:(Vt,Be,k)=>{"use strict";k.d(Be,{U:()=>f,z:()=>$});var u=k(4671);function $(...ye){return f(ye)}function f(ye){return 0===ye.length?u.y:1===ye.length?ye[0]:function(q){return ye.reduce((Z,ae)=>ae(Z),q)}}},7849:(Vt,Be,k)=>{"use strict";k.d(Be,{h:()=>f});var u=k(2416),$=k(3410);function f(ye){$.z.setTimeout(()=>{const{onUnhandledError:K}=u.v;if(!K)throw ye;K(ye)})}},4532:(Vt,Be,k)=>{"use strict";function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Be,{z:()=>u})},655:(Vt,Be,k)=>{"use strict";function ae(be,ze,$e,lt){return new($e||($e=Promise))(function(bt,ot){function Bt(ft){try{Ge(lt.next(ft))}catch(Jt){ot(Jt)}}function Se(ft){try{Ge(lt.throw(ft))}catch(Jt){ot(Jt)}}function Ge(ft){ft.done?bt(ft.value):function st(bt){return bt instanceof $e?bt:new $e(function(ot){ot(bt)})}(ft.value).then(Bt,Se)}Ge((lt=lt.apply(be,ze||[])).next())})}function He(be){return this instanceof He?(this.v=be,this):new He(be)}function Me(be,ze,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,lt=$e.apply(be,ze||[]),bt=[];return st={},ot("next"),ot("throw"),ot("return"),st[Symbol.asyncIterator]=function(){return this},st;function ot(rn){lt[rn]&&(st[rn]=function(Dn){return new Promise(function(un,Gn){bt.push([rn,Dn,un,Gn])>1||Bt(rn,Dn)})})}function Bt(rn,Dn){try{!function Se(rn){rn.value instanceof He?Promise.resolve(rn.value.v).then(Ge,ft):Jt(bt[0][2],rn)}(lt[rn](Dn))}catch(un){Jt(bt[0][3],un)}}function Ge(rn){Bt("next",rn)}function ft(rn){Bt("throw",rn)}function Jt(rn,Dn){rn(Dn),bt.shift(),bt.length&&Bt(bt[0][0],bt[0][1])}}function nn(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,ze=be[Symbol.asyncIterator];return ze?ze.call(be):(be=function he(be){var ze="function"==typeof Symbol&&Symbol.iterator,$e=ze&&be[ze],lt=0;if($e)return $e.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&lt>=be.length&&(be=void 0),{value:be&&be[lt++],done:!be}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),$e={},lt("next"),lt("throw"),lt("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function lt(bt){$e[bt]=be[bt]&&function(ot){return new Promise(function(Bt,Se){!function st(bt,ot,Bt,Se){Promise.resolve(Se).then(function(Ge){bt({value:Ge,done:Bt})},ot)}(Bt,Se,(ot=be[bt](ot)).done,ot.value)})}}}k.d(Be,{FC:()=>Me,KL:()=>nn,mG:()=>ae,qq:()=>He})},7340:(Vt,Be,k)=>{"use strict";k.d(Be,{LC:()=>$,SB:()=>X,X$:()=>ye,ZE:()=>mt,ZN:()=>Me,_j:()=>u,eR:()=>ue,jt:()=>K,k1:()=>nn,l3:()=>f,oB:()=>ae,vP:()=>Z});class u{}class ${}const f="*";function ye(qe,ie){return{type:7,name:qe,definitions:ie,options:{}}}function K(qe,ie=null){return{type:4,styles:ie,timings:qe}}function Z(qe,ie=null){return{type:2,steps:qe,options:ie}}function ae(qe){return{type:6,styles:qe,offset:null}}function X(qe,ie,je){return{type:0,name:qe,styles:ie,options:je}}function ue(qe,ie,je=null){return{type:1,expr:qe,animation:ie,options:je}}function He(qe){Promise.resolve().then(qe)}class Me{constructor(ie=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ie+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ie=>ie()),this._onDoneFns=[])}onStart(ie){this._originalOnStartFns.push(ie),this._onStartFns.push(ie)}onDone(ie){this._originalOnDoneFns.push(ie),this._onDoneFns.push(ie)}onDestroy(ie){this._onDestroyFns.push(ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){He(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ie=>ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ie=>ie()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(ie){this._position=this.totalTime?ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ie){const je="start"==ie?this._onStartFns:this._onDoneFns;je.forEach(ve=>ve()),je.length=0}}class mt{constructor(ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ie;let je=0,ve=0,_e=0;const Xe=this.players.length;0==Xe?He(()=>this._onFinish()):this.players.forEach(be=>{be.onDone(()=>{++je==Xe&&this._onFinish()}),be.onDestroy(()=>{++ve==Xe&&this._onDestroy()}),be.onStart(()=>{++_e==Xe&&this._onStart()})}),this.totalTime=this.players.reduce((be,ze)=>Math.max(be,ze.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ie=>ie()),this._onDoneFns=[])}init(){this.players.forEach(ie=>ie.init())}onStart(ie){this._onStartFns.push(ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ie=>ie()),this._onStartFns=[])}onDone(ie){this._onDoneFns.push(ie)}onDestroy(ie){this._onDestroyFns.push(ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ie=>ie.play())}pause(){this.players.forEach(ie=>ie.pause())}restart(){this.players.forEach(ie=>ie.restart())}finish(){this._onFinish(),this.players.forEach(ie=>ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ie=>ie.destroy()),this._onDestroyFns.forEach(ie=>ie()),this._onDestroyFns=[])}reset(){this.players.forEach(ie=>ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ie){const je=ie*this.totalTime;this.players.forEach(ve=>{const _e=ve.totalTime?Math.min(1,je/ve.totalTime):1;ve.setPosition(_e)})}getPosition(){const ie=this.players.reduce((je,ve)=>null===je||ve.totalTime>je.totalTime?ve:je,null);return null!=ie?ie.getPosition():0}beforeDestroy(){this.players.forEach(ie=>{ie.beforeDestroy&&ie.beforeDestroy()})}triggerCallback(ie){const je="start"==ie?this._onStartFns:this._onDoneFns;je.forEach(ve=>ve()),je.length=0}}const nn="!"},3353:(Vt,Be,k)=>{"use strict";k.d(Be,{Mq:()=>Fe,_i:()=>Le,t4:()=>ye});var u=k(4650),$=k(6895);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{f=!1}let he,Ne,ye=(()=>{class ie{constructor(ve){this._platformId=ve,this.isBrowser=this._platformId?(0,$.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ie.\u0275fac=function(ve){return new(ve||ie)(u.LFG(u.Lbi))},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function Fe(){if(null==Ne){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ne=!1,Ne;if("scrollBehavior"in document.documentElement.style)Ne=!0;else{const ie=Element.prototype.scrollTo;Ne=!!ie&&!/\{\s*\[native code\]\s*\}/.test(ie.toString())}}return Ne}function Le(){if("object"!=typeof document||!document)return 0;if(null==he){const ie=document.createElement("div"),je=ie.style;ie.dir="rtl",je.width="1px",je.overflow="auto",je.visibility="hidden",je.pointerEvents="none",je.position="absolute";const ve=document.createElement("div"),_e=ve.style;_e.width="2px",_e.height="1px",ie.appendChild(ve),document.body.appendChild(ie),he=0,0===ie.scrollLeft&&(ie.scrollLeft=1,he=0===ie.scrollLeft?1:2),ie.remove()}return he}},8249:(Vt,Be,k)=>{"use strict";k.d(Be,{xd:()=>ts,x0:()=>qi,N7:()=>zi,Cl:()=>xe});var u=k(4650);function f(J,V=0){return function ye(J){return!isNaN(parseFloat(J))&&!isNaN(Number(J))}(J)?Number(J):V}var X=k(7579),ne=k(9646),ue=k(9751),he=k(4968),Ne=k(727);class Fe extends Ne.w0{constructor(V,B){super()}schedule(V,B=0){return this}}const Le={setInterval(J,V,...B){const{delegate:le}=Le;return le?.setInterval?le.setInterval(J,V,...B):setInterval(J,V,...B)},clearInterval(J){const{delegate:V}=Le;return(V?.clearInterval||clearInterval)(J)},delegate:void 0};var We=k(8737);class He extends Fe{constructor(V,B){super(V,B),this.scheduler=V,this.work=B,this.pending=!1}schedule(V,B=0){if(this.closed)return this;this.state=V;const le=this.id,Ue=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(Ue,le,B)),this.pending=!0,this.delay=B,this.id=this.id||this.requestAsyncId(Ue,this.id,B),this}requestAsyncId(V,B,le=0){return Le.setInterval(V.flush.bind(V,this),le)}recycleAsyncId(V,B,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return B;Le.clearInterval(B)}execute(V,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(V,B);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(V,B){let Ue,le=!1;try{this.work(V)}catch(nt){le=!0,Ue=nt||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),Ue}unsubscribe(){if(!this.closed){const{id:V,scheduler:B}=this,{actions:le}=B;this.work=this.state=this.scheduler=null,this.pending=!1,(0,We.P)(le,this),null!=V&&(this.id=this.recycleAsyncId(B,V,null)),this.delay=null,super.unsubscribe()}}}const Me={schedule(J){let V=requestAnimationFrame,B=cancelAnimationFrame;const{delegate:le}=Me;le&&(V=le.requestAnimationFrame,B=le.cancelAnimationFrame);const Ue=V(nt=>{B=void 0,J(nt)});return new Ne.w0(()=>B?.(Ue))},requestAnimationFrame(...J){const{delegate:V}=Me;return(V?.requestAnimationFrame||requestAnimationFrame)(...J)},cancelAnimationFrame(...J){const{delegate:V}=Me;return(V?.cancelAnimationFrame||cancelAnimationFrame)(...J)},delegate:void 0};var nn=k(6063);class qe{constructor(V,B=qe.now){this.schedulerActionCtor=V,this.now=B}schedule(V,B=0,le){return new this.schedulerActionCtor(this,V).schedule(le,B)}}qe.now=nn.l.now;class ie extends qe{constructor(V,B=qe.now){super(V,B),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:B}=this;if(this._active)return void B.push(V);let le;this._active=!0;do{if(le=V.execute(V.state,V.delay))break}while(V=B.shift());if(this._active=!1,le){for(;V=B.shift();)V.unsubscribe();throw le}}}const ve=new class je extends ie{flush(V){this._active=!0;const B=this._scheduled;this._scheduled=void 0;const{actions:le}=this;let Ue;V=V||le.shift();do{if(Ue=V.execute(V.state,V.delay))break}while((V=le[0])&&V.id===B&&le.shift());if(this._active=!1,Ue){for(;(V=le[0])&&V.id===B&&le.shift();)V.unsubscribe();throw Ue}}}(class mt extends He{constructor(V,B){super(V,B),this.scheduler=V,this.work=B}requestAsyncId(V,B,le=0){return null!==le&&le>0?super.requestAsyncId(V,B,le):(V.actions.push(this),V._scheduled||(V._scheduled=Me.requestAnimationFrame(()=>V.flush(void 0))))}recycleAsyncId(V,B,le=0){if(null!=le&&le>0||null==le&&this.delay>0)return super.recycleAsyncId(V,B,le);V.actions.some(Ue=>Ue.id===B)||(Me.cancelAnimationFrame(B),V._scheduled=void 0)}});let be,Xe=1;const ze={};function $e(J){return J in ze&&(delete ze[J],!0)}const lt={setImmediate(J){const V=Xe++;return ze[V]=!0,be||(be=Promise.resolve()),be.then(()=>$e(V)&&J()),V},clearImmediate(J){$e(J)}},{setImmediate:bt,clearImmediate:ot}=lt,Bt={setImmediate(...J){const{delegate:V}=Bt;return(V?.setImmediate||bt)(...J)},clearImmediate(J){const{delegate:V}=Bt;return(V?.clearImmediate||ot)(J)},delegate:void 0},ft=new class Ge extends ie{flush(V){this._active=!0;const B=this._scheduled;this._scheduled=void 0;const{actions:le}=this;let Ue;V=V||le.shift();do{if(Ue=V.execute(V.state,V.delay))break}while((V=le[0])&&V.id===B&&le.shift());if(this._active=!1,Ue){for(;(V=le[0])&&V.id===B&&le.shift();)V.unsubscribe();throw Ue}}}(class Se extends He{constructor(V,B){super(V,B),this.scheduler=V,this.work=B}requestAsyncId(V,B,le=0){return null!==le&&le>0?super.requestAsyncId(V,B,le):(V.actions.push(this),V._scheduled||(V._scheduled=Bt.setImmediate(V.flush.bind(V,void 0))))}recycleAsyncId(V,B,le=0){if(null!=le&&le>0||null==le&&this.delay>0)return super.recycleAsyncId(V,B,le);V.actions.some(Ue=>Ue.id===B)||(Bt.clearImmediate(B),V._scheduled=void 0)}});var rn=k(5191),Dn=k(1884);const un=new ie(He),Gn=un;var Vn=k(4482),dn=k(8421),Ri=k(5403),Rn=k(3532);function _i(J,V=un){return function Xn(J){return(0,Vn.e)((V,B)=>{let le=!1,Ue=null,nt=null,Ft=!1;const Tn=()=>{if(nt?.unsubscribe(),nt=null,le){le=!1;const zt=Ue;Ue=null,B.next(zt)}Ft&&B.complete()},xn=()=>{nt=null,Ft&&B.complete()};V.subscribe((0,Ri.x)(B,zt=>{le=!0,Ue=zt,nt||(0,dn.Xf)(J(zt)).subscribe(nt=(0,Ri.x)(B,Tn,xn))},()=>{Ft=!0,(!le||!nt||nt.closed)&&B.complete()}))})}(()=>function Yi(J=0,V,B=Gn){let le=-1;return null!=V&&((0,Rn.K)(V)?B=V:le=V),new ue.y(Ue=>{let nt=function Ei(J){return J instanceof Date&&!isNaN(J)}(J)?+J-B.now():J;nt<0&&(nt=0);let Ft=0;return B.schedule(function(){Ue.closed||(Ue.next(Ft++),0<=le?this.schedule(void 0,le):Ue.complete())},nt)})}(J,V))}var Fr=k(9300),es=k(2722),$r=k(8675),pi=k(3900),wr=k(3151),mi=k(3353),Zr=k(6895);const ho=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function nr(){return(0,u.f3M)(Zr.K0)}}),pt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let we=(()=>{class J{constructor(B){if(this.value="ltr",this.change=new u.vpe,B){const Ue=B.documentElement?B.documentElement.dir:null;this.value=function Oe(J){const V=J?.toLowerCase()||"";return"auto"===V&&typeof navigator<"u"&&navigator?.language?pt.test(navigator.language)?"rtl":"ltr":"rtl"===V?"rtl":"ltr"}((B.body?B.body.dir:null)||Ue||"ltr")}}ngOnDestroy(){this.change.complete()}}return J.\u0275fac=function(B){return new(B||J)(u.LFG(ho,8))},J.\u0275prov=u.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),Ct=(()=>{class J{}return J.\u0275fac=function(B){return new(B||J)},J.\u0275mod=u.oAB({type:J}),J.\u0275inj=u.cJS({}),J})();class kn extends class Qt{}{constructor(V){super(),this._data=V}connect(){return(0,rn.b)(this._data)?this._data:(0,ne.of)(this._data)}disconnect(){}}class Ci{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(V,B,le,Ue,nt){V.forEachOperation((Ft,Tn,xn)=>{let zt,Ki;null==Ft.previousIndex?(zt=this._insertView(()=>le(Ft,Tn,xn),xn,B,Ue(Ft)),Ki=zt?1:0):null==xn?(this._detachAndCacheView(Tn,B),Ki=3):(zt=this._moveView(Tn,xn,B,Ue(Ft)),Ki=2),nt&&nt({context:zt?.context,operation:Ki,record:Ft})})}detach(){for(const V of this._viewCache)V.destroy();this._viewCache=[]}_insertView(V,B,le,Ue){const nt=this._insertViewFromCache(B,le);if(nt)return void(nt.context.$implicit=Ue);const Ft=V();return le.createEmbeddedView(Ft.templateRef,Ft.context,Ft.index)}_detachAndCacheView(V,B){const le=B.detach(V);this._maybeCacheView(le,B)}_moveView(V,B,le,Ue){const nt=le.get(V);return le.move(nt,B),nt.context.$implicit=Ue,nt}_maybeCacheView(V,B){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(V);else{const le=B.indexOf(V);-1===le?V.destroy():B.remove(le)}}_insertViewFromCache(V,B){const le=this._viewCache.pop();return le&&B.insert(le,V),le||null}}const Bn=new u.OlP("_ViewRepeater"),$n=["contentWrapper"],kr=["*"],Fi=new u.OlP("VIRTUAL_SCROLL_STRATEGY");class Ni{constructor(V,B,le){this._scrolledIndexChange=new X.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,Dn.x)()),this._viewport=null,this._itemSize=V,this._minBufferPx=B,this._maxBufferPx=le}attach(V){this._viewport=V,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(V,B,le){this._itemSize=V,this._minBufferPx=B,this._maxBufferPx=le,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(V,B){this._viewport&&this._viewport.scrollToOffset(V*this._itemSize,B)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const V=this._viewport.getRenderedRange(),B={start:V.start,end:V.end},le=this._viewport.getViewportSize(),Ue=this._viewport.getDataLength();let nt=this._viewport.measureScrollOffset(),Ft=this._itemSize>0?nt/this._itemSize:0;if(B.end>Ue){const xn=Math.ceil(le/this._itemSize),zt=Math.max(0,Math.min(Ft,Ue-xn));Ft!=zt&&(Ft=zt,nt=zt*this._itemSize,B.start=Math.floor(Ft)),B.end=Math.max(0,Math.min(Ue,B.start+xn))}const Tn=nt-B.start*this._itemSize;if(Tn<this._minBufferPx&&0!=B.start){const xn=Math.ceil((this._maxBufferPx-Tn)/this._itemSize);B.start=Math.max(0,B.start-xn),B.end=Math.min(Ue,Math.ceil(Ft+(le+this._minBufferPx)/this._itemSize))}else{const xn=B.end*this._itemSize-(nt+le);if(xn<this._minBufferPx&&B.end!=Ue){const zt=Math.ceil((this._maxBufferPx-xn)/this._itemSize);zt>0&&(B.end=Math.min(Ue,B.end+zt),B.start=Math.max(0,Math.floor(Ft-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(B),this._viewport.setRenderedContentOffset(this._itemSize*B.start),this._scrolledIndexChange.next(Math.floor(Ft))}}function ds(J){return J._scrollStrategy}let ts=(()=>{class J{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Ni(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(B){this._itemSize=f(B)}get minBufferPx(){return this._minBufferPx}set minBufferPx(B){this._minBufferPx=f(B)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(B){this._maxBufferPx=f(B)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return J.\u0275fac=function(B){return new(B||J)},J.\u0275dir=u.lG2({type:J,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[u._Bn([{provide:Fi,useFactory:ds,deps:[(0,u.Gpc)(()=>J)]}]),u.TTD]}),J})(),Ts=(()=>{class J{constructor(B,le,Ue){this._ngZone=B,this._platform=le,this._scrolled=new X.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Ue}register(B){this.scrollContainers.has(B)||this.scrollContainers.set(B,B.elementScrolled().subscribe(()=>this._scrolled.next(B)))}deregister(B){const le=this.scrollContainers.get(B);le&&(le.unsubscribe(),this.scrollContainers.delete(B))}scrolled(B=20){return this._platform.isBrowser?new ue.y(le=>{this._globalSubscription||this._addGlobalListener();const Ue=B>0?this._scrolled.pipe(_i(B)).subscribe(le):this._scrolled.subscribe(le);return this._scrolledCount++,()=>{Ue.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((B,le)=>this.deregister(le)),this._scrolled.complete()}ancestorScrolled(B,le){const Ue=this.getAncestorScrollContainers(B);return this.scrolled(le).pipe((0,Fr.h)(nt=>!nt||Ue.indexOf(nt)>-1))}getAncestorScrollContainers(B){const le=[];return this.scrollContainers.forEach((Ue,nt)=>{this._scrollableContainsElement(nt,B)&&le.push(nt)}),le}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(B,le){let Ue=function Z(J){return J instanceof u.SBq?J.nativeElement:J}(le),nt=B.getElementRef().nativeElement;do{if(Ue==nt)return!0}while(Ue=Ue.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const B=this._getWindow();return(0,he.R)(B.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return J.\u0275fac=function(B){return new(B||J)(u.LFG(u.R0b),u.LFG(mi.t4),u.LFG(Zr.K0,8))},J.\u0275prov=u.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),Es=(()=>{class J{constructor(B,le,Ue,nt){this.elementRef=B,this.scrollDispatcher=le,this.ngZone=Ue,this.dir=nt,this._destroyed=new X.x,this._elementScrolled=new ue.y(Ft=>this.ngZone.runOutsideAngular(()=>(0,he.R)(this.elementRef.nativeElement,"scroll").pipe((0,es.R)(this._destroyed)).subscribe(Ft)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(B){const le=this.elementRef.nativeElement,Ue=this.dir&&"rtl"==this.dir.value;null==B.left&&(B.left=Ue?B.end:B.start),null==B.right&&(B.right=Ue?B.start:B.end),null!=B.bottom&&(B.top=le.scrollHeight-le.clientHeight-B.bottom),Ue&&0!=(0,mi._i)()?(null!=B.left&&(B.right=le.scrollWidth-le.clientWidth-B.left),2==(0,mi._i)()?B.left=B.right:1==(0,mi._i)()&&(B.left=B.right?-B.right:B.right)):null!=B.right&&(B.left=le.scrollWidth-le.clientWidth-B.right),this._applyScrollToOptions(B)}_applyScrollToOptions(B){const le=this.elementRef.nativeElement;(0,mi.Mq)()?le.scrollTo(B):(null!=B.top&&(le.scrollTop=B.top),null!=B.left&&(le.scrollLeft=B.left))}measureScrollOffset(B){const le="left",nt=this.elementRef.nativeElement;if("top"==B)return nt.scrollTop;if("bottom"==B)return nt.scrollHeight-nt.clientHeight-nt.scrollTop;const Ft=this.dir&&"rtl"==this.dir.value;return"start"==B?B=Ft?"right":le:"end"==B&&(B=Ft?le:"right"),Ft&&2==(0,mi._i)()?B==le?nt.scrollWidth-nt.clientWidth-nt.scrollLeft:nt.scrollLeft:Ft&&1==(0,mi._i)()?B==le?nt.scrollLeft+nt.scrollWidth-nt.clientWidth:-nt.scrollLeft:B==le?nt.scrollLeft:nt.scrollWidth-nt.clientWidth-nt.scrollLeft}}return J.\u0275fac=function(B){return new(B||J)(u.Y36(u.SBq),u.Y36(Ts),u.Y36(u.R0b),u.Y36(we,8))},J.\u0275dir=u.lG2({type:J,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),J})(),go=(()=>{class J{constructor(B,le,Ue){this._platform=B,this._change=new X.x,this._changeListener=nt=>{this._change.next(nt)},this._document=Ue,le.runOutsideAngular(()=>{if(B.isBrowser){const nt=this._getWindow();nt.addEventListener("resize",this._changeListener),nt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const B=this._getWindow();B.removeEventListener("resize",this._changeListener),B.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const B={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),B}getViewportRect(){const B=this.getViewportScrollPosition(),{width:le,height:Ue}=this.getViewportSize();return{top:B.top,left:B.left,bottom:B.top+Ue,right:B.left+le,height:Ue,width:le}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const B=this._document,le=this._getWindow(),Ue=B.documentElement,nt=Ue.getBoundingClientRect();return{top:-nt.top||B.body.scrollTop||le.scrollY||Ue.scrollTop||0,left:-nt.left||B.body.scrollLeft||le.scrollX||Ue.scrollLeft||0}}change(B=20){return B>0?this._change.pipe(_i(B)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const B=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:B.innerWidth,height:B.innerHeight}:{width:0,height:0}}}return J.\u0275fac=function(B){return new(B||J)(u.LFG(mi.t4),u.LFG(u.R0b),u.LFG(Zr.K0,8))},J.\u0275prov=u.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const lr=typeof requestAnimationFrame<"u"?ve:ft;let zi=(()=>{class J extends Es{constructor(B,le,Ue,nt,Ft,Tn,xn){super(B,Tn,Ue,Ft),this.elementRef=B,this._changeDetectorRef=le,this._scrollStrategy=nt,this._detachedSubject=new X.x,this._renderedRangeSubject=new X.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ue.y(zt=>this._scrollStrategy.scrolledIndexChange.subscribe(Ki=>Promise.resolve().then(()=>this.ngZone.run(()=>zt.next(Ki))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Ne.w0.EMPTY,this._viewportChanges=xn.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(B){this._orientation!==B&&(this._orientation=B,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(B){this._appendOnly=function $(J){return null!=J&&"false"!=`${J}`}(B)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,$r.O)(null),_i(0,lr)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(B){this.ngZone.runOutsideAngular(()=>{this._forOf=B,this._forOf.dataStream.pipe((0,es.R)(this._detachedSubject)).subscribe(le=>{const Ue=le.length;Ue!==this._dataLength&&(this._dataLength=Ue,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(B){this._totalContentSize!==B&&(this._totalContentSize=B,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(B){(function ti(J,V){return J.start==V.start&&J.end==V.end})(this._renderedRange,B)||(this.appendOnly&&(B={start:0,end:Math.max(this._renderedRange.end,B.end)}),this._renderedRangeSubject.next(this._renderedRange=B),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(B,le="to-start"){const nt="horizontal"==this.orientation,Ft=nt?"X":"Y";let xn=`translate${Ft}(${Number((nt&&this.dir&&"rtl"==this.dir.value?-1:1)*B)}px)`;this._renderedContentOffset=B=this.appendOnly&&"to-start"===le?0:B,"to-end"===le&&(xn+=` translate${Ft}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=xn&&(this._renderedContentTransform=xn,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(B,le="auto"){const Ue={behavior:le};"horizontal"===this.orientation?Ue.start=B:Ue.top=B,this.scrollTo(Ue)}scrollToIndex(B,le="auto"){this._scrollStrategy.scrollToIndex(B,le)}measureScrollOffset(B){return super.measureScrollOffset(B||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const B=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?B.offsetWidth:B.offsetHeight}measureRangeSize(B){return this._forOf?this._forOf.measureRangeSize(B,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const B=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?B.clientWidth:B.clientHeight}_markChangeDetectionNeeded(B){B&&this._runAfterChangeDetection.push(B),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const B=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const le of B)le()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return J.\u0275fac=function(B){return new(B||J)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(Fi,8),u.Y36(we,8),u.Y36(Ts),u.Y36(go))},J.\u0275cmp=u.Xpm({type:J,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(B,le){if(1&B&&u.Gf($n,7),2&B){let Ue;u.iGM(Ue=u.CRH())&&(le._contentWrapper=Ue.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(B,le){2&B&&u.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===le.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==le.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[u._Bn([{provide:Es,useExisting:J}]),u.qOj],ngContentSelectors:kr,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(B,le){1&B&&(u.F$t(),u.TgZ(0,"div",0,1),u.Hsn(2),u.qZA(),u._UZ(3,"div",2)),2&B&&(u.xp6(3),u.Udp("width",le._totalContentWidth)("height",le._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),J})();function ki(J,V,B){if(!B.getBoundingClientRect)return 0;const Ue=B.getBoundingClientRect();return"horizontal"===J?"start"===V?Ue.left:Ue.right:"start"===V?Ue.top:Ue.bottom}let qi=(()=>{class J{constructor(B,le,Ue,nt,Ft,Tn){this._viewContainerRef=B,this._template=le,this._differs=Ue,this._viewRepeater=nt,this._viewport=Ft,this.viewChange=new X.x,this._dataSourceChanges=new X.x,this.dataStream=this._dataSourceChanges.pipe((0,$r.O)(null),function sn(){return(0,Vn.e)((J,V)=>{let B,le=!1;J.subscribe((0,Ri.x)(V,Ue=>{const nt=B;B=Ue,le&&V.next([nt,Ue]),le=!0}))})}(),(0,pi.w)(([xn,zt])=>this._changeDataSource(xn,zt)),(0,wr.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new X.x,this.dataStream.subscribe(xn=>{this._data=xn,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,es.R)(this._destroyed)).subscribe(xn=>{this._renderedRange=xn,this.viewChange.observers.length&&Tn.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(B){this._cdkVirtualForOf=B,function An(J){return J&&"function"==typeof J.connect}(B)?this._dataSourceChanges.next(B):this._dataSourceChanges.next(new kn((0,rn.b)(B)?B:Array.from(B||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(B){this._needsUpdate=!0,this._cdkVirtualForTrackBy=B?(le,Ue)=>B(le+(this._renderedRange?this._renderedRange.start:0),Ue):void 0}set cdkVirtualForTemplate(B){B&&(this._needsUpdate=!0,this._template=B)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(B){this._viewRepeater.viewCacheSize=f(B)}measureRangeSize(B,le){if(B.start>=B.end)return 0;const Ue=B.start-this._renderedRange.start,nt=B.end-B.start;let Ft,Tn;for(let xn=0;xn<nt;xn++){const zt=this._viewContainerRef.get(xn+Ue);if(zt&&zt.rootNodes.length){Ft=Tn=zt.rootNodes[0];break}}for(let xn=nt-1;xn>-1;xn--){const zt=this._viewContainerRef.get(xn+Ue);if(zt&&zt.rootNodes.length){Tn=zt.rootNodes[zt.rootNodes.length-1];break}}return Ft&&Tn?ki(le,"end",Tn)-ki(le,"start",Ft):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const B=this._differ.diff(this._renderedItems);B?this._applyChanges(B):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((B,le)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(B,le):le)),this._needsUpdate=!0)}_changeDataSource(B,le){return B&&B.disconnect(this),this._needsUpdate=!0,le?le.connect(this):(0,ne.of)()}_updateContext(){const B=this._data.length;let le=this._viewContainerRef.length;for(;le--;){const Ue=this._viewContainerRef.get(le);Ue.context.index=this._renderedRange.start+le,Ue.context.count=B,this._updateComputedContextProperties(Ue.context),Ue.detectChanges()}}_applyChanges(B){this._viewRepeater.applyChanges(B,this._viewContainerRef,(nt,Ft,Tn)=>this._getEmbeddedViewArgs(nt,Tn),nt=>nt.item),B.forEachIdentityChange(nt=>{this._viewContainerRef.get(nt.currentIndex).context.$implicit=nt.item});const le=this._data.length;let Ue=this._viewContainerRef.length;for(;Ue--;){const nt=this._viewContainerRef.get(Ue);nt.context.index=this._renderedRange.start+Ue,nt.context.count=le,this._updateComputedContextProperties(nt.context)}}_updateComputedContextProperties(B){B.first=0===B.index,B.last=B.index===B.count-1,B.even=B.index%2==0,B.odd=!B.even}_getEmbeddedViewArgs(B,le){return{templateRef:this._template,context:{$implicit:B.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:le}}}return J.\u0275fac=function(B){return new(B||J)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(Bn),u.Y36(zi,4),u.Y36(u.R0b))},J.\u0275dir=u.lG2({type:J,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[u._Bn([{provide:Bn,useClass:Ci}])]}),J})(),Gi=(()=>{class J{}return J.\u0275fac=function(B){return new(B||J)},J.\u0275mod=u.oAB({type:J}),J.\u0275inj=u.cJS({}),J})(),xe=(()=>{class J{}return J.\u0275fac=function(B){return new(B||J)},J.\u0275mod=u.oAB({type:J}),J.\u0275inj=u.cJS({imports:[[Ct,Gi],Ct,Gi]}),J})()},6895:(Vt,Be,k)=>{"use strict";k.d(Be,{Do:()=>nn,EM:()=>Gl,HT:()=>K,JF:()=>el,K0:()=>Z,Mx:()=>oa,NF:()=>fa,Nd:()=>Rs,O5:()=>fr,PC:()=>Bl,PM:()=>ga,S$:()=>He,V_:()=>ne,Ye:()=>qe,b0:()=>mt,bD:()=>Ys,ez:()=>Qa,mk:()=>di,q:()=>f,sg:()=>Ds,tP:()=>Co,w_:()=>q});var u=k(4650);let $=null;function f(){return $}function K(R){$||($=R)}class q{}const Z=new u.OlP("DocumentToken");let ae=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=u.Yz7({token:R,factory:function(){return function X(){return(0,u.LFG)(ue)}()},providedIn:"platform"}),R})();const ne=new u.OlP("Location Initialized");let ue=(()=>{class R extends ae{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return f().getBaseHref(this._doc)}onPopState(F){const se=f().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",F,!1),()=>se.removeEventListener("popstate",F)}onHashChange(F){const se=f().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",F,!1),()=>se.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,se,Te){he()?this._history.pushState(F,se,Te):this.location.hash=Te}replaceState(F,se,Te){he()?this._history.replaceState(F,se,Te):this.location.hash=Te}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return R.\u0275fac=function(F){return new(F||R)(u.LFG(Z))},R.\u0275prov=u.Yz7({token:R,factory:function(){return function Ne(){return new ue((0,u.LFG)(Z))}()},providedIn:"platform"}),R})();function he(){return!!window.history.pushState}function Fe(R,j){if(0==R.length)return j;if(0==j.length)return R;let F=0;return R.endsWith("/")&&F++,j.startsWith("/")&&F++,2==F?R+j.substring(1):1==F?R+j:R+"/"+j}function Le(R){const j=R.match(/#|\?|$/),F=j&&j.index||R.length;return R.slice(0,F-("/"===R[F-1]?1:0))+R.slice(F)}function We(R){return R&&"?"!==R[0]?"?"+R:R}let He=(()=>{class R{historyGo(F){throw new Error("Not implemented")}}return R.\u0275fac=function(F){return new(F||R)},R.\u0275prov=u.Yz7({token:R,factory:function(){return(0,u.f3M)(mt)},providedIn:"root"}),R})();const Me=new u.OlP("appBaseHref");let mt=(()=>{class R extends He{constructor(F,se){super(),this._platformLocation=F,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(Z).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Fe(this._baseHref,F)}path(F=!1){const se=this._platformLocation.pathname+We(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&F?`${se}${Te}`:se}pushState(F,se,Te,tt){const ut=this.prepareExternalUrl(Te+We(tt));this._platformLocation.pushState(F,se,ut)}replaceState(F,se,Te,tt){const ut=this.prepareExternalUrl(Te+We(tt));this._platformLocation.replaceState(F,se,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return R.\u0275fac=function(F){return new(F||R)(u.LFG(ae),u.LFG(Me,8))},R.\u0275prov=u.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})(),nn=(()=>{class R extends He{constructor(F,se){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let se=this._platformLocation.hash;return null==se&&(se="#"),se.length>0?se.substring(1):se}prepareExternalUrl(F){const se=Fe(this._baseHref,F);return se.length>0?"#"+se:se}pushState(F,se,Te,tt){let ut=this.prepareExternalUrl(Te+We(tt));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.pushState(F,se,ut)}replaceState(F,se,Te,tt){let ut=this.prepareExternalUrl(Te+We(tt));0==ut.length&&(ut=this._platformLocation.pathname),this._platformLocation.replaceState(F,se,ut)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(F=0){this._platformLocation.historyGo?.(F)}}return R.\u0275fac=function(F){return new(F||R)(u.LFG(ae),u.LFG(Me,8))},R.\u0275prov=u.Yz7({token:R,factory:R.\u0275fac}),R})(),qe=(()=>{class R{constructor(F){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=F;const se=this._locationStrategy.getBaseHref();this._baseHref=Le(ve(se)),this._locationStrategy.onPopState(Te=>{this._subject.emit({url:this.path(!0),pop:!0,state:Te.state,type:Te.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(F=!1){return this.normalize(this._locationStrategy.path(F))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(F,se=""){return this.path()==this.normalize(F+We(se))}normalize(F){return R.stripTrailingSlash(function je(R,j){return R&&j.startsWith(R)?j.substring(R.length):j}(this._baseHref,ve(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._locationStrategy.prepareExternalUrl(F)}go(F,se="",Te=null){this._locationStrategy.pushState(Te,"",F,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+We(se)),Te)}replaceState(F,se="",Te=null){this._locationStrategy.replaceState(Te,"",F,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+We(se)),Te)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(F=0){this._locationStrategy.historyGo?.(F)}onUrlChange(F){return this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)})),()=>{const se=this._urlChangeListeners.indexOf(F);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(F="",se){this._urlChangeListeners.forEach(Te=>Te(F,se))}subscribe(F,se,Te){return this._subject.subscribe({next:F,error:se,complete:Te})}}return R.normalizeQueryParams=We,R.joinWithSlash=Fe,R.stripTrailingSlash=Le,R.\u0275fac=function(F){return new(F||R)(u.LFG(He))},R.\u0275prov=u.Yz7({token:R,factory:function(){return function ie(){return new qe((0,u.LFG)(He))}()},providedIn:"root"}),R})();function ve(R){return R.replace(/\/index.html$/,"")}function oa(R,j){j=encodeURIComponent(j);for(const F of R.split(";")){const se=F.indexOf("="),[Te,tt]=-1==se?[F,""]:[F.slice(0,se),F.slice(se+1)];if(Te.trim()===j)return decodeURIComponent(tt)}return null}let di=(()=>{class R{constructor(F,se,Te,tt){this._iterableDiffers=F,this._keyValueDiffers=se,this._ngEl=Te,this._renderer=tt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(se=>this._toggleClass(se.key,se.currentValue)),F.forEachChangedItem(se=>this._toggleClass(se.key,se.currentValue)),F.forEachRemovedItem(se=>{se.previousValue&&this._toggleClass(se.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(se=>{if("string"!=typeof se.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(se.item)}`);this._toggleClass(se.item,!0)}),F.forEachRemovedItem(se=>this._toggleClass(se.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(se=>this._toggleClass(se,!0)):Object.keys(F).forEach(se=>this._toggleClass(se,!!F[se])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(se=>this._toggleClass(se,!1)):Object.keys(F).forEach(se=>this._toggleClass(se,!1)))}_toggleClass(F,se){(F=F.trim())&&F.split(/\s+/g).forEach(Te=>{se?this._renderer.addClass(this._ngEl.nativeElement,Te):this._renderer.removeClass(this._ngEl.nativeElement,Te)})}}return R.\u0275fac=function(F){return new(F||R)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),R})();class ca{constructor(j,F,se,Te){this.$implicit=j,this.ngForOf=F,this.index=se,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ds=(()=>{class R{constructor(F,se,Te){this._viewContainer=F,this._template=se,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const se=this._viewContainer;F.forEachOperation((Te,tt,ut)=>{if(null==Te.previousIndex)se.createEmbeddedView(this._template,new ca(Te.item,this._ngForOf,-1,-1),null===ut?void 0:ut);else if(null==ut)se.remove(null===tt?void 0:tt);else if(null!==tt){const Xt=se.get(tt);se.move(Xt,ut),mo(Xt,Te)}});for(let Te=0,tt=se.length;Te<tt;Te++){const Xt=se.get(Te).context;Xt.index=Te,Xt.count=tt,Xt.ngForOf=this._ngForOf}F.forEachIdentityChange(Te=>{mo(se.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(F,se){return!0}}return R.\u0275fac=function(F){return new(F||R)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),R})();function mo(R,j){R.context.$implicit=j.item}let fr=(()=>{class R{constructor(F,se){this._viewContainer=F,this._context=new ys,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){ur("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){ur("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,se){return!0}}return R.\u0275fac=function(F){return new(F||R)(u.Y36(u.s_b),u.Y36(u.Rgc))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),R})();class ys{constructor(){this.$implicit=null,this.ngIf=null}}function ur(R,j){if(j&&!j.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,u.AaK)(j)}'.`)}let Bl=(()=>{class R{constructor(F,se,Te){this._ngEl=F,this._differs=se,this._renderer=Te,this._ngStyle=null,this._differ=null}set ngStyle(F){this._ngStyle=F,!this._differ&&F&&(this._differ=this._differs.find(F).create())}ngDoCheck(){if(this._differ){const F=this._differ.diff(this._ngStyle);F&&this._applyChanges(F)}}_setStyle(F,se){const[Te,tt]=F.split("."),ut=-1===Te.indexOf("-")?void 0:u.JOm.DashCase;null!=se?this._renderer.setStyle(this._ngEl.nativeElement,Te,tt?`${se}${tt}`:se,ut):this._renderer.removeStyle(this._ngEl.nativeElement,Te,ut)}_applyChanges(F){F.forEachRemovedItem(se=>this._setStyle(se.key,null)),F.forEachAddedItem(se=>this._setStyle(se.key,se.currentValue)),F.forEachChangedItem(se=>this._setStyle(se.key,se.currentValue))}}return R.\u0275fac=function(F){return new(F||R)(u.Y36(u.SBq),u.Y36(u.aQg),u.Y36(u.Qsj))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),R})(),Co=(()=>{class R{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(F){if(F.ngTemplateOutlet||F.ngTemplateOutletInjector){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Te,ngTemplateOutletContext:tt,ngTemplateOutletInjector:ut}=this;this._viewRef=se.createEmbeddedView(Te,tt,ut?{injector:ut}:void 0)}else this._viewRef=null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return R.\u0275fac=function(F){return new(F||R)(u.Y36(u.s_b))},R.\u0275dir=u.lG2({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),R})(),Rs=(()=>{class R{constructor(F){this.differs=F,this.keyValues=[],this.compareFn=ss}transform(F,se=ss){if(!F||!(F instanceof Map)&&"object"!=typeof F)return null;this.differ||(this.differ=this.differs.find(F).create());const Te=this.differ.diff(F),tt=se!==this.compareFn;return Te&&(this.keyValues=[],Te.forEachItem(ut=>{this.keyValues.push(function da(R,j){return{key:R,value:j}}(ut.key,ut.currentValue))})),(Te||tt)&&(this.keyValues.sort(se),this.compareFn=se),this.keyValues}}return R.\u0275fac=function(F){return new(F||R)(u.Y36(u.aQg,16))},R.\u0275pipe=u.Yjl({name:"keyvalue",type:R,pure:!1,standalone:!0}),R})();function ss(R,j){const F=R.key,se=j.key;if(F===se)return 0;if(void 0===F)return 1;if(void 0===se)return-1;if(null===F)return 1;if(null===se)return-1;if("string"==typeof F&&"string"==typeof se)return F<se?-1:1;if("number"==typeof F&&"number"==typeof se)return F-se;if("boolean"==typeof F&&"boolean"==typeof se)return F<se?-1:1;const Te=String(F),tt=String(se);return Te==tt?0:Te<tt?-1:1}let Qa=(()=>{class R{}return R.\u0275fac=function(F){return new(F||R)},R.\u0275mod=u.oAB({type:R}),R.\u0275inj=u.cJS({}),R})();const Ys="browser";function fa(R){return R===Ys}function ga(R){return"server"===R}let Gl=(()=>{class R{}return R.\u0275prov=(0,u.Yz7)({token:R,providedIn:"root",factory:()=>new Wl((0,u.LFG)(Z),window)}),R})();class Wl{constructor(j,F){this.document=j,this.window=F,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const F=function Br(R,j){const F=R.getElementById(j)||R.getElementsByName(j)[0];if(F)return F;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const se=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Te=se.currentNode;for(;Te;){const tt=Te.shadowRoot;if(tt){const ut=tt.getElementById(j)||tt.querySelector(`[name="${j}"]`);if(ut)return ut}Te=se.nextNode()}}return null}(this.document,j);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(j){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=j)}}scrollToElement(j){const F=j.getBoundingClientRect(),se=F.left+this.window.pageXOffset,Te=F.top+this.window.pageYOffset,tt=this.offset();this.window.scrollTo(se-tt[0],Te-tt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const j=ks(this.window.history)||ks(Object.getPrototypeOf(this.window.history));return!(!j||!j.writable&&!j.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ks(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class el{}},529:(Vt,Be,k)=>{"use strict";k.d(Be,{JF:()=>Zr,eN:()=>ot});var u=k(6895),$=k(4650),f=k(9646),ye=k(9751),K=k(4351),q=k(9300),Z=k(4004);class ae{}class X{}class ne{constructor(Oe){this.normalizedNames=new Map,this.lazyUpdate=null,Oe?this.lazyInit="string"==typeof Oe?()=>{this.headers=new Map,Oe.split("\n").forEach(we=>{const ct=we.indexOf(":");if(ct>0){const Ct=we.slice(0,ct),Qt=Ct.toLowerCase(),An=we.slice(ct+1).trim();this.maybeSetNormalizedName(Ct,Qt),this.headers.has(Qt)?this.headers.get(Qt).push(An):this.headers.set(Qt,[An])}})}:()=>{this.headers=new Map,Object.keys(Oe).forEach(we=>{let ct=Oe[we];const Ct=we.toLowerCase();"string"==typeof ct&&(ct=[ct]),ct.length>0&&(this.headers.set(Ct,ct),this.maybeSetNormalizedName(we,Ct))})}:this.headers=new Map}has(Oe){return this.init(),this.headers.has(Oe.toLowerCase())}get(Oe){this.init();const we=this.headers.get(Oe.toLowerCase());return we&&we.length>0?we[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Oe){return this.init(),this.headers.get(Oe.toLowerCase())||null}append(Oe,we){return this.clone({name:Oe,value:we,op:"a"})}set(Oe,we){return this.clone({name:Oe,value:we,op:"s"})}delete(Oe,we){return this.clone({name:Oe,value:we,op:"d"})}maybeSetNormalizedName(Oe,we){this.normalizedNames.has(we)||this.normalizedNames.set(we,Oe)}init(){this.lazyInit&&(this.lazyInit instanceof ne?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Oe=>this.applyUpdate(Oe)),this.lazyUpdate=null))}copyFrom(Oe){Oe.init(),Array.from(Oe.headers.keys()).forEach(we=>{this.headers.set(we,Oe.headers.get(we)),this.normalizedNames.set(we,Oe.normalizedNames.get(we))})}clone(Oe){const we=new ne;return we.lazyInit=this.lazyInit&&this.lazyInit instanceof ne?this.lazyInit:this,we.lazyUpdate=(this.lazyUpdate||[]).concat([Oe]),we}applyUpdate(Oe){const we=Oe.name.toLowerCase();switch(Oe.op){case"a":case"s":let ct=Oe.value;if("string"==typeof ct&&(ct=[ct]),0===ct.length)return;this.maybeSetNormalizedName(Oe.name,we);const Ct=("a"===Oe.op?this.headers.get(we):void 0)||[];Ct.push(...ct),this.headers.set(we,Ct);break;case"d":const Qt=Oe.value;if(Qt){let An=this.headers.get(we);if(!An)return;An=An.filter(kn=>-1===Qt.indexOf(kn)),0===An.length?(this.headers.delete(we),this.normalizedNames.delete(we)):this.headers.set(we,An)}else this.headers.delete(we),this.normalizedNames.delete(we)}}forEach(Oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(we=>Oe(this.normalizedNames.get(we),this.headers.get(we)))}}class he{encodeKey(Oe){return We(Oe)}encodeValue(Oe){return We(Oe)}decodeKey(Oe){return decodeURIComponent(Oe)}decodeValue(Oe){return decodeURIComponent(Oe)}}const Fe=/%(\d[a-f0-9])/gi,Le={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function We(pt){return encodeURIComponent(pt).replace(Fe,(Oe,we)=>Le[we]??Oe)}function He(pt){return`${pt}`}class Me{constructor(Oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Oe.encoder||new he,Oe.fromString){if(Oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ne(pt,Oe){const we=new Map;return pt.length>0&&pt.replace(/^\?/,"").split("&").forEach(Ct=>{const Qt=Ct.indexOf("="),[An,kn]=-1==Qt?[Oe.decodeKey(Ct),""]:[Oe.decodeKey(Ct.slice(0,Qt)),Oe.decodeValue(Ct.slice(Qt+1))],xt=we.get(An)||[];xt.push(kn),we.set(An,xt)}),we}(Oe.fromString,this.encoder)}else Oe.fromObject?(this.map=new Map,Object.keys(Oe.fromObject).forEach(we=>{const ct=Oe.fromObject[we],Ct=Array.isArray(ct)?ct.map(He):[He(ct)];this.map.set(we,Ct)})):this.map=null}has(Oe){return this.init(),this.map.has(Oe)}get(Oe){this.init();const we=this.map.get(Oe);return we?we[0]:null}getAll(Oe){return this.init(),this.map.get(Oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Oe,we){return this.clone({param:Oe,value:we,op:"a"})}appendAll(Oe){const we=[];return Object.keys(Oe).forEach(ct=>{const Ct=Oe[ct];Array.isArray(Ct)?Ct.forEach(Qt=>{we.push({param:ct,value:Qt,op:"a"})}):we.push({param:ct,value:Ct,op:"a"})}),this.clone(we)}set(Oe,we){return this.clone({param:Oe,value:we,op:"s"})}delete(Oe,we){return this.clone({param:Oe,value:we,op:"d"})}toString(){return this.init(),this.keys().map(Oe=>{const we=this.encoder.encodeKey(Oe);return this.map.get(Oe).map(ct=>we+"="+this.encoder.encodeValue(ct)).join("&")}).filter(Oe=>""!==Oe).join("&")}clone(Oe){const we=new Me({encoder:this.encoder});return we.cloneFrom=this.cloneFrom||this,we.updates=(this.updates||[]).concat(Oe),we}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Oe=>this.map.set(Oe,this.cloneFrom.map.get(Oe))),this.updates.forEach(Oe=>{switch(Oe.op){case"a":case"s":const we=("a"===Oe.op?this.map.get(Oe.param):void 0)||[];we.push(He(Oe.value)),this.map.set(Oe.param,we);break;case"d":if(void 0===Oe.value){this.map.delete(Oe.param);break}{let ct=this.map.get(Oe.param)||[];const Ct=ct.indexOf(He(Oe.value));-1!==Ct&&ct.splice(Ct,1),ct.length>0?this.map.set(Oe.param,ct):this.map.delete(Oe.param)}}}),this.cloneFrom=this.updates=null)}}class nn{constructor(){this.map=new Map}set(Oe,we){return this.map.set(Oe,we),this}get(Oe){return this.map.has(Oe)||this.map.set(Oe,Oe.defaultValue()),this.map.get(Oe)}delete(Oe){return this.map.delete(Oe),this}has(Oe){return this.map.has(Oe)}keys(){return this.map.keys()}}function ie(pt){return typeof ArrayBuffer<"u"&&pt instanceof ArrayBuffer}function je(pt){return typeof Blob<"u"&&pt instanceof Blob}function ve(pt){return typeof FormData<"u"&&pt instanceof FormData}class Xe{constructor(Oe,we,ct,Ct){let Qt;if(this.url=we,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Oe.toUpperCase(),function qe(pt){switch(pt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ct?(this.body=void 0!==ct?ct:null,Qt=Ct):Qt=ct,Qt&&(this.reportProgress=!!Qt.reportProgress,this.withCredentials=!!Qt.withCredentials,Qt.responseType&&(this.responseType=Qt.responseType),Qt.headers&&(this.headers=Qt.headers),Qt.context&&(this.context=Qt.context),Qt.params&&(this.params=Qt.params)),this.headers||(this.headers=new ne),this.context||(this.context=new nn),this.params){const An=this.params.toString();if(0===An.length)this.urlWithParams=we;else{const kn=we.indexOf("?");this.urlWithParams=we+(-1===kn?"?":kn<we.length-1?"&":"")+An}}else this.params=new Me,this.urlWithParams=we}serializeBody(){return null===this.body?null:ie(this.body)||je(this.body)||ve(this.body)||function _e(pt){return typeof URLSearchParams<"u"&&pt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ve(this.body)?null:je(this.body)?this.body.type||null:ie(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Oe={}){const we=Oe.method||this.method,ct=Oe.url||this.url,Ct=Oe.responseType||this.responseType,Qt=void 0!==Oe.body?Oe.body:this.body,An=void 0!==Oe.withCredentials?Oe.withCredentials:this.withCredentials,kn=void 0!==Oe.reportProgress?Oe.reportProgress:this.reportProgress;let xt=Oe.headers||this.headers,Ci=Oe.params||this.params;const ei=Oe.context??this.context;return void 0!==Oe.setHeaders&&(xt=Object.keys(Oe.setHeaders).reduce((ir,Ln)=>ir.set(Ln,Oe.setHeaders[Ln]),xt)),Oe.setParams&&(Ci=Object.keys(Oe.setParams).reduce((ir,Ln)=>ir.set(Ln,Oe.setParams[Ln]),Ci)),new Xe(we,ct,Qt,{params:Ci,headers:xt,context:ei,reportProgress:kn,responseType:Ct,withCredentials:An})}}var be=(()=>((be=be||{})[be.Sent=0]="Sent",be[be.UploadProgress=1]="UploadProgress",be[be.ResponseHeader=2]="ResponseHeader",be[be.DownloadProgress=3]="DownloadProgress",be[be.Response=4]="Response",be[be.User=5]="User",be))();class ze{constructor(Oe,we=200,ct="OK"){this.headers=Oe.headers||new ne,this.status=void 0!==Oe.status?Oe.status:we,this.statusText=Oe.statusText||ct,this.url=Oe.url||null,this.ok=this.status>=200&&this.status<300}}class $e extends ze{constructor(Oe={}){super(Oe),this.type=be.ResponseHeader}clone(Oe={}){return new $e({headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class lt extends ze{constructor(Oe={}){super(Oe),this.type=be.Response,this.body=void 0!==Oe.body?Oe.body:null}clone(Oe={}){return new lt({body:void 0!==Oe.body?Oe.body:this.body,headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class st extends ze{constructor(Oe){super(Oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Oe.url||"(unknown url)"}`:`Http failure response for ${Oe.url||"(unknown url)"}: ${Oe.status} ${Oe.statusText}`,this.error=Oe.error||null}}function bt(pt,Oe){return{body:Oe,headers:pt.headers,context:pt.context,observe:pt.observe,params:pt.params,reportProgress:pt.reportProgress,responseType:pt.responseType,withCredentials:pt.withCredentials}}let ot=(()=>{class pt{constructor(we){this.handler=we}request(we,ct,Ct={}){let Qt;if(we instanceof Xe)Qt=we;else{let xt,Ci;xt=Ct.headers instanceof ne?Ct.headers:new ne(Ct.headers),Ct.params&&(Ci=Ct.params instanceof Me?Ct.params:new Me({fromObject:Ct.params})),Qt=new Xe(we,ct,void 0!==Ct.body?Ct.body:null,{headers:xt,context:Ct.context,params:Ci,reportProgress:Ct.reportProgress,responseType:Ct.responseType||"json",withCredentials:Ct.withCredentials})}const An=(0,f.of)(Qt).pipe((0,K.b)(xt=>this.handler.handle(xt)));if(we instanceof Xe||"events"===Ct.observe)return An;const kn=An.pipe((0,q.h)(xt=>xt instanceof lt));switch(Ct.observe||"body"){case"body":switch(Qt.responseType){case"arraybuffer":return kn.pipe((0,Z.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return xt.body}));case"blob":return kn.pipe((0,Z.U)(xt=>{if(null!==xt.body&&!(xt.body instanceof Blob))throw new Error("Response is not a Blob.");return xt.body}));case"text":return kn.pipe((0,Z.U)(xt=>{if(null!==xt.body&&"string"!=typeof xt.body)throw new Error("Response is not a string.");return xt.body}));default:return kn.pipe((0,Z.U)(xt=>xt.body))}case"response":return kn;default:throw new Error(`Unreachable: unhandled observe type ${Ct.observe}}`)}}delete(we,ct={}){return this.request("DELETE",we,ct)}get(we,ct={}){return this.request("GET",we,ct)}head(we,ct={}){return this.request("HEAD",we,ct)}jsonp(we,ct){return this.request("JSONP",we,{params:(new Me).append(ct,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(we,ct={}){return this.request("OPTIONS",we,ct)}patch(we,ct,Ct={}){return this.request("PATCH",we,bt(Ct,ct))}post(we,ct,Ct={}){return this.request("POST",we,bt(Ct,ct))}put(we,ct,Ct={}){return this.request("PUT",we,bt(Ct,ct))}}return pt.\u0275fac=function(we){return new(we||pt)($.LFG(ae))},pt.\u0275prov=$.Yz7({token:pt,factory:pt.\u0275fac}),pt})();class Bt{constructor(Oe,we){this.next=Oe,this.interceptor=we}handle(Oe){return this.interceptor.intercept(Oe,this.next)}}const Se=new $.OlP("HTTP_INTERCEPTORS");let Ge=(()=>{class pt{intercept(we,ct){return ct.handle(we)}}return pt.\u0275fac=function(we){return new(we||pt)},pt.\u0275prov=$.Yz7({token:pt,factory:pt.\u0275fac}),pt})();const Xn=/^\)\]\}',?\n/;let Ei=(()=>{class pt{constructor(we){this.xhrFactory=we}handle(we){if("JSONP"===we.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ye.y(ct=>{const Ct=this.xhrFactory.build();if(Ct.open(we.method,we.urlWithParams),we.withCredentials&&(Ct.withCredentials=!0),we.headers.forEach((Bn,$n)=>Ct.setRequestHeader(Bn,$n.join(","))),we.headers.has("Accept")||Ct.setRequestHeader("Accept","application/json, text/plain, */*"),!we.headers.has("Content-Type")){const Bn=we.detectContentTypeHeader();null!==Bn&&Ct.setRequestHeader("Content-Type",Bn)}if(we.responseType){const Bn=we.responseType.toLowerCase();Ct.responseType="json"!==Bn?Bn:"text"}const Qt=we.serializeBody();let An=null;const kn=()=>{if(null!==An)return An;const Bn=Ct.statusText||"OK",$n=new ne(Ct.getAllResponseHeaders()),kr=function Rn(pt){return"responseURL"in pt&&pt.responseURL?pt.responseURL:/^X-Request-URL:/m.test(pt.getAllResponseHeaders())?pt.getResponseHeader("X-Request-URL"):null}(Ct)||we.url;return An=new $e({headers:$n,status:Ct.status,statusText:Bn,url:kr}),An},xt=()=>{let{headers:Bn,status:$n,statusText:kr,url:Fi}=kn(),Ni=null;204!==$n&&(Ni=typeof Ct.response>"u"?Ct.responseText:Ct.response),0===$n&&($n=Ni?200:0);let ds=$n>=200&&$n<300;if("json"===we.responseType&&"string"==typeof Ni){const ts=Ni;Ni=Ni.replace(Xn,"");try{Ni=""!==Ni?JSON.parse(Ni):null}catch(ns){Ni=ts,ds&&(ds=!1,Ni={error:ns,text:Ni})}}ds?(ct.next(new lt({body:Ni,headers:Bn,status:$n,statusText:kr,url:Fi||void 0})),ct.complete()):ct.error(new st({error:Ni,headers:Bn,status:$n,statusText:kr,url:Fi||void 0}))},Ci=Bn=>{const{url:$n}=kn(),kr=new st({error:Bn,status:Ct.status||0,statusText:Ct.statusText||"Unknown Error",url:$n||void 0});ct.error(kr)};let ei=!1;const ir=Bn=>{ei||(ct.next(kn()),ei=!0);let $n={type:be.DownloadProgress,loaded:Bn.loaded};Bn.lengthComputable&&($n.total=Bn.total),"text"===we.responseType&&!!Ct.responseText&&($n.partialText=Ct.responseText),ct.next($n)},Ln=Bn=>{let $n={type:be.UploadProgress,loaded:Bn.loaded};Bn.lengthComputable&&($n.total=Bn.total),ct.next($n)};return Ct.addEventListener("load",xt),Ct.addEventListener("error",Ci),Ct.addEventListener("timeout",Ci),Ct.addEventListener("abort",Ci),we.reportProgress&&(Ct.addEventListener("progress",ir),null!==Qt&&Ct.upload&&Ct.upload.addEventListener("progress",Ln)),Ct.send(Qt),ct.next({type:be.Sent}),()=>{Ct.removeEventListener("error",Ci),Ct.removeEventListener("abort",Ci),Ct.removeEventListener("load",xt),Ct.removeEventListener("timeout",Ci),we.reportProgress&&(Ct.removeEventListener("progress",ir),null!==Qt&&Ct.upload&&Ct.upload.removeEventListener("progress",Ln)),Ct.readyState!==Ct.DONE&&Ct.abort()}})}}return pt.\u0275fac=function(we){return new(we||pt)($.LFG(u.JF))},pt.\u0275prov=$.Yz7({token:pt,factory:pt.\u0275fac}),pt})();const Yi=new $.OlP("XSRF_COOKIE_NAME"),_i=new $.OlP("XSRF_HEADER_NAME");class Fr{}let es=(()=>{class pt{constructor(we,ct,Ct){this.doc=we,this.platform=ct,this.cookieName=Ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const we=this.doc.cookie||"";return we!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,u.Mx)(we,this.cookieName),this.lastCookieString=we),this.lastToken}}return pt.\u0275fac=function(we){return new(we||pt)($.LFG(u.K0),$.LFG($.Lbi),$.LFG(Yi))},pt.\u0275prov=$.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),$r=(()=>{class pt{constructor(we,ct){this.tokenService=we,this.headerName=ct}intercept(we,ct){const Ct=we.url.toLowerCase();if("GET"===we.method||"HEAD"===we.method||Ct.startsWith("http://")||Ct.startsWith("https://"))return ct.handle(we);const Qt=this.tokenService.getToken();return null!==Qt&&!we.headers.has(this.headerName)&&(we=we.clone({headers:we.headers.set(this.headerName,Qt)})),ct.handle(we)}}return pt.\u0275fac=function(we){return new(we||pt)($.LFG(Fr),$.LFG(_i))},pt.\u0275prov=$.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),sn=(()=>{class pt{constructor(we,ct){this.backend=we,this.injector=ct,this.chain=null}handle(we){if(null===this.chain){const ct=this.injector.get(Se,[]);this.chain=ct.reduceRight((Ct,Qt)=>new Bt(Ct,Qt),this.backend)}return this.chain.handle(we)}}return pt.\u0275fac=function(we){return new(we||pt)($.LFG(X),$.LFG($.zs3))},pt.\u0275prov=$.Yz7({token:pt,factory:pt.\u0275fac}),pt})(),mi=(()=>{class pt{static disable(){return{ngModule:pt,providers:[{provide:$r,useClass:Ge}]}}static withOptions(we={}){return{ngModule:pt,providers:[we.cookieName?{provide:Yi,useValue:we.cookieName}:[],we.headerName?{provide:_i,useValue:we.headerName}:[]]}}}return pt.\u0275fac=function(we){return new(we||pt)},pt.\u0275mod=$.oAB({type:pt}),pt.\u0275inj=$.cJS({providers:[$r,{provide:Se,useExisting:$r,multi:!0},{provide:Fr,useClass:es},{provide:Yi,useValue:"XSRF-TOKEN"},{provide:_i,useValue:"X-XSRF-TOKEN"}]}),pt})(),Zr=(()=>{class pt{}return pt.\u0275fac=function(we){return new(we||pt)},pt.\u0275mod=$.oAB({type:pt}),pt.\u0275inj=$.cJS({providers:[ot,{provide:ae,useClass:sn},Ei,{provide:X,useExisting:Ei}],imports:[mi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),pt})()},4650:(Vt,Be,k)=>{"use strict";k.d(Be,{$8M:()=>th,$Z:()=>mI,AFp:()=>Px,ALo:()=>na,AaK:()=>ae,AsE:()=>nC,BQk:()=>Mg,CHM:()=>Fc,CRH:()=>ap,CZH:()=>Cf,CqO:()=>i_,D6c:()=>cw,DdM:()=>sv,EJc:()=>yr,EiD:()=>Pi,EpF:()=>t_,F$t:()=>c_,F4k:()=>n_,FYo:()=>eI,FiY:()=>tc,G48:()=>wc,Gf:()=>mv,GfV:()=>Mt,GkF:()=>Gm,Gpc:()=>ue,Hsn:()=>u_,JOm:()=>Pa,JVY:()=>FA,Jf7:()=>Yf,KtG:()=>Bs,L6k:()=>kA,LAX:()=>UA,LFG:()=>Ui,LSH:()=>Yo,Lbi:()=>tS,Lck:()=>El,MAs:()=>e_,MGl:()=>Sg,MMx:()=>SC,NdJ:()=>jm,O4$:()=>Xt,OlP:()=>wi,Oqu:()=>tC,PXZ:()=>$x,Q6J:()=>Vm,QGY:()=>Wm,QP$:()=>ki,QbO:()=>dp,Qsj:()=>jy,R0b:()=>Oo,RDi:()=>Ty,Rgc:()=>Ol,SBq:()=>Wc,Sil:()=>sS,Suo:()=>Cv,TTD:()=>Ao,TgZ:()=>bg,Tol:()=>b_,Udp:()=>Jm,VKq:()=>ov,W1O:()=>UC,WLB:()=>av,XFs:()=>sn,Xpm:()=>Fi,Xts:()=>YA,Y36:()=>od,YKP:()=>nv,YNc:()=>XI,Yjl:()=>go,Yz7:()=>un,Z0I:()=>Ri,ZZ4:()=>nA,_Bn:()=>Sd,_UZ:()=>zm,_Vd:()=>Ch,_c5:()=>aw,_uU:()=>O_,aQg:()=>iA,c2e:()=>Ov,cJS:()=>Vn,cg1:()=>Ng,dDg:()=>zx,dqk:()=>Ct,eBb:()=>BA,eFA:()=>Hd,ekj:()=>Qm,eoX:()=>ai,f3M:()=>SA,g9A:()=>Lx,h0i:()=>vc,hGG:()=>lw,hij:()=>Dg,iGM:()=>pv,ifc:()=>ct,ip1:()=>Dx,jDz:()=>Ed,kEZ:()=>lo,kL8:()=>Fg,kcU:()=>oi,l5B:()=>yc,lG2:()=>fo,lcZ:()=>Ld,lqb:()=>To,lri:()=>Hx,mCW:()=>uh,n5z:()=>Xl,oAB:()=>ns,oJD:()=>ZA,oxw:()=>l_,pB0:()=>VA,q3G:()=>$i,qLn:()=>bi,qOj:()=>Ag,qZA:()=>xg,qbA:()=>rp,qzn:()=>zc,rWj:()=>Nv,s9C:()=>$m,sBO:()=>Af,sIi:()=>Nh,s_b:()=>NC,soG:()=>yu,tb:()=>Rx,tp0:()=>fl,uIk:()=>yg,vHH:()=>Le,vpe:()=>Ss,wAp:()=>En,xp6:()=>Dh,ynx:()=>wg,z2F:()=>pp,z3N:()=>Cl,zSh:()=>KA,zs3:()=>iu});var u=k(7579),$=k(727),f=k(9751),ye=k(6451),K=k(3099);function q(i){for(let s in i)if(i[s]===q)return s;throw Error("Could not find renamed property on target object.")}function Z(i,s){for(const l in s)s.hasOwnProperty(l)&&!i.hasOwnProperty(l)&&(i[l]=s[l])}function ae(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ae).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function X(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const ne=q({__forward_ref__:q});function ue(i){return i.__forward_ref__=ue,i.toString=function(){return ae(this())},i}function he(i){return Ne(i)?i():i}function Ne(i){return"function"==typeof i&&i.hasOwnProperty(ne)&&i.__forward_ref__===ue}class Le extends Error{constructor(s,l){super(function We(i,s){return`NG0${Math.abs(i)}${s?": "+s.trim():""}`}(s,l)),this.code=s}}function He(i){return"string"==typeof i?i:null==i?"":String(i)}function ie(i,s){throw new Le(-201,!1)}function Ge(i,s){null==i&&function ft(i,s,l,d){throw new Error(`ASSERTION ERROR: ${i}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,i,null,"!=")}function un(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Vn(i){return{providers:i.providers||[],imports:i.imports||[]}}function dn(i){return Xn(i,_i)||Xn(i,es)}function Ri(i){return null!==dn(i)}function Xn(i,s){return i.hasOwnProperty(s)?i[s]:null}function Yi(i){return i&&(i.hasOwnProperty(Fr)||i.hasOwnProperty($r))?i[Fr]:null}const _i=q({\u0275prov:q}),Fr=q({\u0275inj:q}),es=q({ngInjectableDef:q}),$r=q({ngInjectorDef:q});var sn=(()=>((sn=sn||{})[sn.Default=0]="Default",sn[sn.Host=1]="Host",sn[sn.Self=2]="Self",sn[sn.SkipSelf=4]="SkipSelf",sn[sn.Optional=8]="Optional",sn))();let pi;function mi(i){const s=pi;return pi=i,s}function Zr(i,s,l){const d=dn(i);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&sn.Optional?null:void 0!==s?s:void ie(ae(i))}function nr(i){return{toString:i}.toString()}var pt=(()=>((pt=pt||{})[pt.OnPush=0]="OnPush",pt[pt.Default=1]="Default",pt))(),ct=(()=>{return(i=ct||(ct={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",ct;var i})();const Ct=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),kn={},xt=[],Ci=q({\u0275cmp:q}),ei=q({\u0275dir:q}),ir=q({\u0275pipe:q}),Ln=q({\u0275mod:q}),Bn=q({\u0275fac:q}),$n=q({__NG_ELEMENT_ID__:q});let kr=0;function Fi(i){return nr(()=>{const l=!0===i.standalone,d={},g={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===pt.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||xt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||ct.Emulated,id:"c"+kr++,styles:i.styles||xt,_:null,setInput:null,schemas:i.schemas||null,tView:null},C=i.dependencies,v=i.features;return g.inputs=Es(i.inputs,d),g.outputs=Es(i.outputs),v&&v.forEach(S=>S(g)),g.directiveDefs=C?()=>("function"==typeof C?C():C).map(ds).filter(ts):null,g.pipeDefs=C?()=>("function"==typeof C?C():C).map(zi).filter(ts):null,g})}function ds(i){return ti(i)||lr(i)}function ts(i){return null!==i}function ns(i){return nr(()=>({type:i.type,bootstrap:i.bootstrap||xt,declarations:i.declarations||xt,imports:i.imports||xt,exports:i.exports||xt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Es(i,s){if(null==i)return kn;const l={};for(const d in i)if(i.hasOwnProperty(d)){let g=i[d],C=g;Array.isArray(g)&&(C=g[1],g=g[0]),l[g]=d,s&&(s[g]=C)}return l}const fo=Fi;function go(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ti(i){return i[Ci]||null}function lr(i){return i[ei]||null}function zi(i){return i[ir]||null}function ki(i){const s=ti(i)||lr(i)||zi(i);return null!==s&&s.standalone}function qi(i,s){const l=i[Ln]||null;if(!l&&!0===s)throw new Error(`Type ${ae(i)} does not have '\u0275mod' property.`);return l}function ur(i){return Array.isArray(i)&&"object"==typeof i[1]}function sr(i){return Array.isArray(i)&&!0===i[1]}function fs(i){return 0!=(8&i.flags)}function Ro(i){return 2==(2&i.flags)}function $s(i){return 1==(1&i.flags)}function gr(i){return null!==i.template}function ua(i){return 0!=(256&i[2])}function ss(i,s){return i.hasOwnProperty(Bn)?i[Bn]:null}class Ka{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Ao(){return Kr}function Kr(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ja),Ns}function Ns(){const i=Hl(this),s=i?.current;if(s){const l=i.previous;if(l===kn)i.previous=s;else for(let d in s)l[d]=s[d];i.current=null,this.ngOnChanges(s)}}function Ja(i,s,l,d){const g=Hl(i)||function Qa(i,s){return i[Fs]=s}(i,{previous:kn,current:null}),C=g.current||(g.current={}),v=g.previous,S=this.declaredInputs[l],O=v[S];C[S]=new Ka(O&&O.currentValue,s,v===kn),i[d]=s}Ao.ngInherit=!0;const Fs="__ngSimpleChanges__";function Hl(i){return i[Fs]||null}function Wi(i){for(;Array.isArray(i);)i=i[0];return i}function ks(i,s){return Wi(s[i])}function Br(i,s){return Wi(s[i.index])}function el(i,s){return i.data[s]}function _o(i,s){return i[s]}function vi(i,s){const l=s[i];return ur(l)?l:l[0]}function Fo(i){return 64==(64&i[2])}function bs(i,s){return null==s?null:i[s]}function ko(i){i[18]=0}function xr(i,s){i[5]+=s;let l=i,d=i[3];for(;null!==d&&(1===s&&1===l[5]||-1===s&&0===l[5]);)d[5]+=s,l=d,d=d[3]}const _n={lFrame:Bc(null),bindingsEnabled:!0};function Bo(){return _n.bindingsEnabled}function Tt(){return _n.lFrame.lView}function qn(){return _n.lFrame.tView}function Fc(i){return _n.lFrame.contextLView=i,i[8]}function Bs(i){return _n.lFrame.contextLView=null,i}function Di(){let i=Yl();for(;null!==i&&64===i.type;)i=i.parent;return i}function Yl(){return _n.lFrame.currentTNode}function os(i,s){const l=_n.lFrame;l.currentTNode=i,l.isParent=s}function kc(){return _n.lFrame.isParent}function yo(){_n.lFrame.isParent=!1}function Bi(){const i=_n.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Uo(){return _n.lFrame.bindingIndex++}function Ks(i){const s=_n.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,l}function Kd(i,s){const l=_n.lFrame;l.bindingIndex=l.bindingRootIndex=i,Js(s)}function Js(i){_n.lFrame.currentDirectiveIndex=i}function Kl(){return _n.lFrame.currentQueryIndex}function Aa(i){_n.lFrame.currentQueryIndex=i}function rl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ho(i,s,l){if(l&sn.SkipSelf){let g=s,C=i;for(;!(g=g.parent,null!==g||l&sn.Host||(g=rl(C),null===g||(C=C[15],10&g.type))););if(null===g)return!1;s=g,i=C}const d=_n.lFrame=_a();return d.currentTNode=s,d.lView=i,!0}function Ia(i){const s=_a(),l=i[1];_n.lFrame=s,s.currentTNode=l.firstChild,s.lView=i,s.tView=l,s.contextLView=i,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function _a(){const i=_n.lFrame,s=null===i?null:i.child;return null===s?Bc(i):s}function Bc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Nu(){const i=_n.lFrame;return _n.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const R=Nu;function j(){const i=Nu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Te(){return _n.lFrame.selectedIndex}function tt(i){_n.lFrame.selectedIndex=i}function ut(){const i=_n.lFrame;return el(i.tView,i.selectedIndex)}function Xt(){_n.lFrame.currentNamespace="svg"}function oi(){!function Ai(){_n.lFrame.currentNamespace=null}()}function hi(i,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const C=i.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:O,ngAfterViewChecked:H,ngOnDestroy:re}=C;v&&(i.contentHooks||(i.contentHooks=[])).push(-l,v),S&&((i.contentHooks||(i.contentHooks=[])).push(l,S),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(l,S)),O&&(i.viewHooks||(i.viewHooks=[])).push(-l,O),H&&((i.viewHooks||(i.viewHooks=[])).push(l,H),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(l,H)),null!=re&&(i.destroyHooks||(i.destroyHooks=[])).push(l,re)}}function Ji(i,s,l){Us(i,s,3,l)}function Ur(i,s,l,d){(3&i[2])===l&&Us(i,s,l,d)}function Jr(i,s){let l=i[2];(3&l)===s&&(l&=2047,l+=1,i[2]=l)}function Us(i,s,l,d){const C=d??-1,v=s.length-1;let S=0;for(let O=void 0!==d?65535&i[18]:0;O<v;O++)if("number"==typeof s[O+1]){if(S=s[O],null!=d&&S>=d)break}else s[O]<0&&(i[18]+=65536),(S<C||-1==C)&&(Vs(i,l,s,O),i[18]=(4294901760&i[18])+O+2),O++}function Vs(i,s,l,d){const g=l[d]<0,C=l[d+1],S=i[g?-l[d]:l[d]];if(g){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{C.call(S)}finally{}}}else try{C.call(S)}finally{}}class bo{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function sl(i,s,l){let d=0;for(;d<l.length;){const g=l[d];if("number"==typeof g){if(0!==g)break;d++;const C=l[d++],v=l[d++],S=l[d++];i.setAttribute(s,v,S,C)}else{const C=g,v=l[++d];Bu(C)?i.setProperty(s,C,v):i.setAttribute(s,C,v),d++}}return d}function Qd(i){return 3===i||4===i||6===i}function Bu(i){return 64===i.charCodeAt(0)}function ol(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const g=s[d];"number"==typeof g?l=g:0===l||Uu(i,l,g,null,-1===l||2===l?s[++d]:null)}}return i}function Uu(i,s,l,d,g){let C=0,v=i.length;if(-1===s)v=-1;else for(;C<i.length;){const S=i[C++];if("number"==typeof S){if(S===s){v=-1;break}if(S>s){v=C-1;break}}}for(;C<i.length;){const S=i[C];if("number"==typeof S)break;if(S===l){if(null===d)return void(null!==g&&(i[C+1]=g));if(d===i[C+1])return void(i[C+2]=g)}C++,null!==d&&C++,null!==g&&C++}-1!==v&&(i.splice(v,0,s),C=v+1),i.splice(C++,0,l),null!==d&&i.splice(C++,0,d),null!==g&&i.splice(C++,0,g)}function Vu(i){return-1!==i}function ya(i){return 32767&i}function xo(i,s){let l=function Hu(i){return i>>16}(i),d=s;for(;l>0;)d=d[15],l--;return d}let Jl=!0;function al(i){const s=Jl;return Jl=i,s}let eh=0;const Hs={};function N(i,s){const l=A(i,s);if(-1!==l)return l;const d=s[1];d.firstCreatePass&&(i.injectorIndex=s.length,ce(d.data,i),ce(s,null),ce(d.blueprint,null));const g=T(i,s),C=i.injectorIndex;if(Vu(g)){const v=ya(g),S=xo(g,s),O=S[1].data;for(let H=0;H<8;H++)s[C+H]=S[v+H]|O[v+H]}return s[C+8]=g,C}function ce(i,s){i.push(0,0,0,0,0,0,0,0,s)}function A(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function T(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let l=0,d=null,g=s;for(;null!==g;){if(d=vp(g),null===d)return-1;if(l++,g=g[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function G(i,s,l){!function ll(i,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty($n)&&(d=l[$n]),null==d&&(d=l[$n]=eh++);const g=255&d;s.data[i+(g>>5)]|=1<<g}(i,s,l)}function rt(i,s,l){if(l&sn.Optional||void 0!==i)return i;ie()}function en(i,s,l,d){if(l&sn.Optional&&void 0===d&&(d=null),0==(l&(sn.Self|sn.Host))){const g=i[9],C=mi(void 0);try{return g?g.get(s,d,l&sn.Optional):Zr(s,d,l&sn.Optional)}finally{mi(C)}}return rt(d,0,l)}function Cn(i,s,l,d=sn.Default,g){if(null!==i){if(1024&s[2]){const v=function _A(i,s,l,d,g){let C=i,v=s;for(;null!==C&&null!==v&&1024&v[2]&&!(256&v[2]);){const S=ni(C,v,l,d|sn.Self,Hs);if(S!==Hs)return S;let O=C.parent;if(!O){const H=v[21];if(H){const re=H.get(l,Hs,d);if(re!==Hs)return re}O=vp(v),v=v[15]}C=O}return g}(i,s,l,d,Hs);if(v!==Hs)return v}const C=ni(i,s,l,d,Hs);if(C!==Hs)return C}return en(s,l,d,g)}function ni(i,s,l,d,g){const C=function ji(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty($n)?i[$n]:void 0;return"number"==typeof s?s>=0?255&s:Ql:s}(l);if("function"==typeof C){if(!Ho(s,i,d))return d&sn.Host?rt(g,0,d):en(s,l,d,g);try{const v=C(d);if(null!=v||d&sn.Optional)return v;ie()}finally{R()}}else if("number"==typeof C){let v=null,S=A(i,s),O=-1,H=d&sn.Host?s[16][6]:null;for((-1===S||d&sn.SkipSelf)&&(O=-1===S?T(i,s):s[S+8],-1!==O&&Ir(d,!1)?(v=s[1],S=ya(O),s=xo(O,s)):S=-1);-1!==S;){const re=s[1];if(ar(C,S,re.data)){const ge=xi(S,s,l,v,d,H);if(ge!==Hs)return ge}O=s[S+8],-1!==O&&Ir(d,s[1].data[S+8]===H)&&ar(C,S,s)?(v=re,S=ya(O),s=xo(O,s)):S=-1}}return g}function xi(i,s,l,d,g,C){const v=s[1],S=v.data[i+8],re=yi(S,v,l,null==d?Ro(S)&&Jl:d!=v&&0!=(3&S.type),g&sn.Host&&C===S);return null!==re?Un(s,v,re,S):Hs}function yi(i,s,l,d,g){const C=i.providerIndexes,v=s.data,S=1048575&C,O=i.directiveStart,re=C>>20,Re=g?S+re:i.directiveEnd;for(let Ke=d?S:S+re;Ke<Re;Ke++){const vt=v[Ke];if(Ke<O&&l===vt||Ke>=O&&vt.type===l)return Ke}if(g){const Ke=v[O];if(Ke&&gr(Ke)&&Ke.type===l)return O}return null}function Un(i,s,l,d){let g=i[l];const C=s.data;if(function Uc(i){return i instanceof bo}(g)){const v=g;v.resolving&&function mt(i,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Le(-200,`Circular dependency in DI detected for ${i}${l}`)}(function Me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():He(i)}(C[l]));const S=al(v.canSeeViewProviders);v.resolving=!0;const O=v.injectImpl?mi(v.injectImpl):null;Ho(i,d,sn.Default);try{g=i[l]=v.factory(void 0,C,i,d),s.firstCreatePass&&l>=d.directiveStart&&function or(i,s,l){const{ngOnChanges:d,ngOnInit:g,ngDoCheck:C}=s.type.prototype;if(d){const v=Kr(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(i,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,v)}g&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-i,g),C&&((l.preOrderHooks||(l.preOrderHooks=[])).push(i,C),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(i,C))}(l,C[l],s)}finally{null!==O&&mi(O),al(S),v.resolving=!1,R()}}return g}function ar(i,s,l){return!!(l[s+(i>>5)]&1<<i)}function Ir(i,s){return!(i&sn.Self||i&sn.Host&&s)}class fi{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return Cn(this._tNode,this._lView,s,d,l)}}function Ql(){return new fi(Di(),Tt())}function Xl(i){return nr(()=>{const s=i.prototype.constructor,l=s[Bn]||Gu(s),d=Object.prototype;let g=Object.getPrototypeOf(i.prototype).constructor;for(;g&&g!==d;){const C=g[Bn]||Gu(g);if(C&&C!==l)return C;g=Object.getPrototypeOf(g)}return C=>new C})}function Gu(i){return Ne(i)?()=>{const s=Gu(he(i));return s&&s()}:ss(i)}function vp(i){const s=i[1],l=s.type;return 2===l?s.declTNode:1===l?i[6]:null}function th(i){return function oe(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const l=i.attrs;if(l){const d=l.length;let g=0;for(;g<d;){const C=l[g];if(Qd(C))break;if(0===C)g+=2;else if("number"==typeof C)for(g++;g<d&&"string"==typeof l[g];)g++;else{if(C===s)return l[g+1];g+=2}}}return null}(Di(),i)}const cl="__parameters__";function Qs(i,s,l){return nr(()=>{const d=function Wu(i){return function(...l){if(i){const d=i(...l);for(const g in d)this[g]=d[g]}}}(s);function g(...C){if(this instanceof g)return d.apply(this,C),this;const v=new g(...C);return S.annotation=v,S;function S(O,H,re){const ge=O.hasOwnProperty(cl)?O[cl]:Object.defineProperty(O,cl,{value:[]})[cl];for(;ge.length<=re;)ge.push(null);return(ge[re]=ge[re]||[]).push(v),O}}return l&&(g.prototype=Object.create(l.prototype)),g.prototype.ngMetadataName=i,g.annotationCls=g,g})}class wi{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=un({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xs(i,s){void 0===s&&(s=i);for(let l=0;l<i.length;l++){let d=i[l];Array.isArray(d)?(s===i&&(s=i.slice(0,l)),xs(d,s)):s!==i&&s.push(d)}return s}function xa(i,s){i.forEach(l=>Array.isArray(l)?xa(l,s):s(l))}function Go(i,s,l){s>=i.length?i.push(l):i.splice(s,0,l)}function Wo(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function wa(i,s){const l=[];for(let d=0;d<i;d++)l.push(s);return l}function U(i,s,l){let d=Ce(i,s);return d>=0?i[1|d]=l:(d=~d,function x(i,s,l,d){let g=i.length;if(g==s)i.push(l,d);else if(1===g)i.push(d,i[0]),i[0]=l;else{for(g--,i.push(i[g-1],i[g]);g>s;)i[g]=i[g-2],g--;i[s]=l,i[s+1]=d}}(i,d,s,l)),d}function te(i,s){const l=Ce(i,s);if(l>=0)return i[1|l]}function Ce(i,s){return function gt(i,s,l){let d=0,g=i.length>>l;for(;g!==d;){const C=d+(g-d>>1),v=i[C<<l];if(s===v)return C<<l;v>s?g=C:d=C+1}return~(g<<l)}(i,s,1)}const Zo={},rh="__NG_DI_FLAG__",$u="ngTempTokenPath",yy=/\n/gm,wA="__source";let ec;function Zu(i){const s=ec;return ec=i,s}function xy(i,s=sn.Default){if(void 0===ec)throw new Le(-203,!1);return null===ec?Zr(i,void 0,s):ec.get(i,s&sn.Optional?null:void 0,s)}function Ui(i,s=sn.Default){return(function wr(){return pi}()||xy)(he(i),s)}function SA(i,s=sn.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),Ui(i,s)}function wp(i){const s=[];for(let l=0;l<i.length;l++){const d=he(i[l]);if(Array.isArray(d)){if(0===d.length)throw new Le(900,!1);let g,C=sn.Default;for(let v=0;v<d.length;v++){const S=d[v],O=wy(S);"number"==typeof O?-1===O?g=S.token:C|=O:g=S}s.push(Ui(g,C))}else s.push(Ui(d))}return s}function sh(i,s){return i[rh]=s,i.prototype[rh]=s,i}function wy(i){return i[rh]}const tc=sh(Qs("Optional"),8),fl=sh(Qs("SkipSelf"),4);let Tp,Nf,Ff;function Ty(i){Tp=i}function So(i){return function Ep(){if(void 0===Nf&&(Nf=null,Ct.trustedTypes))try{Nf=Ct.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Nf}()?.createHTML(i)||i}function DA(i){return function Dp(){if(void 0===Ff&&(Ff=null,Ct.trustedTypes))try{Ff=Ct.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Ff}()?.createHTML(i)||i}class ml{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pp extends ml{getTypeName(){return"HTML"}}class PA extends ml{getTypeName(){return"Style"}}class OA extends ml{getTypeName(){return"Script"}}class LA extends ml{getTypeName(){return"URL"}}class RA extends ml{getTypeName(){return"ResourceURL"}}function Cl(i){return i instanceof ml?i.changingThisBreaksApplicationSecurity:i}function zc(i,s){const l=function NA(i){return i instanceof ml&&i.getTypeName()||null}(i);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function FA(i){return new Pp(i)}function kA(i){return new PA(i)}function BA(i){return new OA(i)}function UA(i){return new LA(i)}function VA(i){return new RA(i)}class HA{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(So(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class zA{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=So(s),l;const d=this.inertDocument.createElement("body");return d.innerHTML=So(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(s){const l=s.attributes;for(let g=l.length-1;0<g;g--){const v=l.item(g).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&s.removeAttribute(v)}let d=s.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const WA=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function uh(i){return(i=String(i)).match(WA)?i:"unsafe:"+i}function Ma(i){const s={};for(const l of i.split(","))s[l]=!0;return s}function Ju(...i){const s={};for(const l of i)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const Lp=Ma("area,br,col,hr,img,wbr"),Rp=Ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jA=Ma("rp,rt"),rc=Ju(Lp,Ju(Rp,Ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ju(jA,Ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ju(jA,Rp)),dh=Ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gh=Ju(dh,Ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Np=Ma("script,style,template");class $A{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let g=this.checkClobberedElement(l,l.nextSibling);if(g){l=g;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!rc.hasOwnProperty(l))return this.sanitizedSomething=!0,!Np.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let g=0;g<d.length;g++){const C=d.item(g),v=C.name,S=v.toLowerCase();if(!gh.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let O=C.value;dh[S]&&(O=uh(O)),this.buf.push(" ",v,'="',Fp(O),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();rc.hasOwnProperty(l)&&!Lp.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(Fp(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const $w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dy=/([^\#-~ |!])/g;function Fp(i){return i.replace(/&/g,"&amp;").replace($w,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Dy,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sa;function Pi(i,s){let l=null;try{Sa=Sa||function Op(i){const s=new zA(i);return function GA(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch{return!1}}()?new HA(s):s}(i);let d=s?String(s):"";l=Sa.getInertBodyElement(d);let g=5,C=d;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,d=C,C=l.innerHTML,l=Sa.getInertBodyElement(d)}while(d!==C);return So((new $A).sanitizeChildren(kp(l)||l))}finally{if(l){const d=kp(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function kp(i){return"content"in i&&function Py(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var $i=(()=>(($i=$i||{})[$i.NONE=0]="NONE",$i[$i.HTML=1]="HTML",$i[$i.STYLE=2]="STYLE",$i[$i.SCRIPT=3]="SCRIPT",$i[$i.URL=4]="URL",$i[$i.RESOURCE_URL=5]="RESOURCE_URL",$i))();function ZA(i){const s=Vf();return s?DA(s.sanitize($i.HTML,i)||""):zc(i,"HTML")?DA(Cl(i)):Pi(function Mo(){return void 0!==Tp?Tp:typeof document<"u"?document:void 0}(),He(i))}function Yo(i){const s=Vf();return s?s.sanitize($i.URL,i)||"":zc(i,"URL")?Cl(i):uh(He(i))}function Vf(){const i=Tt();return i&&i[12]}const YA=new wi("ENVIRONMENT_INITIALIZER"),Oy=new wi("INJECTOR",-1),Ly=new wi("INJECTOR_DEF_TYPES");class Ry{get(s,l=Zo){if(l===Zo){const d=new Error(`NullInjectorError: No provider for ${ae(s)}!`);throw d.name="NullInjectorError",d}return l}}function Qw(...i){return{\u0275providers:Ny(0,i)}}function Ny(i,...s){const l=[],d=new Set;let g;return xa(s,C=>{const v=C;Up(v,l,[],d)&&(g||(g=[]),g.push(v))}),void 0!==g&&Fy(g,l),l}function Fy(i,s){for(let l=0;l<i.length;l++){const{providers:g}=i[l];xa(g,C=>{s.push(C)})}}function Up(i,s,l,d){if(!(i=he(i)))return!1;let g=null,C=Yi(i);const v=!C&&ti(i);if(C||v){if(v&&!v.standalone)return!1;g=i}else{const O=i.ngModule;if(C=Yi(O),!C)return!1;g=O}const S=d.has(g);if(v){if(S)return!1;if(d.add(g),v.dependencies){const O="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of O)Up(H,s,l,d)}}else{if(!C)return!1;{if(null!=C.imports&&!S){let H;d.add(g);try{xa(C.imports,re=>{Up(re,s,l,d)&&(H||(H=[]),H.push(re))})}finally{}void 0!==H&&Fy(H,s)}if(!S){const H=ss(g)||(()=>new g);s.push({provide:g,useFactory:H,deps:xt},{provide:Ly,useValue:g,multi:!0},{provide:YA,useValue:()=>Ui(g),multi:!0})}const O=C.providers;null==O||S||xa(O,re=>{s.push(re)})}}return g!==i&&void 0!==i.providers}const Xw=q({provide:String,useValue:q});function qA(i){return null!==i&&"object"==typeof i&&Xw in i}function Qu(i){return"function"==typeof i}const KA=new wi("Set Injector scope."),Hp={},tM={};let Hf;function Xu(){return void 0===Hf&&(Hf=new Ry),Hf}class To{}class as extends To{constructor(s,l,d,g){super(),this.parent=l,this.source=d,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gp(s,v=>this.processProvider(v)),this.records.set(Oy,Xi(void 0,this)),g.has("environment")&&this.records.set(To,Xi(void 0,this));const C=this.records.get(KA);null!=C&&"string"==typeof C.value&&this.scopes.add(C.value),this.injectorDefTypes=new Set(this.get(Ly.multi,xt,sn.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=Zu(this),d=mi(void 0);try{return s()}finally{Zu(l),mi(d)}}get(s,l=Zo,d=sn.Default){this.assertNotDestroyed();const g=Zu(this),C=mi(void 0);try{if(!(d&sn.SkipSelf)){let S=this.records.get(s);if(void 0===S){const O=function Vy(i){return"function"==typeof i||"object"==typeof i&&i instanceof wi}(s)&&dn(s);S=O&&this.injectableDefInScope(O)?Xi(zf(s),Hp):null,this.records.set(s,S)}if(null!=S)return this.hydrate(s,S)}return(d&sn.Self?Xu():this.parent).get(s,l=d&sn.Optional&&l===Zo?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[$u]=v[$u]||[]).unshift(ae(s)),g)throw v;return function Mp(i,s,l,d){const g=i[$u];throw s[wA]&&g.unshift(s[wA]),i.message=function Vc(i,s,l,d=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let g=ae(s);if(Array.isArray(s))g=s.map(ae).join(" -> ");else if("object"==typeof s){let C=[];for(let v in s)if(s.hasOwnProperty(v)){let S=s[v];C.push(v+":"+("string"==typeof S?JSON.stringify(S):ae(S)))}g=`{${C.join(", ")}}`}return`${l}${d?"("+d+")":""}[${g}]: ${i.replace(yy,"\n  ")}`}("\n"+i.message,g,l,d),i.ngTokenPath=g,i[$u]=null,i}(v,s,"R3InjectorError",this.source)}throw v}finally{mi(C),Zu(g)}}resolveInjectorInitializers(){const s=Zu(this),l=mi(void 0);try{const d=this.get(YA.multi,xt,sn.Self);for(const g of d)g()}finally{Zu(s),mi(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(ae(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(s){let l=Qu(s=he(s))?s:he(s&&s.provide);const d=function ph(i){return qA(i)?Xi(void 0,i.useValue):Xi(zs(i),Hp)}(s);if(Qu(s)||!0!==s.multi)this.records.get(l);else{let g=this.records.get(l);g||(g=Xi(void 0,Hp,!0),g.factory=()=>wp(g.multi),this.records.set(l,g)),l=s,g.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Hp&&(l.value=tM,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Uy(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=he(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function zf(i){const s=dn(i),l=null!==s?s.factory:ss(i);if(null!==l)return l;if(i instanceof wi)throw new Le(204,!1);if(i instanceof Function)return function Gc(i){const s=i.length;if(s>0)throw wa(s,"?"),new Le(204,!1);const l=function Rn(i){const s=i&&(i[_i]||i[es]);if(s){const l=function Ei(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(i);return null!==l?()=>l.factory(i):()=>new i}(i);throw new Le(204,!1)}function zs(i,s,l){let d;if(Qu(i)){const g=he(i);return ss(g)||zf(g)}if(qA(i))d=()=>he(i.useValue);else if(function By(i){return!(!i||!i.useFactory)}(i))d=()=>i.useFactory(...wp(i.deps||[]));else if(function ky(i){return!(!i||!i.useExisting)}(i))d=()=>Ui(he(i.useExisting));else{const g=he(i&&(i.useClass||i.provide));if(!function zp(i){return!!i.deps}(i))return ss(g)||zf(g);d=()=>new g(...wp(i.deps))}return d}function Xi(i,s,l=!1){return{factory:i,value:s,multi:l?[]:void 0}}function mh(i){return!!i.\u0275providers}function Gp(i,s){for(const l of i)Array.isArray(l)?Gp(l,s):mh(l)?Gp(l.\u0275providers,s):s(l)}class JA{}class Gy{resolveComponentFactory(s){throw function zy(i){const s=Error(`No component factory found for ${ae(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Ch=(()=>{class i{}return i.NULL=new Gy,i})();function Wy(){return ed(Di(),Tt())}function ed(i,s){return new Wc(Br(i,s))}let Wc=(()=>{class i{constructor(l){this.nativeElement=l}}return i.__NG_ELEMENT_ID__=Wy,i})();function XA(i){return i instanceof Wc?i.nativeElement:i}class eI{}let jy=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function $y(){const i=Tt(),l=vi(Di().index,i);return(ur(l)?l:i)[11]}(),i})(),Zy=(()=>{class i{}return i.\u0275prov=un({token:i,providedIn:"root",factory:()=>null}),i})();class Mt{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const eo=new Mt("14.2.9"),Gf={};function to(i){return i.ngOriginalError}class bi{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&to(s);for(;l&&to(l);)l=to(l);return l||null}}const vh=new Map;let tI=0;const Da="__ngContext__";function vr(i,s){ur(s)?(i[Da]=s[20],function Al(i){vh.set(i[20],i)}(s)):i[Da]=s}function Yf(i){return i.ownerDocument.defaultView}function Eo(i){return i instanceof Function?i():i}var Pa=(()=>((Pa=Pa||{})[Pa.Important=1]="Important",Pa[Pa.DashCase=2]="DashCase",Pa))();function rd(i,s){return undefined(i,s)}function xh(i){const s=i[3];return sr(s)?s[3]:s}function Jf(i){return La(i[13])}function uc(i){return La(i[4])}function La(i){for(;null!==i&&!sr(i);)i=i[4];return i}function Ra(i,s,l,d,g){if(null!=d){let C,v=!1;sr(d)?C=d:ur(d)&&(v=!0,d=d[0]);const S=Wi(d);0===i&&null!==l?null==g?lI(s,l,S):cs(s,l,S,g||null,!0):1===i&&null!==l?cs(s,l,S,g||null,!0):2===i?function s0(i,s,l){const d=Qc(i,s);d&&function ws(i,s,l,d){i.removeChild(s,l,d)}(i,d,s,l)}(s,S,v):3===i&&s.destroyNode(S),null!=C&&function io(i,s,l,d,g){const C=l[7];C!==Wi(l)&&Ra(s,i,d,C,g);for(let S=10;S<l.length;S++){const O=l[S];As(O[1],O,i,s,d,C)}}(s,i,C,l,g)}}function Qf(i,s,l){return i.createElement(s,l)}function Xf(i,s){const l=i[9],d=l.indexOf(s),g=s[3];512&s[2]&&(s[2]&=-513,xr(g,-1)),l.splice(d,1)}function Jo(i,s){if(i.length<=10)return;const l=10+s,d=i[l];if(d){const g=d[17];null!==g&&g!==i&&Xf(g,d),s>0&&(i[l-1][4]=d[4]);const C=Wo(i,10+s);!function sI(i,s){As(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const v=C[19];null!==v&&v.detachView(C[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Jc(i,s){if(!(128&s[2])){const l=s[11];l.destroyNode&&As(i,s,l,3,null,null),function ls(i){let s=i[13];if(!s)return dc(i[1],i);for(;s;){let l=null;if(ur(s))l=s[13];else{const d=s[10];d&&(l=d)}if(!l){for(;s&&!s[4]&&s!==i;)ur(s)&&dc(s[1],s),s=s[3];null===s&&(s=i),ur(s)&&dc(s[1],s),l=s&&s[4]}s=l}}(s)}}function dc(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function rm(i,s){let l;if(null!=i&&null!=(l=i.destroyHooks))for(let d=0;d<l.length;d+=2){const g=s[l[d]];if(!(g instanceof bo)){const C=l[d+1];if(Array.isArray(C))for(let v=0;v<C.length;v+=2){const S=g[C[v]],O=C[v+1];try{O.call(S)}finally{}}else try{C.call(g)}finally{}}}}(i,s),function aI(i,s){const l=i.cleanup,d=s[7];let g=-1;if(null!==l)for(let C=0;C<l.length-1;C+=2)if("string"==typeof l[C]){const v=l[C+1],S="function"==typeof v?v(s):Wi(s[v]),O=d[g=l[C+2]],H=l[C+3];"boolean"==typeof H?S.removeEventListener(l[C],O,H):H>=0?d[g=H]():d[g=-H].unsubscribe(),C+=2}else{const v=d[g=l[C+1]];l[C].call(v)}if(null!==d){for(let C=g+1;C<d.length;C++)(0,d[C])();s[7]=null}}(i,s),1===s[1].type&&s[11].destroy();const l=s[17];if(null!==l&&sr(s[3])){l!==s[3]&&Xf(l,s);const d=s[19];null!==d&&d.detachView(i)}!function Jp(i){vh.delete(i[20])}(s)}}function eg(i,s,l){return function tg(i,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[0];if(2&d.flags){const g=i.data[d.directiveStart].encapsulation;if(g===ct.None||g===ct.Emulated)return null}return Br(d,l)}(i,s.parent,l)}function cs(i,s,l,d,g){i.insertBefore(s,l,d,g)}function lI(i,s,l){i.appendChild(s,l)}function Po(i,s,l,d,g){null!==d?cs(i,s,l,d,g):lI(i,s,l)}function Qc(i,s){return i.parentNode(s)}function e0(i,s,l){return n0(i,s,l)}let n0=function t0(i,s,l){return 40&i.type?Br(i,l):null};function om(i,s,l,d){const g=eg(i,d,s),C=s[11],S=e0(d.parent||s[6],d,s);if(null!=g)if(Array.isArray(l))for(let O=0;O<l.length;O++)Po(C,g,l[O],S,!1);else Po(C,g,l,S,!1)}function wh(i,s){if(null!==s){const l=s.type;if(3&l)return Br(s,i);if(4&l)return hn(-1,i[s.index]);if(8&l){const d=s.child;if(null!==d)return wh(i,d);{const g=i[s.index];return sr(g)?hn(-1,g):Wi(g)}}if(32&l)return rd(s,i)()||Wi(i[s.index]);{const d=r0(i,s);return null!==d?Array.isArray(d)?d[0]:wh(xh(i[16]),d):wh(i,s.next)}}return null}function r0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function hn(i,s){const l=10+i+1;if(l<s.length){const d=s[l],g=d[1].firstChild;if(null!==g)return wh(d,g)}return s[7]}function am(i,s,l,d,g,C,v){for(;null!=l;){const S=d[l.index],O=l.type;if(v&&0===s&&(S&&vr(Wi(S),d),l.flags|=4),64!=(64&l.flags))if(8&O)am(i,s,l.child,d,g,C,!1),Ra(s,i,g,S,C);else if(32&O){const H=rd(l,d);let re;for(;re=H();)Ra(s,i,g,re,C);Ra(s,i,g,S,C)}else 16&O?Xc(i,s,d,l,g,C):Ra(s,i,g,S,C);l=v?l.projectionNext:l.next}}function As(i,s,l,d,g,C){am(l,d,i.firstChild,s,g,C,!1)}function Xc(i,s,l,d,g,C){const v=l[16],O=v[6].projection[d.projection];if(Array.isArray(O))for(let H=0;H<O.length;H++)Ra(s,i,g,O[H],C);else am(i,s,O,v[3],g,C,!0)}function Hr(i,s,l){i.setAttribute(s,"style",l)}function Zn(i,s,l){""===l?i.removeAttribute(s,"class"):i.setAttribute(s,"class",l)}function cm(i,s,l){let d=i.length;for(;;){const g=i.indexOf(s,l);if(-1===g)return g;if(0===g||i.charCodeAt(g-1)<=32){const C=s.length;if(g+C===d||i.charCodeAt(g+C)<=32)return g}l=g+1}}const ng="ng-template";function hc(i,s,l){let d=0;for(;d<i.length;){let g=i[d++];if(l&&"class"===g){if(g=i[d],-1!==cm(g.toLowerCase(),s,0))return!0}else if(1===g){for(;d<i.length&&"string"==typeof(g=i[d++]);)if(g.toLowerCase()===s)return!0;return!1}}return!1}function bl(i){return 4===i.type&&i.value!==ng}function fc(i,s,l){return s===(4!==i.type||l?i.value:ng)}function um(i,s,l){let d=4;const g=i.attrs||[],C=function rg(i){for(let s=0;s<i.length;s++)if(Qd(i[s]))return s;return i.length}(g);let v=!1;for(let S=0;S<s.length;S++){const O=s[S];if("number"!=typeof O){if(!v)if(4&d){if(d=2|1&d,""!==O&&!fc(i,O,l)||""===O&&1===s.length){if(ro(d))return!1;v=!0}}else{const H=8&d?O:s[++S];if(8&d&&null!==i.attrs){if(!hc(i.attrs,H,l)){if(ro(d))return!1;v=!0}continue}const ge=dm(8&d?"class":O,g,bl(i),l);if(-1===ge){if(ro(d))return!1;v=!0;continue}if(""!==H){let Re;Re=ge>C?"":g[ge+1].toLowerCase();const Ke=8&d?Re:null;if(Ke&&-1!==cm(Ke,H,0)||2&d&&H!==Re){if(ro(d))return!1;v=!0}}}}else{if(!v&&!ro(d)&&!ro(O))return!1;if(v&&ro(O))continue;v=!1,d=O|1&d}}return ro(d)||v}function ro(i){return 0==(1&i)}function dm(i,s,l,d){if(null===s)return-1;let g=0;if(d||!l){let C=!1;for(;g<s.length;){const v=s[g];if(v===i)return g;if(3===v||6===v)C=!0;else{if(1===v||2===v){let S=s[++g];for(;"string"==typeof S;)S=s[++g];continue}if(4===v)break;if(0===v){g+=4;continue}}g+=C?1:2}return-1}return function sg(i,s){let l=i.indexOf(4);if(l>-1)for(l++;l<i.length;){const d=i[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,i)}function Th(i,s,l=!1){for(let d=0;d<s.length;d++)if(um(i,s[d],l))return!0;return!1}function og(i,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(i.length===d.length){for(let g=0;g<i.length;g++)if(i[g]!==d[g])continue e;return!0}}return!1}function Eh(i,s){return i?":not("+s.trim()+")":s}function hm(i){let s=i[0],l=1,d=2,g="",C=!1;for(;l<i.length;){let v=i[l];if("string"==typeof v)if(2&d){const S=i[++l];g+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&d?g+="."+v:4&d&&(g+=" "+v);else""!==g&&!ro(v)&&(s+=Eh(C,g),g=""),d=v,C=C||!ro(d);l++}return""!==g&&(s+=Eh(C,g)),s}const zn={};function Dh(i){gc(qn(),Tt(),Te()+i,!1)}function gc(i,s,l,d){if(!d)if(3==(3&s[2])){const C=i.preOrderCheckHooks;null!==C&&Ji(s,C,l)}else{const C=i.preOrderHooks;null!==C&&Ur(s,C,0,l)}tt(l)}function tu(i,s=null,l=null,d){const g=nu(i,s,l,d);return g.resolveInjectorInitializers(),g}function nu(i,s=null,l=null,d,g=new Set){const C=[l||xt,Qw(i)];return d=d||("object"==typeof i?void 0:ae(i)),new as(C,s||Xu(),d||null,g)}let iu=(()=>{class i{static create(l,d){if(Array.isArray(l))return tu({name:""},d,l,"");{const g=l.name??"";return tu({name:g},l.parent,l.providers,g)}}}return i.THROW_IF_NOT_FOUND=Zo,i.NULL=new Ry,i.\u0275prov=un({token:i,providedIn:"any",factory:()=>Ui(Oy)}),i.__NG_ELEMENT_ID__=-1,i})();function od(i,s=sn.Default){const l=Tt();return null===l?Ui(i,s):Cn(Di(),l,he(i),s)}function mI(){throw new Error("invalid")}function hg(i,s){return i<<17|s<<2}function Qo(i){return i>>17&32767}function Cm(i){return 2|i}function xl(i){return(131068&i)>>2}function Am(i,s){return-131069&i|s<<2}function Im(i){return 1|i}function SI(i,s){const l=i.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const g=l[d],C=l[d+1];if(-1!==C){const v=i.data[C];Aa(g),v.contentQueries(2,s[C],C)}}}function pg(i,s,l,d,g,C,v,S,O,H,re){const ge=s.blueprint.slice();return ge[0]=g,ge[2]=76|d,(null!==re||i&&1024&i[2])&&(ge[2]|=1024),ko(ge),ge[3]=ge[15]=i,ge[8]=l,ge[10]=v||i&&i[10],ge[11]=S||i&&i[11],ge[12]=O||i&&i[12]||null,ge[9]=H||i&&i[9]||null,ge[6]=C,ge[20]=function Yc(){return tI++}(),ge[21]=re,ge[16]=2==s.type?i[16]:ge,ge}function ad(i,s,l,d,g){let C=i.data[s];if(null===C)C=function Sm(i,s,l,d,g){const C=Yl(),v=kc(),O=i.data[s]=function N0(i,s,l,d,g,C){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:C,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?C:C&&C.parent,l,s,d,g);return null===i.firstChild&&(i.firstChild=O),null!==C&&(v?null==C.child&&null!==O.parent&&(C.child=O):null===C.next&&(C.next=O)),O}(i,s,l,d,g),function qd(){return _n.lFrame.inI18n}()&&(C.flags|=64);else if(64&C.type){C.type=l,C.value=d,C.attrs=g;const v=function ma(){const i=_n.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();C.injectorIndex=null===v?-1:v.injectorIndex}return os(C,!0),C}function ld(i,s,l,d){if(0===l)return-1;const g=s.length;for(let C=0;C<l;C++)s.push(d),i.blueprint.push(d),i.data.push(null);return g}function Tm(i,s,l){Ia(s);try{const d=i.viewQuery;null!==d&&UI(1,d,l);const g=i.template;null!==g&&TI(i,s,g,1,l),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&SI(i,s),i.staticViewQueries&&UI(2,i.viewQuery,l);const C=i.components;null!==C&&function O0(i,s){for(let l=0;l<s.length;l++)BM(i,s[l])}(s,C)}catch(d){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),d}finally{s[2]&=-5,j()}}function mg(i,s,l,d){const g=s[2];if(128!=(128&g)){Ia(s);try{ko(s),function ql(i){return _n.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==l&&TI(i,s,l,2,d);const v=3==(3&g);if(v){const H=i.preOrderCheckHooks;null!==H&&Ji(s,H,null)}else{const H=i.preOrderHooks;null!==H&&Ur(s,H,0,null),Jr(s,0)}if(function FM(i){for(let s=Jf(i);null!==s;s=uc(s)){if(!s[2])continue;const l=s[9];for(let d=0;d<l.length;d++){const g=l[d],C=g[3];0==(512&g[2])&&xr(C,1),g[2]|=512}}}(s),function NM(i){for(let s=Jf(i);null!==s;s=uc(s))for(let l=10;l<s.length;l++){const d=s[l],g=d[1];Fo(d)&&mg(g,d,g.template,d[8])}}(s),null!==i.contentQueries&&SI(i,s),v){const H=i.contentCheckHooks;null!==H&&Ji(s,H)}else{const H=i.contentHooks;null!==H&&Ur(s,H,1),Jr(s,1)}!function D0(i,s){const l=i.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const g=l[d];if(g<0)tt(~g);else{const C=g,v=l[++d],S=l[++d];Kd(v,C),S(2,s[C])}}}finally{tt(-1)}}(i,s);const S=i.components;null!==S&&function P0(i,s){for(let l=0;l<s.length;l++)kM(i,s[l])}(s,S);const O=i.viewQuery;if(null!==O&&UI(2,O,d),v){const H=i.viewCheckHooks;null!==H&&Ji(s,H)}else{const H=i.viewHooks;null!==H&&Ur(s,H,2),Jr(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,xr(s[3],-1))}finally{j()}}}function TI(i,s,l,d,g){const C=Te(),v=2&d;try{tt(-1),v&&s.length>22&&gc(i,s,22,!1),l(d,g)}finally{tt(C)}}function EI(i,s,l){if(fs(s)){const g=s.directiveEnd;for(let C=s.directiveStart;C<g;C++){const v=i.data[C];v.contentQueries&&v.contentQueries(1,l[C],C)}}}function Em(i,s,l){!Bo()||(function SM(i,s,l,d){const g=l.directiveStart,C=l.directiveEnd;i.firstCreatePass||N(l,s),vr(d,s);const v=l.initialInputs;for(let S=g;S<C;S++){const O=i.data[S],H=gr(O);H&&OM(s,l,O);const re=Un(s,i,S,l);vr(re,s),null!==v&&LM(0,S-g,re,O,0,v),H&&(vi(l.index,s)[8]=re)}}(i,s,l,Br(l,s)),128==(128&l.flags)&&function TM(i,s,l){const d=l.directiveStart,g=l.directiveEnd,C=l.index,v=function Vo(){return _n.lFrame.currentDirectiveIndex}();try{tt(C);for(let S=d;S<g;S++){const O=i.data[S],H=s[S];Js(S),(null!==O.hostBindings||0!==O.hostVars||null!==O.hostAttrs)&&V0(O,H)}}finally{tt(-1),Js(v)}}(i,s,l))}function Dm(i,s,l=Br){const d=s.localNames;if(null!==d){let g=s.index+1;for(let C=0;C<d.length;C+=2){const v=d[C+1],S=-1===v?l(s,i):i[v];i[g++]=S}}}function DI(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Pm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Pm(i,s,l,d,g,C,v,S,O,H){const re=22+d,ge=re+g,Re=function L0(i,s){const l=[];for(let d=0;d<s;d++)l.push(d<i?null:zn);return l}(re,ge),Ke="function"==typeof H?H():H;return Re[1]={type:i,blueprint:Re,template:l,queries:null,viewQuery:S,declTNode:s,data:Re.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof C?C():C,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:O,consts:Ke,incompleteFirstPass:!1}}function PI(i,s,l,d){const g=j0(s);null===l?g.push(d):(g.push(l),i.firstCreatePass&&$0(i).push(d,g.length-1))}function OI(i,s,l){for(let d in i)if(i.hasOwnProperty(d)){const g=i[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(s,g):l[d]=[s,g]}return l}function LI(i,s){const d=s.directiveEnd,g=i.data,C=s.attrs,v=[];let S=null,O=null;for(let H=s.directiveStart;H<d;H++){const re=g[H],ge=re.inputs,Re=null===C||bl(s)?null:RM(ge,C);v.push(Re),S=OI(ge,H,S),O=OI(re.outputs,H,O)}null!==S&&(S.hasOwnProperty("class")&&(s.flags|=16),S.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=v,s.inputs=S,s.outputs=O}function so(i,s,l,d,g,C,v,S){const O=Br(s,l);let re,H=s.inputs;!S&&null!=H&&(re=H[d])?(ii(i,l,re,d,g),Ro(s)&&RI(l,s.index)):3&s.type&&(d=function F0(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(d),g=null!=v?v(g,s.value||"",d):g,C.setProperty(O,d,g))}function RI(i,s){const l=vi(s,i);16&l[2]||(l[2]|=32)}function Om(i,s,l,d){let g=!1;if(Bo()){const C=function EM(i,s,l){const d=i.directiveRegistry;let g=null;if(d)for(let C=0;C<d.length;C++){const v=d[C];Th(l,v.selectors,!1)&&(g||(g=[]),G(N(l,s),i,v.type),gr(v)?(H0(i,l),g.unshift(v)):g.push(v))}return g}(i,s,l),v=null===d?null:{"":-1};if(null!==C){g=!0,z0(l,i.data.length,C.length);for(let re=0;re<C.length;re++){const ge=C[re];ge.providersResolver&&ge.providersResolver(ge)}let S=!1,O=!1,H=ld(i,s,C.length,null);for(let re=0;re<C.length;re++){const ge=C[re];l.mergedAttrs=ol(l.mergedAttrs,ge.hostAttrs),G0(i,l,s,H,ge),PM(H,ge,v),null!==ge.contentQueries&&(l.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(l.flags|=128);const Re=ge.type.prototype;!S&&(Re.ngOnChanges||Re.ngOnInit||Re.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(l.index),S=!0),!O&&(Re.ngOnChanges||Re.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(l.index),O=!0),H++}LI(i,l)}v&&function DM(i,s,l){if(s){const d=i.localNames=[];for(let g=0;g<s.length;g+=2){const C=l[s[g+1]];if(null==C)throw new Le(-301,!1);d.push(s[g],C)}}}(l,d,v)}return l.mergedAttrs=ol(l.mergedAttrs,l.attrs),g}function NI(i,s,l,d,g,C){const v=C.hostBindings;if(v){let S=i.hostBindingOpCodes;null===S&&(S=i.hostBindingOpCodes=[]);const O=~s.index;(function U0(i){let s=i.length;for(;s>0;){const l=i[--s];if("number"==typeof l&&l<0)return l}return 0})(S)!=O&&S.push(O),S.push(d,g,v)}}function V0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function H0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function PM(i,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=i;gr(s)&&(l[""]=i)}}function z0(i,s,l){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+l,i.providerIndexes=s}function G0(i,s,l,d,g){i.data[d]=g;const C=g.factory||(g.factory=ss(g.type)),v=new bo(C,gr(g),od);i.blueprint[d]=v,l[d]=v,NI(i,s,0,d,ld(i,l,g.hostVars,zn),g)}function OM(i,s,l){const d=Br(s,i),g=DI(l),C=i[10],v=Lm(i,pg(i,g,null,l.onPush?32:16,d,s,C,C.createRenderer(d,l),null,null,null));i[s.index]=v}function wl(i,s,l,d,g,C){const v=Br(i,s);!function FI(i,s,l,d,g,C,v){if(null==C)i.removeAttribute(s,g,l);else{const S=null==v?He(C):v(C,d||"",g);i.setAttribute(s,g,S,l)}}(s[11],v,C,i.value,l,d,g)}function LM(i,s,l,d,g,C){const v=C[s];if(null!==v){const S=d.setInput;for(let O=0;O<v.length;){const H=v[O++],re=v[O++],ge=v[O++];null!==S?d.setInput(l,ge,H,re):l[re]=ge}}}function RM(i,s){let l=null,d=0;for(;d<s.length;){const g=s[d];if(0!==g)if(5!==g){if("number"==typeof g)break;i.hasOwnProperty(g)&&(null===l&&(l=[]),l.push(g,i[g],s[d+1])),d+=2}else d+=2;else d+=4}return l}function W0(i,s,l,d){return new Array(i,!0,!1,s,null,0,d,l,null,null)}function kM(i,s){const l=vi(s,i);if(Fo(l)){const d=l[1];48&l[2]?mg(d,l,d.template,l[8]):l[5]>0&&kI(l)}}function kI(i){for(let d=Jf(i);null!==d;d=uc(d))for(let g=10;g<d.length;g++){const C=d[g];if(Fo(C))if(512&C[2]){const v=C[1];mg(v,C,v.template,C[8])}else C[5]>0&&kI(C)}const l=i[1].components;if(null!==l)for(let d=0;d<l.length;d++){const g=vi(l[d],i);Fo(g)&&g[5]>0&&kI(g)}}function BM(i,s){const l=vi(s,i),d=l[1];(function UM(i,s){for(let l=s.length;l<i.blueprint.length;l++)s.push(i.blueprint[l])})(d,l),Tm(d,l,l[8])}function Lm(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function BI(i){for(;i;){i[2]|=32;const s=xh(i);if(ua(i)&&!s)return i;i=s}return null}function Rm(i,s,l,d=!0){const g=s[10];g.begin&&g.begin();try{mg(i,s,i.template,l)}catch(v){throw d&&Y0(s,v),v}finally{g.end&&g.end()}}function UI(i,s,l){Aa(0),s(i,l)}function j0(i){return i[7]||(i[7]=[])}function $0(i){return i.cleanup||(i.cleanup=[])}function Y0(i,s){const l=i[9],d=l?l.get(bi,null):null;d&&d.handleError(s)}function ii(i,s,l,d,g){for(let C=0;C<l.length;){const v=l[C++],S=l[C++],O=s[v],H=i.data[v];null!==H.setInput?H.setInput(O,g,d,S):O[S]=g}}function jt(i,s,l){const d=ks(s,i);!function iI(i,s,l){i.setValue(s,l)}(i[11],d,l)}function oo(i,s,l){let d=l?i.styles:null,g=l?i.classes:null,C=0;if(null!==s)for(let v=0;v<s.length;v++){const S=s[v];"number"==typeof S?C=S:1==C?g=X(g,S):2==C&&(d=X(d,S+": "+s[++v]+";"))}l?i.styles=d:i.stylesWithoutHost=d,l?i.classes=g:i.classesWithoutHost=g}function Cg(i,s,l,d,g=!1){for(;null!==l;){const C=s[l.index];if(null!==C&&d.push(Wi(C)),sr(C))for(let S=10;S<C.length;S++){const O=C[S],H=O[1].firstChild;null!==H&&Cg(O[1],O,H,d)}const v=l.type;if(8&v)Cg(i,s,l.child,d);else if(32&v){const S=rd(l,s);let O;for(;O=S();)d.push(O)}else if(16&v){const S=r0(s,l);if(Array.isArray(S))d.push(...S);else{const O=xh(s[16]);Cg(O[1],O,S,d,!0)}}l=g?l.projectionNext:l.next}return d}class Rh{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return Cg(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(sr(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(Jo(s,d),Wo(l,d))}this._attachedToViewContainer=!1}Jc(this._lView[1],this._lView)}onDestroy(s){PI(this._lView[1],this._lView,null,s)}markForCheck(){BI(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Rm(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oI(i,s){As(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=s}}class q0 extends Rh{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Rm(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class Nm extends Ch{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=ti(s);return new Fa(l,this.ngModule)}}function VI(i){const s=[];for(let l in i)i.hasOwnProperty(l)&&s.push({propName:i[l],templateName:l});return s}class cd{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){const g=this.injector.get(s,Gf,d);return g!==Gf||l===Gf?g:this.parentInjector.get(s,l,d)}}class Fa extends JA{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function ag(i){return i.map(hm).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return VI(this.componentDef.inputs)}get outputs(){return VI(this.componentDef.outputs)}create(s,l,d,g){let C=(g=g||this.ngModule)instanceof To?g:g?.injector;C&&null!==this.componentDef.getStandaloneInjector&&(C=this.componentDef.getStandaloneInjector(C)||C);const v=C?new cd(s,C):s,S=v.get(eI,null);if(null===S)throw new Le(407,!1);const O=v.get(Zy,null),H=S.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",ge=d?function R0(i,s,l){return i.selectRootElement(s,l===ct.ShadowDom)}(H,d,this.componentDef.encapsulation):Qf(S.createRenderer(null,this.componentDef),re,function K0(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(re)),Re=this.componentDef.onPush?288:272,Ke=Pm(0,null,null,1,0,null,null,null,null,null),vt=pg(null,Ke,null,Re,null,null,S,H,O,v,null);let Ut,Yt;Ia(vt);try{const gn=function km(i,s,l,d,g,C){const v=l[1];l[22]=i;const O=ad(v,22,2,"#host",null),H=O.mergedAttrs=s.hostAttrs;null!==H&&(oo(O,H,!0),null!==i&&(sl(g,i,H),null!==O.classes&&Zn(g,i,O.classes),null!==O.styles&&Hr(g,i,O.styles)));const re=d.createRenderer(i,s),ge=pg(l,DI(s),null,s.onPush?32:16,l[22],O,d,re,C||null,null,null);return v.firstCreatePass&&(G(N(O,l),v,s.type),H0(v,O),z0(O,l.length,1)),Lm(l,ge),l[22]=ge}(ge,this.componentDef,vt,S,H);if(ge)if(d)sl(H,ge,["ng-version",eo.full]);else{const{attrs:wn,classes:Pt}=function Dr(i){const s=[],l=[];let d=1,g=2;for(;d<i.length;){let C=i[d];if("string"==typeof C)2===g?""!==C&&s.push(C,i[++d]):8===g&&l.push(C);else{if(!ro(g))break;g=C}d++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);wn&&sl(H,ge,wn),Pt&&Pt.length>0&&Zn(H,ge,Pt.join(" "))}if(Yt=el(Ke,22),void 0!==l){const wn=Yt.projection=[];for(let Pt=0;Pt<this.ngContentSelectors.length;Pt++){const On=l[Pt];wn.push(null!=On?Array.from(On):null)}}Ut=function ru(i,s,l,d){const g=l[1],C=function B0(i,s,l){const d=Di();i.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),G0(i,d,s,ld(i,s,1,null),l),LI(i,d));const g=Un(s,i,d.directiveStart,d);vr(g,s);const C=Br(d,s);return C&&vr(C,s),g}(g,l,s);if(i[8]=l[8]=C,null!==d)for(const S of d)S(C,s);if(s.contentQueries){const S=Di();s.contentQueries(1,C,S.directiveStart)}const v=Di();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(tt(v.index),NI(l[1],v,0,v.directiveStart,v.directiveEnd,s),V0(s,C)),C}(gn,this.componentDef,vt,[dd]),Tm(Ke,vt,null)}finally{j()}return new Fm(this.componentType,Ut,ed(Yt,vt),vt,Yt)}}class Fm extends class Hy{}{constructor(s,l,d,g,C){super(),this.location=d,this._rootLView=g,this._tNode=C,this.instance=l,this.hostView=this.changeDetectorRef=new q0(g),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let g;if(null!==d&&(g=d[s])){const C=this._rootLView;ii(C[1],C,g,s,l),RI(C,this._tNode.index)}}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function dd(){const i=Di();hi(Tt()[1],i)}function Ag(i){let s=function Bm(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),l=!0;const d=[i];for(;s;){let g;if(gr(i))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Le(903,!1);g=s.\u0275dir}if(g){if(l){d.push(g);const v=i;v.inputs=Ig(i.inputs),v.declaredInputs=Ig(i.declaredInputs),v.outputs=Ig(i.outputs);const S=g.hostBindings;S&&zI(i,S);const O=g.viewQuery,H=g.contentQueries;if(O&&_g(i,O),H&&X0(i,H),Z(i.inputs,g.inputs),Z(i.declaredInputs,g.declaredInputs),Z(i.outputs,g.outputs),gr(g)&&g.data.animation){const re=i.data;re.animation=(re.animation||[]).concat(g.data.animation)}}const C=g.features;if(C)for(let v=0;v<C.length;v++){const S=C[v];S&&S.ngInherit&&S(i),S===Ag&&(l=!1)}}s=Object.getPrototypeOf(s)}!function Q0(i){let s=0,l=null;for(let d=i.length-1;d>=0;d--){const g=i[d];g.hostVars=s+=g.hostVars,g.hostAttrs=ol(g.hostAttrs,l=ol(l,g.hostAttrs))}}(d)}function Ig(i){return i===kn?{}:i===xt?[]:i}function _g(i,s){const l=i.viewQuery;i.viewQuery=l?(d,g)=>{s(d,g),l(d,g)}:s}function X0(i,s){const l=i.contentQueries;i.contentQueries=l?(d,g,C)=>{s(d,g,C),l(d,g,C)}:s}function zI(i,s){const l=i.hostBindings;i.hostBindings=l?(d,g)=>{s(d,g),l(d,g)}:s}let vg=null;function su(){if(!vg){const i=Ct.Symbol;if(i&&i.iterator)vg=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const d=s[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(vg=d)}}}return vg}function Nh(i){return!!Fh(i)&&(Array.isArray(i)||!(i instanceof Map)&&su()in i)}function Fh(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ka(i,s,l){return i[s]=l}function hd(i,s){return i[s]}function us(i,s,l){return!Object.is(i[s],l)&&(i[s]=l,!0)}function Cc(i,s,l,d){const g=us(i,s,l);return us(i,s+1,d)||g}function ao(i,s,l,d,g,C){const v=Cc(i,s,l,d);return Cc(i,s+2,g,C)||v}function yg(i,s,l,d){const g=Tt();return us(g,Uo(),s)&&(qn(),wl(ut(),g,i,s,l,d)),yg}function au(i,s,l,d){return us(i,Uo(),l)?s+He(l)+d:zn}function lu(i,s,l,d,g,C){const S=Cc(i,function Sr(){return _n.lFrame.bindingIndex}(),l,g);return Ks(2),S?s+He(l)+d+He(g)+C:zn}function XI(i,s,l,d,g,C,v,S){const O=Tt(),H=qn(),re=i+22,ge=H.firstCreatePass?function sb(i,s,l,d,g,C,v,S,O){const H=s.consts,re=ad(s,i,4,v||null,bs(H,S));Om(s,l,re,bs(H,O)),hi(s,re);const ge=re.tViews=Pm(2,re,d,g,C,s.directiveRegistry,s.pipeRegistry,null,s.schemas,H);return null!==s.queries&&(s.queries.template(s,re),ge.queries=s.queries.embeddedTView(re)),re}(re,H,O,s,l,d,g,C,v):H.data[re];os(ge,!1);const Re=O[11].createComment("");om(H,O,Re,ge),vr(Re,O),Lm(O,O[re]=W0(Re,O,Re,ge)),$s(ge)&&Em(H,O,ge),null!=v&&Dm(O,ge,S)}function e_(i){return _o(function Ou(){return _n.lFrame.contextLView}(),22+i)}function Vm(i,s,l){const d=Tt();return us(d,Uo(),s)&&so(qn(),ut(),d,i,s,d[11],l,!1),Vm}function Hm(i,s,l,d,g){const v=g?"class":"style";ii(i,l,s.inputs[v],v,d)}function bg(i,s,l,d){const g=Tt(),C=qn(),v=22+i,S=g[11],O=g[v]=Qf(S,s,function Kn(){return _n.lFrame.currentNamespace}()),H=C.firstCreatePass?function ab(i,s,l,d,g,C,v){const S=s.consts,H=ad(s,i,2,g,bs(S,C));return Om(s,l,H,bs(S,v)),null!==H.attrs&&oo(H,H.attrs,!1),null!==H.mergedAttrs&&oo(H,H.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,H),H}(v,C,g,0,s,l,d):C.data[v];os(H,!0);const re=H.mergedAttrs;null!==re&&sl(S,O,re);const ge=H.classes;null!==ge&&Zn(S,O,ge);const Re=H.styles;return null!==Re&&Hr(S,O,Re),64!=(64&H.flags)&&om(C,g,O,H),0===function Zl(){return _n.lFrame.elementDepthCount}()&&vr(O,g),function tl(){_n.lFrame.elementDepthCount++}(),$s(H)&&(Em(C,g,H),EI(C,H,g)),null!==d&&Dm(g,H),bg}function xg(){let i=Di();kc()?yo():(i=i.parent,os(i,!1));const s=i;!function pa(){_n.lFrame.elementDepthCount--}();const l=qn();return l.firstCreatePass&&(hi(l,i),fs(i)&&l.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Jd(i){return 0!=(16&i.flags)}(s)&&Hm(l,s,Tt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ku(i){return 0!=(32&i.flags)}(s)&&Hm(l,s,Tt(),s.stylesWithoutHost,!1),xg}function zm(i,s,l,d){return bg(i,s,l,d),xg(),zm}function wg(i,s,l){const d=Tt(),g=qn(),C=i+22,v=g.firstCreatePass?function lb(i,s,l,d,g){const C=s.consts,v=bs(C,d),S=ad(s,i,8,"ng-container",v);return null!==v&&oo(S,v,!0),Om(s,l,S,bs(C,g)),null!==s.queries&&s.queries.elementStart(s,S),S}(C,g,d,s,l):g.data[C];os(v,!0);const S=d[C]=d[11].createComment("");return om(g,d,S,v),vr(S,d),$s(v)&&(Em(g,d,v),EI(g,v,d)),null!=l&&Dm(d,v),wg}function Mg(){let i=Di();const s=qn();return kc()?yo():(i=i.parent,os(i,!1)),s.firstCreatePass&&(hi(s,i),fs(i)&&s.queries.elementEnd(i)),Mg}function Gm(i,s,l){return wg(i,s,l),Mg(),Gm}function t_(){return Tt()}function Wm(i){return!!i&&"function"==typeof i.then}function n_(i){return!!i&&"function"==typeof i.subscribe}const i_=n_;function jm(i,s,l,d){const g=Tt(),C=qn(),v=Di();return function s_(i,s,l,d,g,C,v,S){const O=$s(d),re=i.firstCreatePass&&$0(i),ge=s[8],Re=j0(s);let Ke=!0;if(3&d.type||S){const Yt=Br(d,s),gn=S?S(Yt):Yt,wn=Re.length,Pt=S?Si=>S(Wi(Si[d.index])):d.index;let On=null;if(!S&&O&&(On=function cb(i,s,l,d){const g=i.cleanup;if(null!=g)for(let C=0;C<g.length-1;C+=2){const v=g[C];if(v===l&&g[C+1]===d){const S=s[7],O=g[C+2];return S.length>O?S[O]:null}"string"==typeof v&&(C+=2)}return null}(i,s,g,d.index)),null!==On)(On.__ngLastListenerFn__||On).__ngNextListenerFn__=C,On.__ngLastListenerFn__=C,Ke=!1;else{C=a_(d,s,ge,C,!1);const Si=l.listen(gn,g,C);Re.push(C,Si),re&&re.push(g,Pt,wn,wn+1)}}else C=a_(d,s,ge,C,!1);const vt=d.outputs;let Ut;if(Ke&&null!==vt&&(Ut=vt[g])){const Yt=Ut.length;if(Yt)for(let gn=0;gn<Yt;gn+=2){const hr=s[Ut[gn]][Ut[gn+1]].subscribe(C),Su=Re.length;Re.push(C,hr),re&&re.push(g,d.index,Su,-(Su+1))}}}(C,g,g[11],v,i,s,0,d),jm}function o_(i,s,l,d){try{return!1!==l(d)}catch(g){return Y0(i,g),!1}}function a_(i,s,l,d,g){return function C(v){if(v===Function)return d;BI(2&i.flags?vi(i.index,s):s);let O=o_(s,0,d,v),H=C.__ngNextListenerFn__;for(;H;)O=o_(s,0,H,v)&&O,H=H.__ngNextListenerFn__;return g&&!1===O&&(v.preventDefault(),v.returnValue=!1),O}}function l_(i=1){return function F(i){return(_n.lFrame.contextLView=function se(i,s){for(;i>0;)s=s[15],i--;return s}(i,_n.lFrame.contextLView))[8]}(i)}function ub(i,s){let l=null;const d=function ig(i){const s=i.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(i);for(let g=0;g<s.length;g++){const C=s[g];if("*"!==C){if(null===d?Th(i,C,!0):og(d,C))return g}else l=g}return l}function c_(i){const s=Tt()[16][6];if(!s.projection){const d=s.projection=wa(i?i.length:1,null),g=d.slice();let C=s.child;for(;null!==C;){const v=i?ub(C,i):0;null!==v&&(g[v]?g[v].projectionNext=C:d[v]=C,g[v]=C),C=C.next}}}function u_(i,s=0,l){const d=Tt(),g=qn(),C=ad(g,22+i,16,null,l||null);null===C.projection&&(C.projection=s),yo(),64!=(64&C.flags)&&function lm(i,s,l){Xc(s[11],0,s,l,eg(i,l,s),e0(l.parent||s[6],l,s))}(g,d,C)}function $m(i,s,l){return Sg(i,"",s,"",l),$m}function Sg(i,s,l,d,g){const C=Tt(),v=au(C,s,l,d);return v!==zn&&so(qn(),ut(),C,i,v,C[11],g,!1),Sg}function m_(i,s,l,d,g){const C=i[l+1],v=null===s;let S=d?Qo(C):xl(C),O=!1;for(;0!==S&&(!1===O||v);){const re=i[S+1];hb(i[S],s)&&(O=!0,i[S+1]=d?Im(re):Cm(re)),S=d?Qo(re):xl(re)}O&&(i[l+1]=d?Cm(C):Im(C))}function hb(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ce(i,s)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C_(i){return i.substring(Gr.key,Gr.keyEnd)}function qm(i,s){const l=Gr.textEnd;return l===s?-1:(s=Gr.keyEnd=function gb(i,s,l){for(;s<l&&i.charCodeAt(s)>32;)s++;return s}(i,Gr.key=s,l),pd(i,s,l))}function pd(i,s,l){for(;s<l&&i.charCodeAt(s)<=32;)s++;return s}function Jm(i,s,l){return ea(i,s,l,!1),Jm}function Qm(i,s){return ea(i,s,null,!0),Qm}function b_(i){!function ta(i,s,l,d){const g=qn(),C=Ks(2);g.firstUpdatePass&&w_(g,null,C,d);const v=Tt();if(l!==zn&&us(v,C,l)){const S=g.data[Te()];if(P_(S,d)&&!x_(g,C)){let O=d?S.classesWithoutHost:S.stylesWithoutHost;null!==O&&(l=X(O,l||"")),Hm(g,S,v,l,d)}else!function Ib(i,s,l,d,g,C,v,S){g===zn&&(g=xt);let O=0,H=0,re=0<g.length?g[0]:null,ge=0<C.length?C[0]:null;for(;null!==re||null!==ge;){const Re=O<g.length?g[O+1]:void 0,Ke=H<C.length?C[H+1]:void 0;let Ut,vt=null;re===ge?(O+=2,H+=2,Re!==Ke&&(vt=ge,Ut=Ke)):null===ge||null!==re&&re<ge?(O+=2,vt=re):(H+=2,vt=ge,Ut=Ke),null!==vt&&eC(i,s,l,d,vt,Ut,v,S),re=O<g.length?g[O]:null,ge=H<C.length?C[H]:null}}(g,S,v,v[11],v[C+1],v[C+1]=function Ab(i,s,l){if(null==l||""===l)return xt;const d=[],g=Cl(l);if(Array.isArray(g))for(let C=0;C<g.length;C++)i(d,g[C],!0);else if("object"==typeof g)for(const C in g)g.hasOwnProperty(C)&&i(d,C,g[C]);else"string"==typeof g&&s(d,g);return d}(i,s,l),d,C)}}(U,Ua,i,!0)}function Ua(i,s){for(let l=function A_(i){return function I_(i){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=i.length}(i),qm(i,pd(i,0,Gr.textEnd))}(s);l>=0;l=qm(s,l))U(i,C_(s),!0)}function ea(i,s,l,d){const g=Tt(),C=qn(),v=Ks(2);C.firstUpdatePass&&w_(C,i,v,d),s!==zn&&us(g,v,s)&&eC(C,C.data[Te()],g,g[11],i,g[v+1]=function D_(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ae(Cl(i)))),i}(s,l),d,v)}function x_(i,s){return s>=i.expandoStartIndex}function w_(i,s,l,d){const g=i.data;if(null===g[l+1]){const C=g[Te()],v=x_(i,l);P_(C,d)&&null===s&&!v&&(s=!1),s=function mb(i,s,l,d){const g=function il(i){const s=_n.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let C=d?s.residualClasses:s.residualStyles;if(null===g)0===(d?s.classBindings:s.styleBindings)&&(l=Vh(l=Xm(null,i,s,l,d),s.attrs,d),C=null);else{const v=s.directiveStylingLast;if(-1===v||i[v]!==g)if(l=Xm(g,i,s,l,d),null===C){let O=function M_(i,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==xl(d))return i[Qo(d)]}(i,s,d);void 0!==O&&Array.isArray(O)&&(O=Xm(null,i,s,O[1],d),O=Vh(O,s.attrs,d),function S_(i,s,l,d){i[Qo(l?s.classBindings:s.styleBindings)]=d}(i,s,d,O))}else C=function Cb(i,s,l){let d;const g=s.directiveEnd;for(let C=1+s.directiveStylingLast;C<g;C++)d=Vh(d,i[C].hostAttrs,l);return Vh(d,s.attrs,l)}(i,s,d)}return void 0!==C&&(d?s.residualClasses=C:s.residualStyles=C),l}(g,C,s,d),function p_(i,s,l,d,g,C){let v=C?s.classBindings:s.styleBindings,S=Qo(v),O=xl(v);i[d]=l;let re,H=!1;if(Array.isArray(l)){const ge=l;re=ge[1],(null===re||Ce(ge,re)>0)&&(H=!0)}else re=l;if(g)if(0!==O){const Re=Qo(i[S+1]);i[d+1]=hg(Re,S),0!==Re&&(i[Re+1]=Am(i[Re+1],d)),i[S+1]=function _0(i,s){return 131071&i|s<<17}(i[S+1],d)}else i[d+1]=hg(S,0),0!==S&&(i[S+1]=Am(i[S+1],d)),S=d;else i[d+1]=hg(O,0),0===S?S=d:i[O+1]=Am(i[O+1],d),O=d;H&&(i[d+1]=Cm(i[d+1])),m_(i,re,d,!0),m_(i,re,d,!1),function db(i,s,l,d,g){const C=g?i.residualClasses:i.residualStyles;null!=C&&"string"==typeof s&&Ce(C,s)>=0&&(l[d+1]=Im(l[d+1]))}(s,re,i,d,C),v=hg(S,O),C?s.classBindings=v:s.styleBindings=v}(g,C,s,l,v,d)}}function Xm(i,s,l,d,g){let C=null;const v=l.directiveEnd;let S=l.directiveStylingLast;for(-1===S?S=l.directiveStart:S++;S<v&&(C=s[S],d=Vh(d,C.hostAttrs,g),C!==i);)S++;return null!==i&&(l.directiveStylingLast=S),d}function Vh(i,s,l){const d=l?1:2;let g=-1;if(null!==s)for(let C=0;C<s.length;C++){const v=s[C];"number"==typeof v?g=v:g===d&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),U(i,v,!!l||s[++C]))}return void 0===i?null:i}function eC(i,s,l,d,g,C,v,S){if(!(3&s.type))return;const O=i.data,H=O[S+1];Hh(function II(i){return 1==(1&i)}(H)?E_(O,s,l,g,xl(H),v):void 0)||(Hh(C)||function AI(i){return 2==(2&i)}(H)&&(C=E_(O,null,l,g,S,v)),function Mh(i,s,l,d,g){if(s)g?i.addClass(l,d):i.removeClass(l,d);else{let C=-1===d.indexOf("-")?void 0:Pa.DashCase;null==g?i.removeStyle(l,d,C):("string"==typeof g&&g.endsWith("!important")&&(g=g.slice(0,-10),C|=Pa.Important),i.setStyle(l,d,g,C))}}(d,v,ks(Te(),l),g,C))}function E_(i,s,l,d,g,C){const v=null===s;let S;for(;g>0;){const O=i[g],H=Array.isArray(O),re=H?O[1]:O,ge=null===re;let Re=l[g+1];Re===zn&&(Re=ge?xt:void 0);let Ke=ge?te(Re,d):re===d?Re:void 0;if(H&&!Hh(Ke)&&(Ke=te(O,d)),Hh(Ke)&&(S=Ke,v))return S;const vt=i[g+1];g=v?Qo(vt):xl(vt)}if(null!==s){let O=C?s.residualClasses:s.residualStyles;null!=O&&(S=te(O,d))}return S}function Hh(i){return void 0!==i}function P_(i,s){return 0!=(i.flags&(s?16:32))}function O_(i,s=""){const l=Tt(),d=qn(),g=i+22,C=d.firstCreatePass?ad(d,g,1,s,null):d.data[g],v=l[g]=function im(i,s){return i.createText(s)}(l[11],s);om(d,l,v,C),os(C,!1)}function tC(i){return Dg("",i,""),tC}function Dg(i,s,l){const d=Tt(),g=au(d,i,s,l);return g!==zn&&jt(d,Te(),g),Dg}function nC(i,s,l,d,g){const C=Tt(),v=lu(C,i,s,l,d,g);return v!==zn&&jt(C,Te(),v),nC}const uu=void 0;var H_=["en",[["a","p"],["AM","PM"],uu],[["AM","PM"],uu,uu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],uu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],uu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",uu,"{1} 'at' {0}",uu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function V_(i){const l=Math.floor(Math.abs(i)),d=i.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let du={};function Ng(i){const s=function kg(i){return i.toLowerCase().replace(/_/g,"-")}(i);let l=vd(s);if(l)return l;const d=s.split("-")[0];if(l=vd(d),l)return l;if("en"===d)return H_;throw new Le(701,!1)}function Fg(i){return Ng(i)[En.PluralCase]}function vd(i){return i in du||(du[i]=Ct.ng&&Ct.ng.common&&Ct.ng.common.locales&&Ct.ng.common.locales[i]),du[i]}var En=(()=>((En=En||{})[En.LocaleId=0]="LocaleId",En[En.DayPeriodsFormat=1]="DayPeriodsFormat",En[En.DayPeriodsStandalone=2]="DayPeriodsStandalone",En[En.DaysFormat=3]="DaysFormat",En[En.DaysStandalone=4]="DaysStandalone",En[En.MonthsFormat=5]="MonthsFormat",En[En.MonthsStandalone=6]="MonthsStandalone",En[En.Eras=7]="Eras",En[En.FirstDayOfWeek=8]="FirstDayOfWeek",En[En.WeekendRange=9]="WeekendRange",En[En.DateFormat=10]="DateFormat",En[En.TimeFormat=11]="TimeFormat",En[En.DateTimeFormat=12]="DateTimeFormat",En[En.NumberSymbols=13]="NumberSymbols",En[En.NumberFormats=14]="NumberFormats",En[En.CurrencyCode=15]="CurrencyCode",En[En.CurrencySymbol=16]="CurrencySymbol",En[En.CurrencyName=17]="CurrencyName",En[En.Currencies=18]="Currencies",En[En.Directionality=19]="Directionality",En[En.PluralCase=20]="PluralCase",En[En.ExtraData=21]="ExtraData",En))();const hu="en-US";let uC=hu;function Xg(i,s,l,d,g){if(i=he(i),Array.isArray(i))for(let C=0;C<i.length;C++)Xg(i[C],s,l,d,g);else{const C=qn(),v=Tt();let S=Qu(i)?i:he(i.provide),O=zs(i);const H=Di(),re=1048575&H.providerIndexes,ge=H.directiveStart,Re=H.providerIndexes>>20;if(Qu(i)||!i.multi){const Ke=new bo(O,g,od),vt=wC(S,s,g?re:re+Re,ge);-1===vt?(G(N(H,v),C,S),Md(C,i,s.length),s.push(S),H.directiveStart++,H.directiveEnd++,g&&(H.providerIndexes+=1048576),l.push(Ke),v.push(Ke)):(l[vt]=Ke,v[vt]=Ke)}else{const Ke=wC(S,s,re+Re,ge),vt=wC(S,s,re,re+Re),Ut=Ke>=0&&l[Ke],Yt=vt>=0&&l[vt];if(g&&!Yt||!g&&!Ut){G(N(H,v),C,S);const gn=function tv(i,s,l,d,g){const C=new bo(i,l,od);return C.multi=[],C.index=s,C.componentProviders=0,af(C,g,d&&!l),C}(g?$b:lf,l.length,g,d,O);!g&&Yt&&(l[vt].providerFactory=gn),Md(C,i,s.length,0),s.push(S),H.directiveStart++,H.directiveEnd++,g&&(H.providerIndexes+=1048576),l.push(gn),v.push(gn)}else Md(C,i,Ke>-1?Ke:vt,af(l[g?vt:Ke],O,!g&&d));!g&&d&&Yt&&l[vt].componentProviders++}}}function Md(i,s,l,d){const g=Qu(s),C=function eM(i){return!!i.useClass}(s);if(g||C){const O=(C?he(s.useClass):s).prototype.ngOnDestroy;if(O){const H=i.destroyHooks||(i.destroyHooks=[]);if(!g&&s.multi){const re=H.indexOf(l);-1===re?H.push(l,[d,O]):H[re+1].push(d,O)}else H.push(l,O)}}}function af(i,s,l){return l&&i.componentProviders++,i.multi.push(s)-1}function wC(i,s,l,d){for(let g=l;g<d;g++)if(s[g]===i)return g;return-1}function lf(i,s,l,d){return ep(this.multi,[])}function $b(i,s,l,d){const g=this.multi;let C;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=Un(l,l[1],this.providerFactory.index,d);C=S.slice(0,v),ep(g,C);for(let O=v;O<S.length;O++)C.push(S[O])}else C=[],ep(g,C);return C}function ep(i,s){for(let l=0;l<i.length;l++)s.push((0,i[l])());return s}function Sd(i,s=[]){return l=>{l.providersResolver=(d,g)=>function Qg(i,s,l){const d=qn();if(d.firstCreatePass){const g=gr(i);Xg(l,d.data,d.blueprint,g,!0),Xg(s,d.data,d.blueprint,g,!1)}}(d,g?g(i):i,s)}}class vc{}class nv{}function El(i,s){return new MC(i,s??null)}class MC extends vc{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nm(this);const d=qi(s);this._bootstrapComponents=Eo(d.bootstrap),this._r3Injector=nu(s,l,[{provide:vc,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],ae(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Td extends nv{constructor(s){super(),this.moduleType=s}create(s){return new MC(this.moduleType,s)}}class Yb extends vc{constructor(s,l,d){super(),this.componentFactoryResolver=new Nm(this),this.instance=null;const g=new as([...s,{provide:vc,useValue:this},{provide:Ch,useValue:this.componentFactoryResolver}],l||Xu(),d,new Set(["environment"]));this.injector=g,g.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function SC(i,s,l=null){return new Yb(i,s,l).injector}let cf=(()=>{class i{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Ny(0,l.type),g=d.length>0?SC([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,g)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=un({token:i,providedIn:"environment",factory:()=>new i(Ui(To))}),i})();function Ed(i){i.getStandaloneInjector=s=>s.get(cf).getOrCreateStandaloneInjector(i)}function sv(i,s,l){const d=Bi()+i,g=Tt();return g[d]===zn?ka(g,d,l?s.call(l):s()):hd(g,d)}function ov(i,s,l,d){return tx(Tt(),Bi(),i,s,l,d)}function av(i,s,l,d,g){return function Pd(i,s,l,d,g,C,v){const S=s+l;return Cc(i,S,g,C)?ka(i,S+2,v?d.call(v,g,C):d(g,C)):hf(i,S+2)}(Tt(),Bi(),i,s,l,d,g)}function lo(i,s,l,d,g,C){return function cv(i,s,l,d,g,C,v,S){const O=s+l;return function kh(i,s,l,d,g){const C=Cc(i,s,l,d);return us(i,s+2,g)||C}(i,O,g,C,v)?ka(i,O+3,S?d.call(S,g,C,v):d(g,C,v)):hf(i,O+3)}(Tt(),Bi(),i,s,l,d,g,C)}function yc(i,s,l,d,g,C,v){return function PC(i,s,l,d,g,C,v,S,O){const H=s+l;return ao(i,H,g,C,v,S)?ka(i,H+4,O?d.call(O,g,C,v,S):d(g,C,v,S)):hf(i,H+4)}(Tt(),Bi(),i,s,l,d,g,C,v)}function rp(i,s,l,d,g,C,v,S){const O=Bi()+i,H=Tt(),re=ao(H,O,l,d,g,C);return us(H,O+4,v)||re?ka(H,O+5,S?s.call(S,l,d,g,C,v):s(l,d,g,C,v)):hd(H,O+5)}function hf(i,s){const l=i[s];return l===zn?void 0:l}function tx(i,s,l,d,g,C){const v=s+l;return us(i,v,g)?ka(i,v+1,C?d.call(C,g):d(g)):hf(i,v+1)}function na(i,s){const l=qn();let d;const g=i+22;l.firstCreatePass?(d=function Od(i,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(i===d.name)return d}}(s,l.pipeRegistry),l.data[g]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(g,d.onDestroy)):d=l.data[g];const C=d.factory||(d.factory=ss(d.type)),v=mi(od);try{const S=al(!1),O=C();return al(S),function ob(i,s,l,d){l>=i.data.length&&(i.data[l]=null,i.blueprint[l]=null),s[l]=d}(l,Tt(),g,O),O}finally{mi(v)}}function Ld(i,s,l){const d=i+22,g=Tt(),C=_o(g,d);return function Pl(i,s){return i[1].data[s].pure}(g,d)?tx(g,Bi(),s,C.transform,l,C):C.transform(l)}function OC(i){return s=>{setTimeout(i,void 0,s)}}const Ss=class rx extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let g=s,C=l||(()=>null),v=d;if(s&&"object"==typeof s){const O=s;g=O.next?.bind(O),C=O.error?.bind(O),v=O.complete?.bind(O)}this.__isAsync&&(C=OC(C),g&&(g=OC(g)),v&&(v=OC(v)));const S=super.subscribe({next:g,error:C,complete:v});return s instanceof $.w0&&s.add(S),S}};function dv(){return this._results[su()]()}class LC{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=su(),d=LC.prototype;d[l]||(d[l]=dv)}get changes(){return this._changes||(this._changes=new Ss)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const g=xs(s);(this._changesDetected=!function dl(i,s,l){if(i.length!==s.length)return!1;for(let d=0;d<i.length;d++){let g=i[d],C=s[d];if(l&&(g=l(g),C=l(C)),C!==g)return!1}return!0}(d._results,g,l))&&(d._results=g,d.length=g.length,d.last=g[this.length-1],d.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ol=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ha,i})();const Ll=Ol,sx=class extends Ll{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tViews,g=pg(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);g[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(g[19]=v.createEmbeddedView(d)),Tm(d,g,s),new Rh(g)}};function Ha(){return RC(Di(),Tt())}function RC(i,s){return 4&i.type?new sx(s,i,ed(i,s)):null}let NC=(()=>{class i{}return i.__NG_ELEMENT_ID__=sp,i})();function sp(){return hv(Di(),Tt())}const YM=NC,ox=class extends YM{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){const s=T(this._hostTNode,this._hostLView);if(Vu(s)){const l=xo(s,this._hostLView),d=ya(s);return new fi(l[1].data[d+8],l)}return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=gf(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,d){let g,C;"number"==typeof d?g=d:null!=d&&(g=d.index,C=d.injector);const v=s.createEmbeddedView(l||{},C);return this.insert(v,g),v}createComponent(s,l,d,g,C){const v=s&&!function wo(i){return"function"==typeof i}(s);let S;if(v)S=l;else{const ge=l||{};S=ge.index,d=ge.injector,g=ge.projectableNodes,C=ge.environmentInjector||ge.ngModuleRef}const O=v?s:new Fa(ti(s)),H=d||this.parentInjector;if(!C&&null==O.ngModule){const Re=(v?H:this.parentInjector).get(To,null);Re&&(C=Re)}const re=O.create(H,g,void 0,C);return this.insert(re.hostView,S),re}insert(s,l){const d=s._lView,g=d[1];if(function $l(i){return sr(i[3])}(d)){const re=this.indexOf(s);if(-1!==re)this.detach(re);else{const ge=d[3],Re=new ox(ge,ge[6],ge[3]);Re.detach(Re.indexOf(s))}}const C=this._adjustIndex(l),v=this._lContainer;!function Ko(i,s,l,d){const g=10+d,C=l.length;d>0&&(l[g-1][4]=s),d<C-10?(s[4]=l[g],Go(l,10+d,s)):(l.push(s),s[4]=null),s[3]=l;const v=s[17];null!==v&&l!==v&&function yl(i,s){const l=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===l?i[9]=[s]:l.push(s)}(v,s);const S=s[19];null!==S&&S.insertView(i),s[2]|=64}(g,d,v,C);const S=hn(C,v),O=d[11],H=Qc(O,v[7]);return null!==H&&function Xy(i,s,l,d,g,C){d[0]=g,d[6]=s,As(i,d,l,1,g,C)}(g,v[6],O,d,H,S),s.attachToViewContainerRef(),Go(Nd(v),C,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=gf(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=Jo(this._lContainer,l);d&&(Wo(Nd(this._lContainer),l),Jc(d[1],d))}detach(s){const l=this._adjustIndex(s,-1),d=Jo(this._lContainer,l);return d&&null!=Wo(Nd(this._lContainer),l)?new Rh(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function gf(i){return i[8]}function Nd(i){return i[8]||(i[8]=[])}function hv(i,s){let l;const d=s[i.index];if(sr(d))l=d;else{let g;if(8&i.type)g=Wi(d);else{const C=s[11];g=C.createComment("");const v=Br(i,s);cs(C,Qc(C,v),g,function Er(i,s){return i.nextSibling(s)}(C,v),!1)}s[i.index]=l=W0(d,s,g,i),Lm(s,l)}return new ox(l,i,s)}class pf{constructor(s){this.queryList=s,this.matches=null}clone(){return new pf(this.queryList)}setDirty(){this.queryList.setDirty()}}class FC{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,g=[];for(let C=0;C<d;C++){const v=l.getByIndex(C);g.push(this.queries[v.indexInDeclarationView].clone())}return new FC(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==_v(s,l).matches&&this.queries[l].setDirty()}}class kC{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class op{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const g=null!==l?l.length:0,C=this.getByIndex(d).embeddedTView(s,g);C&&(C.indexInDeclarationView=d,null!==l?l.push(C):l=[C])}return null!==l?new op(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Cu{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Cu(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let g=0;g<d.length;g++){const C=d[g];this.matchTNodeWithReadOption(s,l,BC(l,C)),this.matchTNodeWithReadOption(s,l,yi(l,s,C,!1,!1))}else d===Ol?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,yi(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const g=this.metadata.read;if(null!==g)if(g===Wc||g===NC||g===Ol&&4&l.type)this.addMatch(l.index,-2);else{const C=yi(l,s,g,!1,!1);null!==C&&this.addMatch(l.index,C)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function BC(i,s){const l=i.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function co(i,s,l,d){return-1===l?function lx(i,s){return 11&i.type?ed(i,s):4&i.type?RC(i,s):null}(s,i):-2===l?function cx(i,s,l){return l===Wc?ed(s,i):l===Ol?RC(s,i):l===NC?hv(s,i):void 0}(i,s,d):Un(i,i[1],l,s)}function Fd(i,s,l,d){const g=s[19].queries[d];if(null===g.matches){const C=i.data,v=l.matches,S=[];for(let O=0;O<v.length;O+=2){const H=v[O];S.push(H<0?null:co(s,C[H],v[O+1],l.metadata.read))}g.matches=S}return g.matches}function kd(i,s,l,d){const g=i.queries.getByIndex(l),C=g.matches;if(null!==C){const v=Fd(i,s,g,l);for(let S=0;S<C.length;S+=2){const O=C[S];if(O>0)d.push(v[S/2]);else{const H=C[S+1],re=s[-O];for(let ge=10;ge<re.length;ge++){const Re=re[ge];Re[17]===Re[3]&&kd(Re[1],Re,H,d)}if(null!==re[9]){const ge=re[9];for(let Re=0;Re<ge.length;Re++){const Ke=ge[Re];kd(Ke[1],Ke,H,d)}}}}}return d}function pv(i){const s=Tt(),l=qn(),d=Kl();Aa(d+1);const g=_v(l,d);if(i.dirty&&function jl(i){return 4==(4&i[2])}(s)===(2==(2&g.metadata.flags))){if(null===g.matches)i.reset([]);else{const C=g.crossesNgTemplate?kd(l,s,d,[]):Fd(l,s,g,d);i.reset(C,XA),i.notifyOnChanges()}return!0}return!1}function mv(i,s,l){const d=qn();d.firstCreatePass&&(Iv(d,new kC(i,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),Av(d,Tt(),s)}function Cv(i,s,l,d){const g=qn();if(g.firstCreatePass){const C=Di();Iv(g,new kC(s,l,d),C.index),function qM(i,s){const l=i.contentQueries||(i.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(i.queries.length-1,s)}(g,i),2==(2&l)&&(g.staticContentQueries=!0)}Av(g,Tt(),l)}function ap(){return function Rl(i,s){return i[19].queries[s].queryList}(Tt(),Kl())}function Av(i,s,l){const d=new LC(4==(4&l));PI(i,s,d,d.destroy),null===s[19]&&(s[19]=new FC),s[19].queries.push(new pf(d))}function Iv(i,s,l){null===i.queries&&(i.queries=new op),i.queries.track(new Cu(s,l))}function _v(i,s){return i.queries.getByIndex(s)}function UC(i,s){return RC(i,s)}function vu(...i){}const Dx=new wi("Application Initializer");let Cf=(()=>{class i{constructor(l){this.appInits=l,this.resolve=vu,this.reject=vu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,g)=>{this.resolve=d,this.reject=g})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const C=this.appInits[g]();if(Wm(C))l.push(C);else if(i_(C)){const v=new Promise((S,O)=>{C.subscribe({complete:S,error:O})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(g=>{this.reject(g)}),0===l.length&&d(),this.initialized=!0}}return i.\u0275fac=function(l){return new(l||i)(Ui(Dx,8))},i.\u0275prov=un({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Px=new wi("AppId",{providedIn:"root",factory:function Pv(){return`${up()}${up()}${up()}`}});function up(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lx=new wi("Platform Initializer"),tS=new wi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rx=new wi("appBootstrapListener"),dp=new wi("AnimationModuleType");let Ov=(()=>{class i{log(l){console.log(l)}warn(l){console.warn(l)}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const yu=new wi("LocaleId",{providedIn:"root",factory:()=>SA(yu,sn.Optional|sn.SkipSelf)||function nS(){return typeof $localize<"u"&&$localize.locale||hu}()}),yr=new wi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rS{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let sS=(()=>{class i{compileModuleSync(l){return new Td(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),C=Eo(qi(l).declarations).reduce((v,S)=>{const O=ti(S);return O&&v.push(new Fa(O)),v},[]);return new rS(d,C)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fl=(()=>Promise.resolve(0))();function ZC(i){typeof Zone>"u"?Fl.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Oo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ss(!1),this.onMicrotaskEmpty=new Ss(!1),this.onStable=new Ss(!1),this.onError=new Ss(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const g=this;if(g._nesting=0,g._outer=g._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const C=Zone.AsyncStackTaggingZoneSpec;g._inner=g._inner.fork(new C("Angular"))}Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!d&&l,g.shouldCoalesceRunChangeDetection=d,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Bx(){let i=Ct.requestAnimationFrame,s=Ct.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function cS(i){const s=()=>{!function lS(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ct,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Rv(i),i.isCheckStableRunning=!0,Lv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Rv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,g,C,v,S)=>{try{return Ux(i),l.invokeTask(g,C,v,S)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===C.type||i.shouldCoalesceRunChangeDetection)&&s(),Vx(i)}},onInvoke:(l,d,g,C,v,S,O)=>{try{return Ux(i),l.invoke(g,C,v,S,O)}finally{i.shouldCoalesceRunChangeDetection&&s(),Vx(i)}},onHasTask:(l,d,g,C)=>{l.hasTask(g,C),d===g&&("microTask"==C.change?(i._hasPendingMicrotasks=C.microTask,Rv(i),Lv(i)):"macroTask"==C.change&&(i.hasPendingMacrotasks=C.macroTask))},onHandleError:(l,d,g,C)=>(l.handleError(g,C),i.runOutsideAngular(()=>i.onError.emit(C)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oo.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Oo.isInAngularZone())throw new Le(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,g){const C=this._inner,v=C.scheduleEventTask("NgZoneEvent: "+g,s,aS,vu,vu);try{return C.runTask(v,l,d)}finally{C.cancelTask(v)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const aS={};function Lv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Rv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ux(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Vx(i){i._nesting--,Lv(i)}class uS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ss,this.onMicrotaskEmpty=new Ss,this.onStable=new Ss,this.onError=new Ss}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,g){return s.apply(l,d)}}const Hx=new wi(""),Nv=new wi("");let YC,zx=(()=>{class i{constructor(l,d,g){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,YC||(function Gx(i){YC=i}(g),g.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oo.assertNotInAngularZone(),ZC(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ZC(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,g){let C=-1;d&&d>0&&(C=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==C),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:C,updateCb:g})}whenStable(l,d,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,g){return[]}}return i.\u0275fac=function(l){return new(l||i)(Ui(Oo),Ui(ai),Ui(Nv))},i.\u0275prov=un({token:i,factory:i.\u0275fac}),i})(),ai=(()=>{class i{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return YC?.findTestabilityInTree(this,l,d)??null}}return i.\u0275fac=function(l){return new(l||i)},i.\u0275prov=un({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),xc=null;const Fv=new wi("AllowMultipleToken"),qC=new wi("PlatformDestroyListeners");class $x{constructor(s,l){this.name=s,this.token=l}}function Hd(i,s,l=[]){const d=`Platform: ${s}`,g=new wi(d);return(C=[])=>{let v=KC();if(!v||v.injector.get(Fv,!1)){const S=[...l,...C,{provide:g,useValue:!0}];i?i(S):function Zx(i){if(xc&&!xc.get(Fv,!1))throw new Le(400,!1);xc=i;const s=i.get(gp);(function kv(i){const s=i.get(Lx,null);s&&s.forEach(l=>l())})(i)}(function Uv(i=[],s){return iu.create({name:s,providers:[{provide:KA,useValue:"platform"},{provide:qC,useValue:new Set([()=>xc=null])},...i]})}(S,d))}return function Bv(i){const s=KC();if(!s)throw new Le(401,!1);return s}()}}function KC(){return xc?.get(gp)??null}let gp=(()=>{class i{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const g=function Hv(i,s){let l;return l="noop"===i?new uS:("zone.js"===i?void 0:i)||new Oo(s),l}(d?.ngZone,function Vv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(d)),C=[{provide:Oo,useValue:g}];return g.run(()=>{const v=iu.create({providers:C,parent:this.injector,name:l.moduleType.name}),S=l.create(v),O=S.injector.get(bi,null);if(!O)throw new Le(402,!1);return g.runOutsideAngular(()=>{const H=g.onError.subscribe({next:re=>{O.handleError(re)}});S.onDestroy(()=>{Lo(this._modules,S),H.unsubscribe()})}),function JC(i,s,l){try{const d=l();return Wm(d)?d.catch(g=>{throw s.runOutsideAngular(()=>i.handleError(g)),g}):d}catch(d){throw s.runOutsideAngular(()=>i.handleError(d)),d}}(O,g,()=>{const H=S.injector.get(Cf);return H.runInitializers(),H.donePromise.then(()=>(function dC(i){Ge(i,"Expected localeId to be defined"),"string"==typeof i&&(uC=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(yu,hu)||hu),this._moduleDoBootstrap(S),S))})})}bootstrapModule(l,d=[]){const g=zv({},d);return function Wx(i,s,l){const d=new Td(l);return Promise.resolve(d)}(0,0,l).then(C=>this.bootstrapModuleFactory(C,g))}_moduleDoBootstrap(l){const d=l.injector.get(pp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(g=>d.bootstrap(g));else{if(!l.instance.ngDoBootstrap)throw new Le(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(qC,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(l){return new(l||i)(Ui(iu))},i.\u0275prov=un({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function zv(i,s){return Array.isArray(s)?s.reduce(zv,i):{...i,...s}}let pp=(()=>{class i{constructor(l,d,g){this._zone=l,this._injector=d,this._exceptionHandler=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new f.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),v=new f.y(S=>{let O;this._zone.runOutsideAngular(()=>{O=this._zone.onStable.subscribe(()=>{Oo.assertNotInAngularZone(),ZC(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Oo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{O.unsubscribe(),H.unsubscribe()}});this.isStable=(0,ye.T)(C,v.pipe((0,K.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const g=l instanceof JA;if(!this._injector.get(Cf).done)throw!g&&ki(l),new Le(405,false);let v;v=g?l:this._injector.get(Ch).resolveComponentFactory(l),this.componentTypes.push(v.componentType);const S=function jx(i){return i.isBoundToModule}(v)?void 0:this._injector.get(vc),H=v.create(iu.NULL,[],d||v.selector,S),re=H.location.nativeElement,ge=H.injector.get(Hx,null);return ge?.registerApplication(re),H.onDestroy(()=>{this.detachView(H.hostView),Lo(this.components,H),ge?.unregisterApplication(re)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Lo(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Rx,[]).concat(this._bootstrapListeners).forEach(g=>g(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Lo(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Le(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(l){return new(l||i)(Ui(Oo),Ui(To),Ui(bi))},i.\u0275prov=un({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Lo(i,s){const l=i.indexOf(s);l>-1&&i.splice(l,1)}let QC=!0;function wc(){QC=!1}let Af=(()=>{class i{}return i.__NG_ELEMENT_ID__=bu,i})();function bu(i){return function Kx(i,s,l){if(Ro(i)&&!l){const d=vi(i.index,s);return new Rh(d,d)}return 47&i.type?new Rh(s[16],s):null}(Di(),Tt(),16==(16&i))}class Kv{constructor(){}supports(s){return Nh(s)}create(s){return new IS(s)}}const tA=(i,s)=>s;class IS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||tA}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,g=0,C=null;for(;l||d;){const v=!d||l&&l.currentIndex<Qv(d,g,C)?l:d,S=Qv(v,g,C),O=v.currentIndex;if(v===d)g--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)g++;else{C||(C=[]);const H=S-g,re=O-g;if(H!=re){for(let Re=0;Re<H;Re++){const Ke=Re<C.length?C[Re]:C[Re]=0,vt=Ke+Re;re<=vt&&vt<H&&(C[Re]=Ke+1)}C[v.previousIndex]=re-H}}S!==O&&s(v,S,O)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Nh(s))throw new Le(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,C,v,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)C=s[S],v=this._trackByFn(S,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,S)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,S),d=!0),l=l._next}else g=0,function nb(i,s){if(Array.isArray(i))for(let l=0;l<i.length;l++)s(i[l]);else{const l=i[su()]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,S=>{v=this._trackByFn(g,S),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,S,v,g)),Object.is(l.item,S)||this._addIdentityChange(l,S)):(l=this._mismatch(l,S,v,g),d=!0),l=l._next,g++}),this.length=g;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,g){let C;return null===s?C=this._itTail:(C=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,C,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,g))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,C,g)):s=this._addAfter(new nw(l,d),C,g),s}_verifyReinsertion(s,l,d,g){let C=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==C?s=this._reinsertAfter(C,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,C=s._nextRemoved;return null===g?this._removalsHead=C:g._nextRemoved=C,null===C?this._removalsTail=g:C._prevRemoved=g,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const g=null===l?this._itHead:l._next;return s._next=g,s._prev=l,null===g?this._itTail=s:g._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Mu),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mu),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nw{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jv{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class Mu{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new Jv,this.map.set(l,d)),d.add(s)}get(s,l){const g=this.map.get(s);return g?g.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qv(i,s,l){const d=i.previousIndex;if(null===d)return d;let g=0;return l&&d<l.length&&(g=l[d]),d+s+g}class Xv{constructor(){}supports(s){return s instanceof Map||Fh(s)}create(){return new iw}}class iw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||Fh(s)))throw new Le(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,g)=>{if(l&&l.key===g)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const C=this._getOrCreateRecordForKey(g,d);l=this._insertBeforeOrAppend(l,C)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,l);const C=g._prev,v=g._next;return C&&(C._next=v),v&&(v._prev=C),g._next=null,g._prev=null,g}const d=new rw(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class rw{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ey(){return new nA([new Kv])}let nA=(()=>{class i{constructor(l){this.factories=l}static create(l,d){if(null!=d){const g=d.factories.slice();l=l.concat(g)}return new i(l)}static extend(l){return{provide:i,useFactory:d=>i.create(l,d||ey()),deps:[[i,new fl,new tc]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(null!=d)return d;throw new Le(901,!1)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:ey}),i})();function ty(){return new iA([new Xv])}let iA=(()=>{class i{constructor(l){this.factories=l}static create(l,d){if(d){const g=d.factories.slice();l=l.concat(g)}return new i(l)}static extend(l){return{provide:i,useFactory:d=>i.create(l,d||ty()),deps:[[i,new fl,new tc]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Le(901,!1)}}return i.\u0275prov=un({token:i,providedIn:"root",factory:ty}),i})();const aw=Hd(null,"core",[]);let lw=(()=>{class i{constructor(l){}}return i.\u0275fac=function(l){return new(l||i)(Ui(pp))},i.\u0275mod=ns({type:i}),i.\u0275inj=Vn({}),i})();function cw(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},1481:(Vt,Be,k)=>{"use strict";k.d(Be,{Dx:()=>pt,H7:()=>zi,b2:()=>wr,h_:()=>Zr,q6:()=>es,se:()=>st});var u=k(6895),$=k(4650);class f extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ye extends f{static makeCurrent(){(0,u.HT)(new ye)}onAndCancel(J,V,B){return J.addEventListener(V,B,!1),()=>{J.removeEventListener(V,B,!1)}}dispatchEvent(J,V){J.dispatchEvent(V)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,V){return(V=V||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,V){return"window"===V?window:"document"===V?J:"body"===V?J.body:null}getBaseHref(J){const V=function q(){return K=K||document.querySelector("base"),K?K.getAttribute("href"):null}();return null==V?null:function ae(xe){Z=Z||document.createElement("a"),Z.setAttribute("href",xe);const J=Z.pathname;return"/"===J.charAt(0)?J:`/${J}`}(V)}resetBaseElement(){K=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,u.Mx)(document.cookie,J)}}let Z,K=null;const X=new $.OlP("TRANSITION_ID"),ue=[{provide:$.ip1,useFactory:function ne(xe,J,V){return()=>{V.get($.CZH).donePromise.then(()=>{const B=(0,u.q)(),le=J.querySelectorAll(`style[ng-transition="${xe}"]`);for(let Ue=0;Ue<le.length;Ue++)B.remove(le[Ue])})}},deps:[X,u.K0,$.zs3],multi:!0}];let Ne=(()=>{class xe{build(){return new XMLHttpRequest}}return xe.\u0275fac=function(V){return new(V||xe)},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const Fe=new $.OlP("EventManagerPlugins");let Le=(()=>{class xe{constructor(V,B){this._zone=B,this._eventNameToPlugin=new Map,V.forEach(le=>le.manager=this),this._plugins=V.slice().reverse()}addEventListener(V,B,le){return this._findPluginFor(B).addEventListener(V,B,le)}addGlobalEventListener(V,B,le){return this._findPluginFor(B).addGlobalEventListener(V,B,le)}getZone(){return this._zone}_findPluginFor(V){const B=this._eventNameToPlugin.get(V);if(B)return B;const le=this._plugins;for(let Ue=0;Ue<le.length;Ue++){const nt=le[Ue];if(nt.supports(V))return this._eventNameToPlugin.set(V,nt),nt}throw new Error(`No event manager plugin found for event ${V}`)}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(Fe),$.LFG($.R0b))},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class We{constructor(J){this._doc=J}addGlobalEventListener(J,V,B){const le=(0,u.q)().getGlobalEventTarget(this._doc,J);if(!le)throw new Error(`Unsupported event target ${le} for event ${V}`);return this.addEventListener(le,V,B)}}let He=(()=>{class xe{constructor(){this._stylesSet=new Set}addStyles(V){const B=new Set;V.forEach(le=>{this._stylesSet.has(le)||(this._stylesSet.add(le),B.add(le))}),this.onStylesAdded(B)}onStylesAdded(V){}getAllStyles(){return Array.from(this._stylesSet)}}return xe.\u0275fac=function(V){return new(V||xe)},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})(),Me=(()=>{class xe extends He{constructor(V){super(),this._doc=V,this._hostNodes=new Map,this._hostNodes.set(V.head,[])}_addStylesToHost(V,B,le){V.forEach(Ue=>{const nt=this._doc.createElement("style");nt.textContent=Ue,le.push(B.appendChild(nt))})}addHost(V){const B=[];this._addStylesToHost(this._stylesSet,V,B),this._hostNodes.set(V,B)}removeHost(V){const B=this._hostNodes.get(V);B&&B.forEach(mt),this._hostNodes.delete(V)}onStylesAdded(V){this._hostNodes.forEach((B,le)=>{this._addStylesToHost(V,le,B)})}ngOnDestroy(){this._hostNodes.forEach(V=>V.forEach(mt))}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(u.K0))},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})();function mt(xe){(0,u.q)().remove(xe)}const nn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qe=/%COMP%/g;function ze(xe,J,V){for(let B=0;B<J.length;B++){let le=J[B];Array.isArray(le)?ze(xe,le,V):(le=le.replace(qe,xe),V.push(le))}return V}function $e(xe){return J=>{if("__ngUnwrap__"===J)return xe;!1===xe(J)&&(J.preventDefault(),J.returnValue=!1)}}let st=(()=>{class xe{constructor(V,B,le){this.eventManager=V,this.sharedStylesHost=B,this.appId=le,this.rendererByCompId=new Map,this.defaultRenderer=new bt(V)}createRenderer(V,B){if(!V||!B)return this.defaultRenderer;switch(B.encapsulation){case $.ifc.Emulated:{let le=this.rendererByCompId.get(B.id);return le||(le=new Ge(this.eventManager,this.sharedStylesHost,B,this.appId),this.rendererByCompId.set(B.id,le)),le.applyToHost(V),le}case 1:case $.ifc.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,V,B);default:if(!this.rendererByCompId.has(B.id)){const le=ze(B.id,B.styles,[]);this.sharedStylesHost.addStyles(le),this.rendererByCompId.set(B.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(Le),$.LFG(Me),$.LFG($.AFp))},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})();class bt{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,V){return V?document.createElementNS(nn[V]||V,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,V){(Se(J)?J.content:J).appendChild(V)}insertBefore(J,V,B){J&&(Se(J)?J.content:J).insertBefore(V,B)}removeChild(J,V){J&&J.removeChild(V)}selectRootElement(J,V){let B="string"==typeof J?document.querySelector(J):J;if(!B)throw new Error(`The selector "${J}" did not match any elements`);return V||(B.textContent=""),B}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,V,B,le){if(le){V=le+":"+V;const Ue=nn[le];Ue?J.setAttributeNS(Ue,V,B):J.setAttribute(V,B)}else J.setAttribute(V,B)}removeAttribute(J,V,B){if(B){const le=nn[B];le?J.removeAttributeNS(le,V):J.removeAttribute(`${B}:${V}`)}else J.removeAttribute(V)}addClass(J,V){J.classList.add(V)}removeClass(J,V){J.classList.remove(V)}setStyle(J,V,B,le){le&($.JOm.DashCase|$.JOm.Important)?J.style.setProperty(V,B,le&$.JOm.Important?"important":""):J.style[V]=B}removeStyle(J,V,B){B&$.JOm.DashCase?J.style.removeProperty(V):J.style[V]=""}setProperty(J,V,B){J[V]=B}setValue(J,V){J.nodeValue=V}listen(J,V,B){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,V,$e(B)):this.eventManager.addEventListener(J,V,$e(B))}}function Se(xe){return"TEMPLATE"===xe.tagName&&void 0!==xe.content}class Ge extends bt{constructor(J,V,B,le){super(J),this.component=B;const Ue=ze(le+"-"+B.id,B.styles,[]);V.addStyles(Ue),this.contentAttr=function Xe(xe){return"_ngcontent-%COMP%".replace(qe,xe)}(le+"-"+B.id),this.hostAttr=function be(xe){return"_nghost-%COMP%".replace(qe,xe)}(le+"-"+B.id)}applyToHost(J){super.setAttribute(J,this.hostAttr,"")}createElement(J,V){const B=super.createElement(J,V);return super.setAttribute(B,this.contentAttr,""),B}}class ft extends bt{constructor(J,V,B,le){super(J),this.sharedStylesHost=V,this.hostEl=B,this.shadowRoot=B.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Ue=ze(le.id,le.styles,[]);for(let nt=0;nt<Ue.length;nt++){const Ft=document.createElement("style");Ft.textContent=Ue[nt],this.shadowRoot.appendChild(Ft)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(J,V){return super.appendChild(this.nodeOrShadowRoot(J),V)}insertBefore(J,V,B){return super.insertBefore(this.nodeOrShadowRoot(J),V,B)}removeChild(J,V){return super.removeChild(this.nodeOrShadowRoot(J),V)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}}let Jt=(()=>{class xe extends We{constructor(V){super(V)}supports(V){return!0}addEventListener(V,B,le){return V.addEventListener(B,le,!1),()=>this.removeEventListener(V,B,le)}removeEventListener(V,B,le){return V.removeEventListener(B,le)}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(u.K0))},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const rn=["alt","control","meta","shift"],Dn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},un={alt:xe=>xe.altKey,control:xe=>xe.ctrlKey,meta:xe=>xe.metaKey,shift:xe=>xe.shiftKey};let Gn=(()=>{class xe extends We{constructor(V){super(V)}supports(V){return null!=xe.parseEventName(V)}addEventListener(V,B,le){const Ue=xe.parseEventName(B),nt=xe.eventCallback(Ue.fullKey,le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(V,Ue.domEventName,nt))}static parseEventName(V){const B=V.toLowerCase().split("."),le=B.shift();if(0===B.length||"keydown"!==le&&"keyup"!==le)return null;const Ue=xe._normalizeKey(B.pop());let nt="",Ft=B.indexOf("code");if(Ft>-1&&(B.splice(Ft,1),nt="code."),rn.forEach(xn=>{const zt=B.indexOf(xn);zt>-1&&(B.splice(zt,1),nt+=xn+".")}),nt+=Ue,0!=B.length||0===Ue.length)return null;const Tn={};return Tn.domEventName=le,Tn.fullKey=nt,Tn}static matchEventFullKeyCode(V,B){let le=Dn[V.key]||V.key,Ue="";return B.indexOf("code.")>-1&&(le=V.code,Ue="code."),!(null==le||!le)&&(le=le.toLowerCase()," "===le?le="space":"."===le&&(le="dot"),rn.forEach(nt=>{nt!==le&&(0,un[nt])(V)&&(Ue+=nt+".")}),Ue+=le,Ue===B)}static eventCallback(V,B,le){return Ue=>{xe.matchEventFullKeyCode(Ue,V)&&le.runGuarded(()=>B(Ue))}}static _normalizeKey(V){return"esc"===V?"escape":V}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(u.K0))},xe.\u0275prov=$.Yz7({token:xe,factory:xe.\u0275fac}),xe})();const es=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:u.bD},{provide:$.g9A,useValue:function Ei(){ye.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function _i(){return(0,$.RDi)(document),document},deps:[]}]),$r=new $.OlP(""),sn=[{provide:$.rWj,useClass:class he{addToWindow(J){$.dqk.getAngularTestability=(B,le=!0)=>{const Ue=J.findTestabilityInTree(B,le);if(null==Ue)throw new Error("Could not find testability for element.");return Ue},$.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(B=>{const le=$.dqk.getAllAngularTestabilities();let Ue=le.length,nt=!1;const Ft=function(Tn){nt=nt||Tn,Ue--,0==Ue&&B(nt)};le.forEach(function(Tn){Tn.whenStable(Ft)})})}findTestabilityInTree(J,V,B){return null==V?null:J.getTestability(V)??(B?(0,u.q)().isShadowRoot(V)?this.findTestabilityInTree(J,V.host,!0):this.findTestabilityInTree(J,V.parentElement,!0):null)}},deps:[]},{provide:$.lri,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]}],pi=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function Yi(){return new $.qLn},deps:[]},{provide:Fe,useClass:Jt,multi:!0,deps:[u.K0,$.R0b,$.Lbi]},{provide:Fe,useClass:Gn,multi:!0,deps:[u.K0]},{provide:st,useClass:st,deps:[Le,Me,$.AFp]},{provide:$.FYo,useExisting:st},{provide:He,useExisting:Me},{provide:Me,useClass:Me,deps:[u.K0]},{provide:Le,useClass:Le,deps:[Fe,$.R0b]},{provide:u.JF,useClass:Ne,deps:[]},[]];let wr=(()=>{class xe{constructor(V){}static withServerTransition(V){return{ngModule:xe,providers:[{provide:$.AFp,useValue:V.appId},{provide:X,useExisting:$.AFp},ue]}}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG($r,12))},xe.\u0275mod=$.oAB({type:xe}),xe.\u0275inj=$.cJS({providers:[...pi,...sn],imports:[u.ez,$.hGG]}),xe})(),Zr=(()=>{class xe{constructor(V){this._doc=V,this._dom=(0,u.q)()}addTag(V,B=!1){return V?this._getOrCreateElement(V,B):null}addTags(V,B=!1){return V?V.reduce((le,Ue)=>(Ue&&le.push(this._getOrCreateElement(Ue,B)),le),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const B=this._doc.querySelectorAll(`meta[${V}]`);return B?[].slice.call(B):[]}updateTag(V,B){if(!V)return null;B=B||this._parseSelector(V);const le=this.getTag(B);return le?this._setMetaElementAttributes(V,le):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,B=!1){if(!B){const nt=this._parseSelector(V),Ft=this.getTags(nt).filter(Tn=>this._containsAttributes(V,Tn))[0];if(void 0!==Ft)return Ft}const le=this._dom.createElement("meta");return this._setMetaElementAttributes(V,le),this._doc.getElementsByTagName("head")[0].appendChild(le),le}_setMetaElementAttributes(V,B){return Object.keys(V).forEach(le=>B.setAttribute(this._getMetaKeyMap(le),V[le])),B}_parseSelector(V){const B=V.name?"name":"property";return`${B}="${V[B]}"`}_containsAttributes(V,B){return Object.keys(V).every(le=>B.getAttribute(this._getMetaKeyMap(le))===V[le])}_getMetaKeyMap(V){return ho[V]||V}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(u.K0))},xe.\u0275prov=$.Yz7({token:xe,factory:function(V){let B=null;return B=V?new V:function mi(){return new Zr((0,$.LFG)(u.K0))}(),B},providedIn:"root"}),xe})();const ho={httpEquiv:"http-equiv"};let pt=(()=>{class xe{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(u.K0))},xe.\u0275prov=$.Yz7({token:xe,factory:function(V){let B=null;return B=V?new V:function nr(){return new pt((0,$.LFG)(u.K0))}(),B},providedIn:"root"}),xe})();typeof window<"u"&&window;let zi=(()=>{class xe{}return xe.\u0275fac=function(V){return new(V||xe)},xe.\u0275prov=$.Yz7({token:xe,factory:function(V){let B=null;return B=V?new(V||xe):$.LFG(qi),B},providedIn:"root"}),xe})(),qi=(()=>{class xe extends zi{constructor(V){super(),this._doc=V}sanitize(V,B){if(null==B)return null;switch(V){case $.q3G.NONE:return B;case $.q3G.HTML:return(0,$.qzn)(B,"HTML")?(0,$.z3N)(B):(0,$.EiD)(this._doc,String(B)).toString();case $.q3G.STYLE:return(0,$.qzn)(B,"Style")?(0,$.z3N)(B):B;case $.q3G.SCRIPT:if((0,$.qzn)(B,"Script"))return(0,$.z3N)(B);throw new Error("unsafe value used in a script context");case $.q3G.URL:return(0,$.qzn)(B,"URL")?(0,$.z3N)(B):(0,$.mCW)(String(B));case $.q3G.RESOURCE_URL:if((0,$.qzn)(B,"ResourceURL"))return(0,$.z3N)(B);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${V} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(V){return(0,$.JVY)(V)}bypassSecurityTrustStyle(V){return(0,$.L6k)(V)}bypassSecurityTrustScript(V){return(0,$.eBb)(V)}bypassSecurityTrustUrl(V){return(0,$.LAX)(V)}bypassSecurityTrustResourceUrl(V){return(0,$.pB0)(V)}}return xe.\u0275fac=function(V){return new(V||xe)($.LFG(u.K0))},xe.\u0275prov=$.Yz7({token:xe,factory:function(V){let B=null;return B=V?new V:function ki(xe){return new qi(xe.get(u.K0))}($.LFG($.zs3)),B},providedIn:"root"}),xe})()},2569:(Vt,Be,k)=>{"use strict";k.d(Be,{gz:()=>Ar,m2:()=>sr,F0:()=>Un,Od:()=>Ql,yS:()=>fi,Bz:()=>Xs,lC:()=>Wi});var u=k(4650),$=k(2076),f=k(9646),ye=k(1135);const q=(0,k(3888).d)(x=>function(){x(this),this.name="EmptyError",this.message="no elements in sequence"});var Z=k(9841),ae=k(7272),X=k(9770),ne=k(9635),ue=k(9751),he=k(576);function Ne(x,w){const y=(0,he.m)(x)?x:()=>x,L=U=>U.error(y());return new ue.y(w?U=>w.schedule(L,0,U):L)}var Fe=k(515),Le=k(4033),We=k(7579),He=k(6895),Me=k(4004),mt=k(3900),nn=k(5698),qe=k(8675),ie=k(9300),je=k(5577),ve=k(4482),_e=k(5403);function Xe(x){return(0,ve.e)((w,y)=>{let L=!1;w.subscribe((0,_e.x)(y,U=>{L=!0,y.next(U)},()=>{L||y.next(x),y.complete()}))})}function be(x=ze){return(0,ve.e)((w,y)=>{let L=!1;w.subscribe((0,_e.x)(y,U=>{L=!0,y.next(U)},()=>L?y.complete():y.error(x())))})}function ze(){return new q}var $e=k(4671);function lt(x,w){const y=arguments.length>=2;return L=>L.pipe(x?(0,ie.h)((U,te)=>x(U,te,L)):$e.y,(0,nn.q)(1),y?Xe(w):be(()=>new q))}var st=k(4351),bt=k(8505),ot=k(8421);function Bt(x){return(0,ve.e)((w,y)=>{let te,L=null,U=!1;L=w.subscribe((0,_e.x)(y,void 0,void 0,Ce=>{te=(0,ot.Xf)(x(Ce,Bt(x)(w))),L?(L.unsubscribe(),L=null,te.subscribe(y)):U=!0})),U&&(L.unsubscribe(),L=null,te.subscribe(y))})}var Se=k(5026);function Ge(x){return x<=0?()=>Fe.E:(0,ve.e)((w,y)=>{let L=[];w.subscribe((0,_e.x)(y,U=>{L.push(U),x<L.length&&L.shift()},()=>{for(const U of L)y.next(U);y.complete()},void 0,()=>{L=null}))})}function ft(x,w){const y=arguments.length>=2;return L=>L.pipe(x?(0,ie.h)((U,te)=>x(U,te,L)):$e.y,Ge(1),y?Xe(w):be(()=>new q))}function Dn(x){return(0,ve.e)((w,y)=>{try{w.subscribe(y)}finally{y.add(x)}})}var un=k(8343),Gn=k(8189),Vn=k(1481);const dn="primary",Ri=Symbol("RouteTitle");class Xn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y[0]:y}return null}getAll(w){if(this.has(w)){const y=this.params[w];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function Rn(x){return new Xn(x)}function Ei(x,w,y){const L=y.path.split("/");if(L.length>x.length||"full"===y.pathMatch&&(w.hasChildren()||L.length<x.length))return null;const U={};for(let te=0;te<L.length;te++){const Ce=L[te],Pe=x[te];if(Ce.startsWith(":"))U[Ce.substring(1)]=Pe;else if(Ce!==Pe.path)return null}return{consumed:x.slice(0,L.length),posParams:U}}function _i(x,w){const y=x?Object.keys(x):void 0,L=w?Object.keys(w):void 0;if(!y||!L||y.length!=L.length)return!1;let U;for(let te=0;te<y.length;te++)if(U=y[te],!Fr(x[U],w[U]))return!1;return!0}function Fr(x,w){if(Array.isArray(x)&&Array.isArray(w)){if(x.length!==w.length)return!1;const y=[...x].sort(),L=[...w].sort();return y.every((U,te)=>L[te]===U)}return x===w}function es(x){return Array.prototype.concat.apply([],x)}function $r(x){return x.length>0?x[x.length-1]:null}function pi(x,w){for(const y in x)x.hasOwnProperty(y)&&w(x[y],y)}function wr(x){return(0,u.CqO)(x)?x:(0,u.QGY)(x)?(0,$.D)(Promise.resolve(x)):(0,f.of)(x)}const ho={exact:function we(x,w,y){if(!ir(x.segments,w.segments)||!An(x.segments,w.segments,y)||x.numberOfChildren!==w.numberOfChildren)return!1;for(const L in w.children)if(!x.children[L]||!we(x.children[L],w.children[L],y))return!1;return!0},subset:Ct},nr={exact:function Oe(x,w){return _i(x,w)},subset:function ct(x,w){return Object.keys(w).length<=Object.keys(x).length&&Object.keys(w).every(y=>Fr(x[y],w[y]))},ignored:()=>!0};function pt(x,w,y){return ho[y.paths](x.root,w.root,y.matrixParams)&&nr[y.queryParams](x.queryParams,w.queryParams)&&!("exact"===y.fragment&&x.fragment!==w.fragment)}function Ct(x,w,y){return Qt(x,w,w.segments,y)}function Qt(x,w,y,L){if(x.segments.length>y.length){const U=x.segments.slice(0,y.length);return!(!ir(U,y)||w.hasChildren()||!An(U,y,L))}if(x.segments.length===y.length){if(!ir(x.segments,y)||!An(x.segments,y,L))return!1;for(const U in w.children)if(!x.children[U]||!Ct(x.children[U],w.children[U],L))return!1;return!0}{const U=y.slice(0,x.segments.length),te=y.slice(x.segments.length);return!!(ir(x.segments,U)&&An(x.segments,U,L)&&x.children[dn])&&Qt(x.children[dn],w,te,L)}}function An(x,w,y){return w.every((L,U)=>nr[y](x[U].parameters,L.parameters))}class kn{constructor(w,y,L){this.root=w,this.queryParams=y,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return kr.serialize(this)}}class xt{constructor(w,y){this.segments=w,this.children=y,this.parent=null,pi(y,(L,U)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fi(this)}}class Ci{constructor(w,y){this.path=w,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=Rn(this.parameters)),this._parameterMap}toString(){return go(this)}}function ir(x,w){return x.length===w.length&&x.every((y,L)=>y.path===w[L].path)}let Bn=(()=>{class x{}return x.\u0275fac=function(y){return new(y||x)},x.\u0275prov=u.Yz7({token:x,factory:function(){return new $n},providedIn:"root"}),x})();class $n{parse(w){const y=new V(w);return new kn(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(w){const y=`/${Ni(w.root,!0)}`,L=function lr(x){const w=Object.keys(x).map(y=>{const L=x[y];return Array.isArray(L)?L.map(U=>`${ts(y)}=${ts(U)}`).join("&"):`${ts(y)}=${ts(L)}`}).filter(y=>!!y);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${y}${L}${"string"==typeof w.fragment?`#${function ns(x){return encodeURI(x)}(w.fragment)}`:""}`}}const kr=new $n;function Fi(x){return x.segments.map(w=>go(w)).join("/")}function Ni(x,w){if(!x.hasChildren())return Fi(x);if(w){const y=x.children[dn]?Ni(x.children[dn],!1):"",L=[];return pi(x.children,(U,te)=>{te!==dn&&L.push(`${te}:${Ni(U,!1)}`)}),L.length>0?`${y}(${L.join("//")})`:y}{const y=function Ln(x,w){let y=[];return pi(x.children,(L,U)=>{U===dn&&(y=y.concat(w(L,U)))}),pi(x.children,(L,U)=>{U!==dn&&(y=y.concat(w(L,U)))}),y}(x,(L,U)=>U===dn?[Ni(x.children[dn],!1)]:[`${U}:${Ni(L,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[dn]?`${Fi(x)}/${y[0]}`:`${Fi(x)}/(${y.join("//")})`}}function ds(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ts(x){return ds(x).replace(/%3B/gi,";")}function Ts(x){return ds(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Es(x){return decodeURIComponent(x)}function fo(x){return Es(x.replace(/\+/g,"%20"))}function go(x){return`${Ts(x.path)}${function ti(x){return Object.keys(x).map(w=>`;${Ts(w)}=${Ts(x[w])}`).join("")}(x.parameters)}`}const zi=/^[^\/()?;=#]+/;function ki(x){const w=x.match(zi);return w?w[0]:""}const qi=/^[^=?&#]+/,xe=/^[^&#]+/;class V{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(w.length>0||Object.keys(y).length>0)&&(L[dn]=new xt(w,y)),L}parseSegment(){const w=ki(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(w),new Ci(Es(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const y=ki(this.remaining);if(!y)return;this.capture(y);let L="";if(this.consumeOptional("=")){const U=ki(this.remaining);U&&(L=U,this.capture(L))}w[Es(y)]=Es(L)}parseQueryParam(w){const y=function Gi(x){const w=x.match(qi);return w?w[0]:""}(this.remaining);if(!y)return;this.capture(y);let L="";if(this.consumeOptional("=")){const Ce=function J(x){const w=x.match(xe);return w?w[0]:""}(this.remaining);Ce&&(L=Ce,this.capture(L))}const U=fo(y),te=fo(L);if(w.hasOwnProperty(U)){let Ce=w[U];Array.isArray(Ce)||(Ce=[Ce],w[U]=Ce),Ce.push(te)}else w[U]=te}parseParens(w){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=ki(this.remaining),U=this.remaining[L.length];if("/"!==U&&")"!==U&&";"!==U)throw new u.vHH(4010,!1);let te;L.indexOf(":")>-1?(te=L.slice(0,L.indexOf(":")),this.capture(te),this.capture(":")):w&&(te=dn);const Ce=this.parseChildren();y[te]=1===Object.keys(Ce).length?Ce[dn]:new xt([],Ce),this.consumeOptional("//")}return y}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new u.vHH(4011,!1)}}function B(x){return x.segments.length>0?new xt([],{[dn]:x}):x}function le(x){const w={};for(const L of Object.keys(x.children)){const te=le(x.children[L]);(te.segments.length>0||te.hasChildren())&&(w[L]=te)}return function Ue(x){if(1===x.numberOfChildren&&x.children[dn]){const w=x.children[dn];return new xt(x.segments.concat(w.segments),w.children)}return x}(new xt(x.segments,w))}function nt(x){return x instanceof kn}function Ki(x,w,y,L,U){if(0===y.length)return Yr(w.root,w.root,w.root,L,U);const te=function qr(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new is(!0,0,x);let w=0,y=!1;const L=x.reduce((U,te,Ce)=>{if("object"==typeof te&&null!=te){if(te.outlets){const Pe={};return pi(te.outlets,(gt,$t)=>{Pe[$t]="string"==typeof gt?gt.split("/"):gt}),[...U,{outlets:Pe}]}if(te.segmentPath)return[...U,te.segmentPath]}return"string"!=typeof te?[...U,te]:0===Ce?(te.split("/").forEach((Pe,gt)=>{0==gt&&"."===Pe||(0==gt&&""===Pe?y=!0:".."===Pe?w++:""!=Pe&&U.push(Pe))}),U):[...U,te]},[]);return new is(y,w,L)}(y);return te.toRoot()?Yr(w.root,w.root,new xt([],{}),L,U):function Ce(gt){const $t=function oa(x,w,y,L){if(x.isAbsolute)return new rr(w.root,!0,0);if(-1===L)return new rr(y,y===w.root,0);return function di(x,w,y){let L=x,U=w,te=y;for(;te>U;){if(te-=U,L=L.parent,!L)throw new u.vHH(4005,!1);U=L.segments.length}return new rr(L,!1,U-te)}(y,L+(br(x.commands[0])?0:1),x.numberOfDoubleDots)}(te,w,x.snapshot?._urlSegment,gt),Wn=$t.processChildren?Mr($t.segmentGroup,$t.index,te.commands):la($t.segmentGroup,$t.index,te.commands);return Yr(w.root,$t.segmentGroup,Wn,L,U)}(x.snapshot?._lastPathIndex)}function br(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function po(x){return"object"==typeof x&&null!=x&&x.outlets}function Yr(x,w,y,L,U){let Ce,te={};L&&pi(L,(gt,$t)=>{te[$t]=Array.isArray(gt)?gt.map(Wn=>`${Wn}`):`${gt}`}),Ce=x===w?y:cr(x,w,y);const Pe=B(le(Ce));return new kn(Pe,te,U)}function cr(x,w,y){const L={};return pi(x.children,(U,te)=>{L[te]=U===w?y:cr(U,w,y)}),new xt(x.segments,L)}class is{constructor(w,y,L){if(this.isAbsolute=w,this.numberOfDoubleDots=y,this.commands=L,w&&L.length>0&&br(L[0]))throw new u.vHH(4003,!1);const U=L.find(po);if(U&&U!==$r(L))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rr{constructor(w,y,L){this.segmentGroup=w,this.processChildren=y,this.index=L}}function la(x,w,y){if(x||(x=new xt([],{})),0===x.segments.length&&x.hasChildren())return Mr(x,w,y);const L=function ca(x,w,y){let L=0,U=w;const te={match:!1,pathIndex:0,commandIndex:0};for(;U<x.segments.length;){if(L>=y.length)return te;const Ce=x.segments[U],Pe=y[L];if(po(Pe))break;const gt=`${Pe}`,$t=L<y.length-1?y[L+1]:null;if(U>0&&void 0===gt)break;if(gt&&$t&&"object"==typeof $t&&void 0===$t.outlets){if(!fr(gt,$t,Ce))return te;L+=2}else{if(!fr(gt,{},Ce))return te;L++}U++}return{match:!0,pathIndex:U,commandIndex:L}}(x,w,y),U=y.slice(L.commandIndex);if(L.match&&L.pathIndex<x.segments.length){const te=new xt(x.segments.slice(0,L.pathIndex),{});return te.children[dn]=new xt(x.segments.slice(L.pathIndex),x.children),Mr(te,0,U)}return L.match&&0===U.length?new xt(x.segments,{}):L.match&&!x.hasChildren()?Ds(x,w,y):L.match?Mr(x,0,U):Ds(x,w,y)}function Mr(x,w,y){if(0===y.length)return new xt(x.segments,{});{const L=function aa(x){return po(x[0])?x[0].outlets:{[dn]:x}}(y),U={};return pi(L,(te,Ce)=>{"string"==typeof te&&(te=[te]),null!==te&&(U[Ce]=la(x.children[Ce],w,te))}),pi(x.children,(te,Ce)=>{void 0===L[Ce]&&(U[Ce]=te)}),new xt(x.segments,U)}}function Ds(x,w,y){const L=x.segments.slice(0,w);let U=0;for(;U<y.length;){const te=y[U];if(po(te)){const gt=mo(te.outlets);return new xt(L,gt)}if(0===U&&br(y[0])){L.push(new Ci(x.segments[w].path,Ps(y[0]))),U++;continue}const Ce=po(te)?te.outlets[dn]:`${te}`,Pe=U<y.length-1?y[U+1]:null;Ce&&Pe&&br(Pe)?(L.push(new Ci(Ce,Ps(Pe))),U+=2):(L.push(new Ci(Ce,{})),U++)}return new xt(L,{})}function mo(x){const w={};return pi(x,(y,L)=>{"string"==typeof y&&(y=[y]),null!==y&&(w[L]=Ds(new xt([],{}),0,y))}),w}function Ps(x){const w={};return pi(x,(y,L)=>w[L]=`${y}`),w}function fr(x,w,y){return x==y.path&&_i(w,y.parameters)}class ys{constructor(w,y){this.id=w,this.url=y}}class ur extends ys{constructor(w,y,L="imperative",U=null){super(w,y),this.type=0,this.navigationTrigger=L,this.restoredState=U}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sr extends ys{constructor(w,y,L){super(w,y),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fs extends ys{constructor(w,y,L,U){super(w,y),this.reason=L,this.code=U,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ro extends ys{constructor(w,y,L,U){super(w,y),this.error=L,this.target=U,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $s extends ys{constructor(w,y,L,U){super(w,y),this.urlAfterRedirects=L,this.state=U,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends ys{constructor(w,y,L,U){super(w,y),this.urlAfterRedirects=L,this.state=U,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ua extends ys{constructor(w,y,L,U,te){super(w,y),this.urlAfterRedirects=L,this.state=U,this.shouldActivate=te,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Os extends ys{constructor(w,y,L,U){super(w,y),this.urlAfterRedirects=L,this.state=U,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl extends ys{constructor(w,y,L,U){super(w,y),this.urlAfterRedirects=L,this.state=U,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Co{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tc{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rs{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ec{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dc{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yd{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pc{constructor(w,y,L){this.routerEvent=w,this.position=y,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Du{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const y=this.pathFromRoot(w);return y.length>1?y[y.length-2]:null}children(w){const y=Oc(w,this._root);return y?y.children.map(L=>L.value):[]}firstChild(w){const y=Oc(w,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(w){const y=Lc(w,this._root);return y.length<2?[]:y[y.length-2].children.map(U=>U.value).filter(U=>U!==w)}pathFromRoot(w){return Lc(w,this._root).map(y=>y.value)}}function Oc(x,w){if(x===w.value)return w;for(const y of w.children){const L=Oc(x,y);if(L)return L}return null}function Lc(x,w){if(x===w.value)return[w];for(const y of w.children){const L=Lc(x,y);if(L.length)return L.unshift(w),L}return[]}class Zs{constructor(w,y){this.value=w,this.children=y}toString(){return`TreeNode(${this.value})`}}function No(x){const w={};return x&&x.children.forEach(y=>w[y.value.outlet]=y),w}class Ya extends Du{constructor(w,y){super(w),this.snapshot=y,Ka(this,w)}toString(){return this.snapshot.toString()}}function Vl(x,w){const y=function qa(x,w){const Ce=new Rs([],{},{},"",{},dn,w,null,x.root,-1,{});return new ss("",new Zs(Ce,[]))}(x,w),L=new ye.X([new Ci("",{})]),U=new ye.X({}),te=new ye.X({}),Ce=new ye.X({}),Pe=new ye.X(""),gt=new Ar(L,U,Ce,Pe,te,dn,w,y.root);return gt.snapshot=y.root,new Ya(new Zs(gt,[]),y)}class Ar{constructor(w,y,L,U,te,Ce,Pe,gt){this.url=w,this.params=y,this.queryParams=L,this.fragment=U,this.data=te,this.outlet=Ce,this.component=Pe,this.title=this.data?.pipe((0,Me.U)($t=>$t[Ri]))??(0,f.of)(void 0),this._futureSnapshot=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(w=>Rn(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(w=>Rn(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ls(x,w="emptyOnly"){const y=x.pathFromRoot;let L=0;if("always"!==w)for(L=y.length-1;L>=1;){const U=y[L],te=y[L-1];if(U.routeConfig&&""===U.routeConfig.path)L--;else{if(te.component)break;L--}}return function da(x){return x.reduce((w,y)=>({params:{...w.params,...y.params},data:{...w.data,...y.data},resolve:{...y.data,...w.resolve,...y.routeConfig?.data,...y._resolvedData}}),{params:{},data:{},resolve:{}})}(y.slice(L))}class Rs{constructor(w,y,L,U,te,Ce,Pe,gt,$t,Wn,an,Mi){this.url=w,this.params=y,this.queryParams=L,this.fragment=U,this.data=te,this.outlet=Ce,this.component=Pe,this.title=this.data?.[Ri],this.routeConfig=gt,this._urlSegment=$t,this._lastPathIndex=Wn,this._correctedLastPathIndex=Mi??Wn,this._resolve=an}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Rn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Rn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ss extends Du{constructor(w,y){super(y),this.url=w,Ka(this,y)}toString(){return Ao(this._root)}}function Ka(x,w){w.value._routerState=x,w.children.forEach(y=>Ka(x,y))}function Ao(x){const w=x.children.length>0?` { ${x.children.map(Ao).join(", ")} } `:"";return`${x.value}${w}`}function Kr(x){if(x.snapshot){const w=x.snapshot,y=x._futureSnapshot;x.snapshot=y,_i(w.queryParams,y.queryParams)||x.queryParams.next(y.queryParams),w.fragment!==y.fragment&&x.fragment.next(y.fragment),_i(w.params,y.params)||x.params.next(y.params),function Yi(x,w){if(x.length!==w.length)return!1;for(let y=0;y<x.length;++y)if(!_i(x[y],w[y]))return!1;return!0}(w.url,y.url)||x.url.next(y.url),_i(w.data,y.data)||x.data.next(y.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function Ns(x,w){const y=_i(x.params,w.params)&&function ei(x,w){return ir(x,w)&&x.every((y,L)=>_i(y.parameters,w[L].parameters))}(x.url,w.url);return y&&!(!x.parent!=!w.parent)&&(!x.parent||Ns(x.parent,w.parent))}function Fs(x,w,y){if(y&&x.shouldReuseRoute(w.value,y.value.snapshot)){const L=y.value;L._futureSnapshot=w.value;const U=function Hl(x,w,y){return w.children.map(L=>{for(const U of y.children)if(x.shouldReuseRoute(L.value,U.value.snapshot))return Fs(x,L,U);return Fs(x,L)})}(x,w,y);return new Zs(L,U)}{if(x.shouldAttach(w.value)){const te=x.retrieve(w.value);if(null!==te){const Ce=te.route;return Ce.value._futureSnapshot=w.value,Ce.children=w.children.map(Pe=>Fs(x,Pe)),Ce}}const L=function Qa(x){return new Ar(new ye.X(x.url),new ye.X(x.params),new ye.X(x.queryParams),new ye.X(x.fragment),new ye.X(x.data),x.outlet,x.component,x)}(w.value),U=w.children.map(te=>Fs(x,te));return new Zs(L,U)}}const Ys="ngNavigationCancelingError";function zl(x,w){const{redirectTo:y,navigationBehaviorOptions:L}=nt(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,U=dr(!1,0,w);return U.url=y,U.navigationBehaviorOptions=L,U}function dr(x,w,y){const L=new Error("NavigationCancelingError: "+(x||""));return L[Ys]=!0,L.cancellationCode=w,y&&(L.url=y),L}function ha(x){return fa(x)&&nt(x.url)}function fa(x){return x&&x[Ys]}class ga{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Io,this.attachRef=null}}let Io=(()=>{class x{constructor(){this.contexts=new Map}onChildOutletCreated(y,L){const U=this.getOrCreateContext(y);U.outlet=L,this.contexts.set(y,U)}onChildOutletDestroyed(y){const L=this.getContext(y);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const y=this.contexts;return this.contexts=new Map,y}onOutletReAttached(y){this.contexts=y}getOrCreateContext(y){let L=this.getContext(y);return L||(L=new ga,this.contexts.set(y,L)),L}getContext(y){return this.contexts.get(y)||null}}return x.\u0275fac=function(y){return new(y||x)},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const Xa=!1;let Wi=(()=>{class x{constructor(y,L,U,te,Ce){this.parentContexts=y,this.location=L,this.changeDetector=te,this.environmentInjector=Ce,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=U||dn,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,Xa);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,Xa);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,Xa);this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,L){this.activated=y,this._activatedRoute=L,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,L){if(this.isActivated)throw new u.vHH(4013,Xa);this._activatedRoute=y;const U=this.location,Ce=y._futureSnapshot.component,Pe=this.parentContexts.getOrCreateContext(this.name).children,gt=new Gl(y,Pe,U.injector);if(L&&function Wl(x){return!!x.resolveComponentFactory}(L)){const $t=L.resolveComponentFactory(Ce);this.activated=U.createComponent($t,U.length,gt)}else this.activated=U.createComponent(Ce,{index:U.length,injector:gt,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(y){return new(y||x)(u.Y36(Io),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},x.\u0275dir=u.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),x})();class Gl{constructor(w,y,L){this.route=w,this.childContexts=y,this.parent=L}get(w,y){return w===Ar?this.route:w===Io?this.childContexts:this.parent.get(w,y)}}let ks=(()=>{class x{}return x.\u0275fac=function(y){return new(y||x)},x.\u0275cmp=u.Xpm({type:x,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(y,L){1&y&&u._UZ(0,"router-outlet")},dependencies:[Wi],encapsulation:2}),x})();function Br(x,w){return x.providers&&!x._injector&&(x._injector=(0,u.MMx)(x.providers,w,`Route: ${x.path}`)),x._injector??w}function ko(x){const w=x.children&&x.children.map(ko),y=w?{...x,children:w}:{...x};return!y.component&&!y.loadComponent&&(w||y.loadChildren)&&y.outlet&&y.outlet!==dn&&(y.component=ks),y}function xr(x){return x.outlet||dn}function _n(x,w){const y=x.filter(L=>xr(L)===w);return y.push(...x.filter(L=>xr(L)!==w)),y}function vo(x){if(!x)return null;if(x.routeConfig?._injector)return x.routeConfig._injector;for(let w=x.parent;w;w=w.parent){const y=w.routeConfig;if(y?._loadedInjector)return y._loadedInjector;if(y?._injector)return y._injector}return null}class Zl{constructor(w,y,L,U){this.routeReuseStrategy=w,this.futureState=y,this.currState=L,this.forwardEvent=U}activate(w){const y=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,L,w),Kr(this.futureState.root),this.activateChildRoutes(y,L,w)}deactivateChildRoutes(w,y,L){const U=No(y);w.children.forEach(te=>{const Ce=te.value.outlet;this.deactivateRoutes(te,U[Ce],L),delete U[Ce]}),pi(U,(te,Ce)=>{this.deactivateRouteAndItsChildren(te,L)})}deactivateRoutes(w,y,L){const U=w.value,te=y?y.value:null;if(U===te)if(U.component){const Ce=L.getContext(U.outlet);Ce&&this.deactivateChildRoutes(w,y,Ce.children)}else this.deactivateChildRoutes(w,y,L);else te&&this.deactivateRouteAndItsChildren(y,L)}deactivateRouteAndItsChildren(w,y){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,y):this.deactivateRouteAndOutlet(w,y)}detachAndStoreRouteSubtree(w,y){const L=y.getContext(w.value.outlet),U=L&&w.value.component?L.children:y,te=No(w);for(const Ce of Object.keys(te))this.deactivateRouteAndItsChildren(te[Ce],U);if(L&&L.outlet){const Ce=L.outlet.detach(),Pe=L.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:Ce,route:w,contexts:Pe})}}deactivateRouteAndOutlet(w,y){const L=y.getContext(w.value.outlet),U=L&&w.value.component?L.children:y,te=No(w);for(const Ce of Object.keys(te))this.deactivateRouteAndItsChildren(te[Ce],U);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(w,y,L){const U=No(y);w.children.forEach(te=>{this.activateRoutes(te,U[te.value.outlet],L),this.forwardEvent(new Yd(te.value.snapshot))}),w.children.length&&this.forwardEvent(new Ec(w.value.snapshot))}activateRoutes(w,y,L){const U=w.value,te=y?y.value:null;if(Kr(U),U===te)if(U.component){const Ce=L.getOrCreateContext(U.outlet);this.activateChildRoutes(w,y,Ce.children)}else this.activateChildRoutes(w,y,L);else if(U.component){const Ce=L.getOrCreateContext(U.outlet);if(this.routeReuseStrategy.shouldAttach(U.snapshot)){const Pe=this.routeReuseStrategy.retrieve(U.snapshot);this.routeReuseStrategy.store(U.snapshot,null),Ce.children.onOutletReAttached(Pe.contexts),Ce.attachRef=Pe.componentRef,Ce.route=Pe.route.value,Ce.outlet&&Ce.outlet.attach(Pe.componentRef,Pe.route.value),Kr(Pe.route.value),this.activateChildRoutes(w,null,Ce.children)}else{const Pe=vo(U.snapshot),gt=Pe?.get(u._Vd)??null;Ce.attachRef=null,Ce.route=U,Ce.resolver=gt,Ce.injector=Pe,Ce.outlet&&Ce.outlet.activateWith(U,Ce.injector),this.activateChildRoutes(w,null,Ce.children)}}else this.activateChildRoutes(w,null,L)}}class tl{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class pa{constructor(w,y){this.component=w,this.route=y}}function Bo(x,w,y){const L=x._root;return Tt(L,w?w._root:null,y,[L.value])}function qs(x,w){const y=Symbol(),L=w.get(x,y);return L===y?"function"!=typeof x||(0,u.Z0I)(x)?w.get(x):x:L}function Tt(x,w,y,L,U={canDeactivateChecks:[],canActivateChecks:[]}){const te=No(w);return x.children.forEach(Ce=>{(function qn(x,w,y,L,U={canDeactivateChecks:[],canActivateChecks:[]}){const te=x.value,Ce=w?w.value:null,Pe=y?y.getContext(x.value.outlet):null;if(Ce&&te.routeConfig===Ce.routeConfig){const gt=function Fc(x,w,y){if("function"==typeof y)return y(x,w);switch(y){case"pathParamsChange":return!ir(x.url,w.url);case"pathParamsOrQueryParamsChange":return!ir(x.url,w.url)||!_i(x.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ns(x,w)||!_i(x.queryParams,w.queryParams);default:return!Ns(x,w)}}(Ce,te,te.routeConfig.runGuardsAndResolvers);gt?U.canActivateChecks.push(new tl(L)):(te.data=Ce.data,te._resolvedData=Ce._resolvedData),Tt(x,w,te.component?Pe?Pe.children:null:y,L,U),gt&&Pe&&Pe.outlet&&Pe.outlet.isActivated&&U.canDeactivateChecks.push(new pa(Pe.outlet.component,Ce))}else Ce&&Bs(w,Pe,U),U.canActivateChecks.push(new tl(L)),Tt(x,null,te.component?Pe?Pe.children:null:y,L,U)})(Ce,te[Ce.value.outlet],y,L.concat([Ce.value]),U),delete te[Ce.value.outlet]}),pi(te,(Ce,Pe)=>Bs(Ce,y.getContext(Pe),U)),U}function Bs(x,w,y){const L=No(x),U=x.value;pi(L,(te,Ce)=>{Bs(te,U.component?w?w.children.getContext(Ce):null:w,y)}),y.canDeactivateChecks.push(new pa(U.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,U))}function Di(x){return"function"==typeof x}function Ca(x){return x instanceof q||"EmptyError"===x?.name}const Bi=Symbol("INITIAL_VALUE");function Sr(){return(0,mt.w)(x=>(0,Z.a)(x.map(w=>w.pipe((0,nn.q)(1),(0,qe.O)(Bi)))).pipe((0,Me.U)(w=>{for(const y of w)if(!0!==y){if(y===Bi)return Bi;if(!1===y||y instanceof kn)return y}return!0}),(0,ie.h)(w=>w!==Bi),(0,nn.q)(1)))}function Kl(x){return(0,ne.z)((0,bt.b)(w=>{if(nt(w))throw zl(0,w)}),(0,Me.U)(w=>!0===w))}const rl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ho(x,w,y,L,U){const te=Ia(x,w,y);return te.matched?function Aa(x,w,y,L){const U=w.canMatch;if(!U||0===U.length)return(0,f.of)(!0);const te=U.map(Ce=>{const Pe=qs(Ce,x);return wr(function Pu(x){return x&&Di(x.canMatch)}(Pe)?Pe.canMatch(w,y):x.runInContext(()=>Pe(w,y)))});return(0,f.of)(te).pipe(Sr(),Kl())}(L=Br(w,L),w,y).pipe((0,Me.U)(Ce=>!0===Ce?te:{...rl})):(0,f.of)(te)}function Ia(x,w,y){if(""===w.path)return"full"===w.pathMatch&&(x.hasChildren()||y.length>0)?{...rl}:{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const U=(w.matcher||Ei)(y,x,w);if(!U)return{...rl};const te={};pi(U.posParams,(Pe,gt)=>{te[gt]=Pe.path});const Ce=U.consumed.length>0?{...te,...U.consumed[U.consumed.length-1].parameters}:te;return{matched:!0,consumedSegments:U.consumed,remainingSegments:y.slice(U.consumed.length),parameters:Ce,positionalParamSegments:U.posParams??{}}}function _a(x,w,y,L,U="corrected"){if(y.length>0&&function R(x,w,y){return y.some(L=>F(x,w,L)&&xr(L)!==dn)}(x,y,L)){const Ce=new xt(w,function Nu(x,w,y,L){const U={};U[dn]=L,L._sourceSegment=x,L._segmentIndexShift=w.length;for(const te of y)if(""===te.path&&xr(te)!==dn){const Ce=new xt([],{});Ce._sourceSegment=x,Ce._segmentIndexShift=w.length,U[xr(te)]=Ce}return U}(x,w,L,new xt(y,x.children)));return Ce._sourceSegment=x,Ce._segmentIndexShift=w.length,{segmentGroup:Ce,slicedSegments:[]}}if(0===y.length&&function j(x,w,y){return y.some(L=>F(x,w,L))}(x,y,L)){const Ce=new xt(x.segments,function Bc(x,w,y,L,U,te){const Ce={};for(const Pe of L)if(F(x,y,Pe)&&!U[xr(Pe)]){const gt=new xt([],{});gt._sourceSegment=x,gt._segmentIndexShift="legacy"===te?x.segments.length:w.length,Ce[xr(Pe)]=gt}return{...U,...Ce}}(x,w,y,L,x.children,U));return Ce._sourceSegment=x,Ce._segmentIndexShift=w.length,{segmentGroup:Ce,slicedSegments:y}}const te=new xt(x.segments,x.children);return te._sourceSegment=x,te._segmentIndexShift=w.length,{segmentGroup:te,slicedSegments:y}}function F(x,w,y){return(!(x.hasChildren()||w.length>0)||"full"!==y.pathMatch)&&""===y.path}function se(x,w,y,L){return!!(xr(x)===L||L!==dn&&F(w,y,x))&&("**"===x.path||Ia(w,x,y).matched)}function Te(x,w,y){return 0===w.length&&!x.children[y]}const tt=!1;class ut{constructor(w){this.segmentGroup=w||null}}class Xt{constructor(w){this.urlTree=w}}function Qn(x){return Ne(new ut(x))}function oi(x){return Ne(new Xt(x))}class hi{constructor(w,y,L,U,te){this.injector=w,this.configLoader=y,this.urlSerializer=L,this.urlTree=U,this.config=te,this.allowRedirects=!0}apply(){const w=_a(this.urlTree.root,[],[],this.config).segmentGroup,y=new xt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,y,dn).pipe((0,Me.U)(te=>this.createUrlTree(le(te),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Bt(te=>{if(te instanceof Xt)return this.allowRedirects=!1,this.match(te.urlTree);throw te instanceof ut?this.noMatchError(te):te}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,dn).pipe((0,Me.U)(U=>this.createUrlTree(le(U),w.queryParams,w.fragment))).pipe(Bt(U=>{throw U instanceof ut?this.noMatchError(U):U}))}noMatchError(w){return new u.vHH(4002,tt)}createUrlTree(w,y,L){const U=B(w);return new kn(U,y,L)}expandSegmentGroup(w,y,L,U){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(w,y,L).pipe((0,Me.U)(te=>new xt([],te))):this.expandSegment(w,L,y,L.segments,U,!0)}expandChildren(w,y,L){const U=[];for(const te of Object.keys(L.children))"primary"===te?U.unshift(te):U.push(te);return(0,$.D)(U).pipe((0,st.b)(te=>{const Ce=L.children[te],Pe=_n(y,te);return this.expandSegmentGroup(w,Pe,Ce,te).pipe((0,Me.U)(gt=>({segment:gt,outlet:te})))}),(0,Se.R)((te,Ce)=>(te[Ce.outlet]=Ce.segment,te),{}),ft())}expandSegment(w,y,L,U,te,Ce){return(0,$.D)(L).pipe((0,st.b)(Pe=>this.expandSegmentAgainstRoute(w,y,L,Pe,U,te,Ce).pipe(Bt($t=>{if($t instanceof ut)return(0,f.of)(null);throw $t}))),lt(Pe=>!!Pe),Bt((Pe,gt)=>{if(Ca(Pe))return Te(y,U,te)?(0,f.of)(new xt([],{})):Qn(y);throw Pe}))}expandSegmentAgainstRoute(w,y,L,U,te,Ce,Pe){return se(U,y,te,Ce)?void 0===U.redirectTo?this.matchSegmentAgainstRoute(w,y,U,te,Ce):Pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,y,L,U,te,Ce):Qn(y):Qn(y)}expandSegmentAgainstRouteUsingRedirect(w,y,L,U,te,Ce){return"**"===U.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,L,U,Ce):this.expandRegularSegmentAgainstRouteUsingRedirect(w,y,L,U,te,Ce)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,y,L,U){const te=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?oi(te):this.lineralizeSegments(L,te).pipe((0,je.z)(Ce=>{const Pe=new xt(Ce,{});return this.expandSegment(w,Pe,y,Ce,U,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,y,L,U,te,Ce){const{matched:Pe,consumedSegments:gt,remainingSegments:$t,positionalParamSegments:Wn}=Ia(y,U,te);if(!Pe)return Qn(y);const an=this.applyRedirectCommands(gt,U.redirectTo,Wn);return U.redirectTo.startsWith("/")?oi(an):this.lineralizeSegments(U,an).pipe((0,je.z)(Mi=>this.expandSegment(w,y,L,Mi.concat($t),Ce,!1)))}matchSegmentAgainstRoute(w,y,L,U,te){return"**"===L.path?(w=Br(L,w),L.loadChildren?(L._loadedRoutes?(0,f.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(w,L)).pipe((0,Me.U)(Pe=>(L._loadedRoutes=Pe.routes,L._loadedInjector=Pe.injector,new xt(U,{})))):(0,f.of)(new xt(U,{}))):Ho(y,L,U,w).pipe((0,mt.w)(({matched:Ce,consumedSegments:Pe,remainingSegments:gt})=>Ce?this.getChildConfig(w=L._injector??w,L,U).pipe((0,je.z)(Wn=>{const an=Wn.injector??w,Mi=Wn.routes,{segmentGroup:ps,slicedSegments:jo}=_a(y,Pe,gt,Mi),$o=new xt(ps.segments,ps.children);if(0===jo.length&&$o.hasChildren())return this.expandChildren(an,Mi,$o).pipe((0,Me.U)(rh=>new xt(Pe,rh)));if(0===Mi.length&&0===jo.length)return(0,f.of)(new xt(Pe,{}));const ms=xr(L)===te;return this.expandSegment(an,$o,Mi,jo,ms?dn:te,!0).pipe((0,Me.U)(Zo=>new xt(Pe.concat(Zo.segments),Zo.children)))})):Qn(y)))}getChildConfig(w,y,L){return y.children?(0,f.of)({routes:y.children,injector:w}):y.loadChildren?void 0!==y._loadedRoutes?(0,f.of)({routes:y._loadedRoutes,injector:y._loadedInjector}):function il(x,w,y,L){const U=w.canLoad;if(void 0===U||0===U.length)return(0,f.of)(!0);const te=U.map(Ce=>{const Pe=qs(Ce,x);return wr(function ma(x){return x&&Di(x.canLoad)}(Pe)?Pe.canLoad(w,y):x.runInContext(()=>Pe(w,y)))});return(0,f.of)(te).pipe(Sr(),Kl())}(w,y,L).pipe((0,je.z)(U=>U?this.configLoader.loadChildren(w,y).pipe((0,bt.b)(te=>{y._loadedRoutes=te.routes,y._loadedInjector=te.injector})):function Kn(x){return Ne(dr(tt,3))}())):(0,f.of)({routes:[],injector:w})}lineralizeSegments(w,y){let L=[],U=y.root;for(;;){if(L=L.concat(U.segments),0===U.numberOfChildren)return(0,f.of)(L);if(U.numberOfChildren>1||!U.children[dn])return Ne(new u.vHH(4e3,tt));U=U.children[dn]}}applyRedirectCommands(w,y,L){return this.applyRedirectCreateUrlTree(y,this.urlSerializer.parse(y),w,L)}applyRedirectCreateUrlTree(w,y,L,U){const te=this.createSegmentGroup(w,y.root,L,U);return new kn(te,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(w,y){const L={};return pi(w,(U,te)=>{if("string"==typeof U&&U.startsWith(":")){const Pe=U.substring(1);L[te]=y[Pe]}else L[te]=U}),L}createSegmentGroup(w,y,L,U){const te=this.createSegments(w,y.segments,L,U);let Ce={};return pi(y.children,(Pe,gt)=>{Ce[gt]=this.createSegmentGroup(w,Pe,L,U)}),new xt(te,Ce)}createSegments(w,y,L,U){return y.map(te=>te.path.startsWith(":")?this.findPosParam(w,te,U):this.findOrReturn(te,L))}findPosParam(w,y,L){const U=L[y.path.substring(1)];if(!U)throw new u.vHH(4001,tt);return U}findOrReturn(w,y){let L=0;for(const U of y){if(U.path===w.path)return y.splice(L),U;L++}return w}}class Jr{}class gs{constructor(w,y,L,U,te,Ce,Pe,gt){this.injector=w,this.rootComponentType=y,this.config=L,this.urlTree=U,this.url=te,this.paramsInheritanceStrategy=Ce,this.relativeLinkResolution=Pe,this.urlSerializer=gt}recognize(){const w=_a(this.urlTree.root,[],[],this.config.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,dn).pipe((0,Me.U)(y=>{if(null===y)return null;const L=new Rs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),U=new Zs(L,y),te=new ss(this.url,U);return this.inheritParamsAndData(te._root),te}))}inheritParamsAndData(w){const y=w.value,L=Ls(y,this.paramsInheritanceStrategy);y.params=Object.freeze(L.params),y.data=Object.freeze(L.data),w.children.forEach(U=>this.inheritParamsAndData(U))}processSegmentGroup(w,y,L,U){return 0===L.segments.length&&L.hasChildren()?this.processChildren(w,y,L):this.processSegment(w,y,L,L.segments,U)}processChildren(w,y,L){return(0,$.D)(Object.keys(L.children)).pipe((0,st.b)(U=>{const te=L.children[U],Ce=_n(y,U);return this.processSegmentGroup(w,Ce,te,U)}),(0,Se.R)((U,te)=>U&&te?(U.push(...te),U):null),function Jt(x,w=!1){return(0,ve.e)((y,L)=>{let U=0;y.subscribe((0,_e.x)(L,te=>{const Ce=x(te,U++);(Ce||w)&&L.next(te),!Ce&&L.complete()}))})}(U=>null!==U),Xe(null),ft(),(0,Me.U)(U=>{if(null===U)return null;const te=va(U);return function bo(x){x.sort((w,y)=>w.value.outlet===dn?-1:y.value.outlet===dn?1:w.value.outlet.localeCompare(y.value.outlet))}(te),te}))}processSegment(w,y,L,U,te){return(0,$.D)(y).pipe((0,st.b)(Ce=>this.processSegmentAgainstRoute(Ce._injector??w,Ce,L,U,te)),lt(Ce=>!!Ce),Bt(Ce=>{if(Ca(Ce))return Te(L,U,te)?(0,f.of)([]):(0,f.of)(null);throw Ce}))}processSegmentAgainstRoute(w,y,L,U,te){if(y.redirectTo||!se(y,L,U,te))return(0,f.of)(null);let Ce;if("**"===y.path){const Pe=U.length>0?$r(U).parameters:{},gt=ku(L)+U.length,$t=new Rs(U,Pe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tf(y),xr(y),y.component??y._loadedComponent??null,y,Jd(L),gt,sl(y),gt);Ce=(0,f.of)({snapshot:$t,consumedSegments:[],remainingSegments:[]})}else Ce=Ho(L,y,U,w).pipe((0,Me.U)(({matched:Pe,consumedSegments:gt,remainingSegments:$t,parameters:Wn})=>{if(!Pe)return null;const an=ku(L)+gt.length;return{snapshot:new Rs(gt,Wn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tf(y),xr(y),y.component??y._loadedComponent??null,y,Jd(L),an,sl(y),an),consumedSegments:gt,remainingSegments:$t}}));return Ce.pipe((0,mt.w)(Pe=>{if(null===Pe)return(0,f.of)(null);const{snapshot:gt,consumedSegments:$t,remainingSegments:Wn}=Pe;w=y._injector??w;const an=y._loadedInjector??w,Mi=function Uc(x){return x.children?x.children:x.loadChildren?x._loadedRoutes:[]}(y),{segmentGroup:ps,slicedSegments:jo}=_a(L,$t,Wn,Mi.filter(ms=>void 0===ms.redirectTo),this.relativeLinkResolution);if(0===jo.length&&ps.hasChildren())return this.processChildren(an,Mi,ps).pipe((0,Me.U)(ms=>null===ms?null:[new Zs(gt,ms)]));if(0===Mi.length&&0===jo.length)return(0,f.of)([new Zs(gt,[])]);const $o=xr(y)===te;return this.processSegment(an,Mi,ps,jo,$o?dn:te).pipe((0,Me.U)(ms=>null===ms?null:[new Zs(gt,ms)]))}))}}function Mf(x){const w=x.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function va(x){const w=[],y=new Set;for(const L of x){if(!Mf(L)){w.push(L);continue}const U=w.find(te=>L.value.routeConfig===te.value.routeConfig);void 0!==U?(U.children.push(...L.children),y.add(U)):w.push(L)}for(const L of y){const U=va(L.children);w.push(new Zs(L.value,U))}return w.filter(L=>!y.has(L))}function Jd(x){let w=x;for(;w._sourceSegment;)w=w._sourceSegment;return w}function ku(x){let w=x,y=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,y+=w._segmentIndexShift??0;return y-1}function Tf(x){return x.data||{}}function sl(x){return x.resolve||{}}function Hu(x){return"string"==typeof x.title||null===x.title}function xo(x){return(0,mt.w)(w=>{const y=x(w);return y?(0,$.D)(y).pipe((0,Me.U)(()=>w)):(0,f.of)(w)})}let Jl=(()=>{class x{buildTitle(y){let L,U=y.root;for(;void 0!==U;)L=this.getResolvedTitleForRoute(U)??L,U=U.children.find(te=>te.outlet===dn);return L}getResolvedTitleForRoute(y){return y.data[Ri]}}return x.\u0275fac=function(y){return new(y||x)},x.\u0275prov=u.Yz7({token:x,factory:function(){return(0,u.f3M)(al)},providedIn:"root"}),x})(),al=(()=>{class x extends Jl{constructor(y){super(),this.title=y}updateTitle(y){const L=this.buildTitle(y);void 0!==L&&this.title.setTitle(L)}}return x.\u0275fac=function(y){return new(y||x)(u.LFG(Vn.Dx))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class Xd{}class eh extends class zu{shouldDetach(w){return!1}store(w,y){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,y){return w.routeConfig===y.routeConfig}}{}const ll=new u.OlP("",{providedIn:"root",factory:()=>({})}),ce=new u.OlP("ROUTES");let A=(()=>{class x{constructor(y,L){this.injector=y,this.compiler=L,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(y){if(this.componentLoaders.get(y))return this.componentLoaders.get(y);if(y._loadedComponent)return(0,f.of)(y._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(y);const L=wr(y.loadComponent()).pipe((0,bt.b)(te=>{this.onLoadEndListener&&this.onLoadEndListener(y),y._loadedComponent=te}),Dn(()=>{this.componentLoaders.delete(y)})),U=new Le.c(L,()=>new We.x).pipe((0,un.x)());return this.componentLoaders.set(y,U),U}loadChildren(y,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,f.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const te=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,Me.U)(Pe=>{this.onLoadEndListener&&this.onLoadEndListener(L);let gt,$t,Wn=!1;Array.isArray(Pe)?$t=Pe:(gt=Pe.create(y).injector,$t=es(gt.get(ce,[],u.XFs.Self|u.XFs.Optional)));return{routes:$t.map(ko),injector:gt}}),Dn(()=>{this.childrenLoaders.delete(L)})),Ce=new Le.c(te,()=>new We.x).pipe((0,un.x)());return this.childrenLoaders.set(L,Ce),Ce}loadModuleFactoryOrRoutes(y){return wr(y()).pipe((0,je.z)(L=>L instanceof u.YKP||Array.isArray(L)?(0,f.of)(L):(0,$.D)(this.compiler.compileModuleAsync(L))))}}return x.\u0275fac=function(y){return new(y||x)(u.LFG(u.zs3),u.LFG(u.Sil))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();class T{}class G{shouldProcessUrl(w){return!0}extract(w){return w}merge(w,y){return w}}function rt(x){throw x}function en(x,w,y){return w.parse("/")}const Cn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ni={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function yi(){const x=(0,u.f3M)(Bn),w=(0,u.f3M)(Io),y=(0,u.f3M)(He.Ye),L=(0,u.f3M)(u.zs3),U=(0,u.f3M)(u.Sil),te=(0,u.f3M)(ce,{optional:!0})??[],Ce=(0,u.f3M)(ll,{optional:!0})??{},Pe=(0,u.f3M)(al),gt=(0,u.f3M)(Jl,{optional:!0}),$t=(0,u.f3M)(T,{optional:!0}),Wn=(0,u.f3M)(Xd,{optional:!0}),an=new Un(null,x,w,y,L,U,es(te));return $t&&(an.urlHandlingStrategy=$t),Wn&&(an.routeReuseStrategy=Wn),an.titleStrategy=gt??Pe,function xi(x,w){x.errorHandler&&(w.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(w.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(w.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(w.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(w.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(w.urlUpdateStrategy=x.urlUpdateStrategy),x.canceledNavigationResolution&&(w.canceledNavigationResolution=x.canceledNavigationResolution)}(Ce,an),an}let Un=(()=>{class x{constructor(y,L,U,te,Ce,Pe,gt){this.rootComponentType=y,this.urlSerializer=L,this.rootContexts=U,this.location=te,this.config=gt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new We.x,this.errorHandler=rt,this.malformedUriErrorHandler=en,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,f.of)(void 0),this.urlHandlingStrategy=new G,this.routeReuseStrategy=new eh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ce.get(A),this.configLoader.onLoadEndListener=Mi=>this.triggerEvent(new Tc(Mi)),this.configLoader.onLoadStartListener=Mi=>this.triggerEvent(new Co(Mi)),this.ngModule=Ce.get(u.h0i),this.console=Ce.get(u.c2e);const an=Ce.get(u.R0b);this.isNgZoneEnabled=an instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(gt),this.currentUrlTree=function Zr(){return new kn(new xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vl(this.currentUrlTree,this.rootComponentType),this.transitions=new ye.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(y){const L=this.events;return y.pipe((0,ie.h)(U=>0!==U.id),(0,Me.U)(U=>({...U,extractedUrl:this.urlHandlingStrategy.extract(U.rawUrl)})),(0,mt.w)(U=>{let te=!1,Ce=!1;return(0,f.of)(U).pipe((0,bt.b)(Pe=>{this.currentNavigation={id:Pe.id,initialUrl:Pe.rawUrl,extractedUrl:Pe.extractedUrl,trigger:Pe.source,extras:Pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,mt.w)(Pe=>{const gt=this.browserUrlTree.toString(),$t=!this.navigated||Pe.extractedUrl.toString()!==gt||gt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||$t)&&this.urlHandlingStrategy.shouldProcessUrl(Pe.rawUrl))return ar(Pe.source)&&(this.browserUrlTree=Pe.extractedUrl),(0,f.of)(Pe).pipe((0,mt.w)(an=>{const Mi=this.transitions.getValue();return L.next(new ur(an.id,this.serializeUrl(an.extractedUrl),an.source,an.restoredState)),Mi!==this.transitions.getValue()?Fe.E:Promise.resolve(an)}),function Ji(x,w,y,L){return(0,mt.w)(U=>function or(x,w,y,L,U){return new hi(x,w,y,L,U).apply()}(x,w,y,U.extractedUrl,L).pipe((0,Me.U)(te=>({...U,urlAfterRedirects:te}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bt.b)(an=>{this.currentNavigation={...this.currentNavigation,finalUrl:an.urlAfterRedirects},U.urlAfterRedirects=an.urlAfterRedirects}),function Qd(x,w,y,L,U,te){return(0,je.z)(Ce=>function Vs(x,w,y,L,U,te,Ce="emptyOnly",Pe="legacy"){return new gs(x,w,y,L,U,Ce,Pe,te).recognize().pipe((0,mt.w)(gt=>null===gt?function Us(x){return new ue.y(w=>w.error(x))}(new Jr):(0,f.of)(gt)))}(x,w,y,Ce.urlAfterRedirects,L.serialize(Ce.urlAfterRedirects),L,U,te).pipe((0,Me.U)(Pe=>({...Ce,targetSnapshot:Pe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bt.b)(an=>{if(U.targetSnapshot=an.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!an.extras.skipLocationChange){const ps=this.urlHandlingStrategy.merge(an.urlAfterRedirects,an.rawUrl);this.setBrowserUrl(ps,an)}this.browserUrlTree=an.urlAfterRedirects}const Mi=new $s(an.id,this.serializeUrl(an.extractedUrl),this.serializeUrl(an.urlAfterRedirects),an.targetSnapshot);L.next(Mi)}));if($t&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Mi,extractedUrl:ps,source:jo,restoredState:$o,extras:ms}=Pe,xp=new ur(Mi,this.serializeUrl(ps),jo,$o);L.next(xp);const Zo=Vl(ps,this.rootComponentType).snapshot;return U={...Pe,targetSnapshot:Zo,urlAfterRedirects:ps,extras:{...ms,skipLocationChange:!1,replaceUrl:!1}},(0,f.of)(U)}return this.rawUrlTree=Pe.rawUrl,Pe.resolve(null),Fe.E}),(0,bt.b)(Pe=>{const gt=new gr(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(gt)}),(0,Me.U)(Pe=>U={...Pe,guards:Bo(Pe.targetSnapshot,Pe.currentSnapshot,this.rootContexts)}),function ql(x,w){return(0,je.z)(y=>{const{targetSnapshot:L,currentSnapshot:U,guards:{canActivateChecks:te,canDeactivateChecks:Ce}}=y;return 0===Ce.length&&0===te.length?(0,f.of)({...y,guardsResult:!0}):function Uo(x,w,y,L){return(0,$.D)(x).pipe((0,je.z)(U=>function Js(x,w,y,L,U){const te=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!te||0===te.length)return(0,f.of)(!0);const Ce=te.map(Pe=>{const gt=vo(w)??U,$t=qs(Pe,gt);return wr(function yo(x){return x&&Di(x.canDeactivate)}($t)?$t.canDeactivate(x,w,y,L):gt.runInContext(()=>$t(x,w,y,L))).pipe(lt())});return(0,f.of)(Ce).pipe(Sr())}(U.component,U.route,y,w,L)),lt(U=>!0!==U,!0))}(Ce,L,U,x).pipe((0,je.z)(Pe=>Pe&&function Yl(x){return"boolean"==typeof x}(Pe)?function Ks(x,w,y,L){return(0,$.D)(w).pipe((0,st.b)(U=>(0,ae.z)(function Ru(x,w){return null!==x&&w&&w(new rs(x)),(0,f.of)(!0)}(U.route.parent,L),function qd(x,w){return null!==x&&w&&w(new Dc(x)),(0,f.of)(!0)}(U.route,L),function Vo(x,w,y){const L=w[w.length-1],te=w.slice(0,w.length-1).reverse().map(Ce=>function nl(x){const w=x.routeConfig?x.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:x,guards:w}:null}(Ce)).filter(Ce=>null!==Ce).map(Ce=>(0,X.P)(()=>{const Pe=Ce.guards.map(gt=>{const $t=vo(Ce.node)??y,Wn=qs(gt,$t);return wr(function kc(x){return x&&Di(x.canActivateChild)}(Wn)?Wn.canActivateChild(L,x):$t.runInContext(()=>Wn(L,x))).pipe(lt())});return(0,f.of)(Pe).pipe(Sr())}));return(0,f.of)(te).pipe(Sr())}(x,U.path,y),function Kd(x,w,y){const L=w.routeConfig?w.routeConfig.canActivate:null;if(!L||0===L.length)return(0,f.of)(!0);const U=L.map(te=>(0,X.P)(()=>{const Ce=vo(w)??y,Pe=qs(te,Ce);return wr(function os(x){return x&&Di(x.canActivate)}(Pe)?Pe.canActivate(w,x):Ce.runInContext(()=>Pe(w,x))).pipe(lt())}));return(0,f.of)(U).pipe(Sr())}(x,U.route,y))),lt(U=>!0!==U,!0))}(L,te,x,w):(0,f.of)(Pe)),(0,Me.U)(Pe=>({...y,guardsResult:Pe})))})}(this.ngModule.injector,Pe=>this.triggerEvent(Pe)),(0,bt.b)(Pe=>{if(U.guardsResult=Pe.guardsResult,nt(Pe.guardsResult))throw zl(0,Pe.guardsResult);const gt=new ua(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot,!!Pe.guardsResult);this.triggerEvent(gt)}),(0,ie.h)(Pe=>!!Pe.guardsResult||(this.restoreHistory(Pe),this.cancelNavigationTransition(Pe,"",3),!1)),xo(Pe=>{if(Pe.guards.canActivateChecks.length)return(0,f.of)(Pe).pipe((0,bt.b)(gt=>{const $t=new Os(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent($t)}),(0,mt.w)(gt=>{let $t=!1;return(0,f.of)(gt).pipe(function Bu(x,w){return(0,je.z)(y=>{const{targetSnapshot:L,guards:{canActivateChecks:U}}=y;if(!U.length)return(0,f.of)(y);let te=0;return(0,$.D)(U).pipe((0,st.b)(Ce=>function ol(x,w,y,L){const U=x.routeConfig,te=x._resolve;return void 0!==U?.title&&!Hu(U)&&(te[Ri]=U.title),function Uu(x,w,y,L){const U=function Vu(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}(x);if(0===U.length)return(0,f.of)({});const te={};return(0,$.D)(U).pipe((0,je.z)(Ce=>function ya(x,w,y,L){const U=vo(w)??L,te=qs(x,U);return wr(te.resolve?te.resolve(w,y):U.runInContext(()=>te(w,y)))}(x[Ce],w,y,L).pipe(lt(),(0,bt.b)(Pe=>{te[Ce]=Pe}))),Ge(1),function rn(x){return(0,Me.U)(()=>x)}(te),Bt(Ce=>Ca(Ce)?Fe.E:Ne(Ce)))}(te,x,w,L).pipe((0,Me.U)(Ce=>(x._resolvedData=Ce,x.data=Ls(x,y).resolve,U&&Hu(U)&&(x.data[Ri]=U.title),null)))}(Ce.route,L,x,w)),(0,bt.b)(()=>te++),Ge(1),(0,je.z)(Ce=>te===U.length?(0,f.of)(y):Fe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bt.b)({next:()=>$t=!0,complete:()=>{$t||(this.restoreHistory(gt),this.cancelNavigationTransition(gt,"",2))}}))}),(0,bt.b)(gt=>{const $t=new Bl(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);this.triggerEvent($t)}))}),xo(Pe=>{const gt=$t=>{const Wn=[];$t.routeConfig?.loadComponent&&!$t.routeConfig._loadedComponent&&Wn.push(this.configLoader.loadComponent($t.routeConfig).pipe((0,bt.b)(an=>{$t.component=an}),(0,Me.U)(()=>{})));for(const an of $t.children)Wn.push(...gt(an));return Wn};return(0,Z.a)(gt(Pe.targetSnapshot.root)).pipe(Xe(),(0,nn.q)(1))}),xo(()=>this.afterPreactivation()),(0,Me.U)(Pe=>{const gt=function Ja(x,w,y){const L=Fs(x,w._root,y?y._root:void 0);return new Ya(L,w)}(this.routeReuseStrategy,Pe.targetSnapshot,Pe.currentRouterState);return U={...Pe,targetRouterState:gt}}),(0,bt.b)(Pe=>{this.currentUrlTree=Pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Pe.urlAfterRedirects,Pe.rawUrl),this.routerState=Pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Pe),this.browserUrlTree=Pe.urlAfterRedirects)}),((x,w,y)=>(0,Me.U)(L=>(new Zl(w,L.targetRouterState,L.currentRouterState,y).activate(x),L)))(this.rootContexts,this.routeReuseStrategy,Pe=>this.triggerEvent(Pe)),(0,bt.b)({next(){te=!0},complete(){te=!0}}),Dn(()=>{te||Ce||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),Bt(Pe=>{if(Ce=!0,fa(Pe)){ha(Pe)||(this.navigated=!0,this.restoreHistory(U,!0));const gt=new fs(U.id,this.serializeUrl(U.extractedUrl),Pe.message,Pe.cancellationCode);if(L.next(gt),ha(Pe)){const $t=this.urlHandlingStrategy.merge(Pe.url,this.rawUrlTree),Wn={skipLocationChange:U.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ar(U.source)};this.scheduleNavigation($t,"imperative",null,Wn,{resolve:U.resolve,reject:U.reject,promise:U.promise})}else U.resolve(!1)}else{this.restoreHistory(U,!0);const gt=new Ro(U.id,this.serializeUrl(U.extractedUrl),Pe,U.targetSnapshot??void 0);L.next(gt);try{U.resolve(this.errorHandler(Pe))}catch($t){U.reject($t)}}return Fe.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next({...this.transitions.value,...y})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const L="popstate"===y.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{const U={replaceUrl:!0},te=y.state?.navigationId?y.state:null;if(te){const Pe={...te};delete Pe.navigationId,delete Pe.\u0275routerPageId,0!==Object.keys(Pe).length&&(U.state=Pe)}const Ce=this.parseUrl(y.url);this.scheduleNavigation(Ce,L,te,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){this.config=y.map(ko),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,L={}){const{relativeTo:U,queryParams:te,fragment:Ce,queryParamsHandling:Pe,preserveFragment:gt}=L,$t=U||this.routerState.root,Wn=gt?this.currentUrlTree.fragment:Ce;let an=null;switch(Pe){case"merge":an={...this.currentUrlTree.queryParams,...te};break;case"preserve":an=this.currentUrlTree.queryParams;break;default:an=te||null}return null!==an&&(an=this.removeEmptyProps(an)),Ki($t,this.currentUrlTree,y,an,Wn??null)}navigateByUrl(y,L={skipLocationChange:!1}){const U=nt(y)?y:this.parseUrl(y),te=this.urlHandlingStrategy.merge(U,this.rawUrlTree);return this.scheduleNavigation(te,"imperative",null,L)}navigate(y,L={skipLocationChange:!1}){return function ji(x){for(let w=0;w<x.length;w++){if(null==x[w])throw new u.vHH(4008,false)}}(y),this.navigateByUrl(this.createUrlTree(y,L),L)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let L;try{L=this.urlSerializer.parse(y)}catch(U){L=this.malformedUriErrorHandler(U,this.urlSerializer,y)}return L}isActive(y,L){let U;if(U=!0===L?{...Cn}:!1===L?{...ni}:L,nt(y))return pt(this.currentUrlTree,y,U);const te=this.parseUrl(y);return pt(this.currentUrlTree,te,U)}removeEmptyProps(y){return Object.keys(y).reduce((L,U)=>{const te=y[U];return null!=te&&(L[U]=te),L},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new sr(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,L,U,te,Ce){if(this.disposed)return Promise.resolve(!1);let Pe,gt,$t;Ce?(Pe=Ce.resolve,gt=Ce.reject,$t=Ce.promise):$t=new Promise((Mi,ps)=>{Pe=Mi,gt=ps});const Wn=++this.navigationId;let an;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(U=this.location.getState()),an=U&&U.\u0275routerPageId?U.\u0275routerPageId:te.replaceUrl||te.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):an=0,this.setTransition({id:Wn,targetPageId:an,source:L,restoredState:U,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:te,resolve:Pe,reject:gt,promise:$t,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),$t.catch(Mi=>Promise.reject(Mi))}setBrowserUrl(y,L){const U=this.urlSerializer.serialize(y),te={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.isCurrentPathEqualTo(U)||L.extras.replaceUrl?this.location.replaceState(U,"",te):this.location.go(U,"",te)}restoreHistory(y,L=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===U?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===U&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(U)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,L,U){const te=new fs(y.id,this.serializeUrl(y.extractedUrl),L,U);this.triggerEvent(te),y.resolve(!1)}generateNgRouterState(y,L){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:L}:{navigationId:y}}}return x.\u0275fac=function(y){u.$Z()},x.\u0275prov=u.Yz7({token:x,factory:function(){return yi()},providedIn:"root"}),x})();function ar(x){return"imperative"!==x}let Ir=(()=>{class x{constructor(y,L,U,te,Ce){this.router=y,this.route=L,this.tabIndexAttribute=U,this.renderer=te,this.el=Ce,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new We.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(y){this._preserveFragment=(0,u.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,u.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,u.D6c)(y)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const L=this.renderer,U=this.el.nativeElement;null!==y?L.setAttribute(U,"tabindex",y):L.removeAttribute(U,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return x.\u0275fac=function(y){return new(y||x)(u.Y36(Un),u.Y36(Ar),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},x.\u0275dir=u.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,L){1&y&&u.NdJ("click",function(){return L.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),x})(),fi=(()=>{class x{constructor(y,L,U){this.router=y,this.route=L,this.locationStrategy=U,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new We.x,this.subscription=y.events.subscribe(te=>{te instanceof sr&&this.updateTargetUrlAndHref()})}set preserveFragment(y){this._preserveFragment=(0,u.D6c)(y)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(y){this._skipLocationChange=(0,u.D6c)(y)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(y){this._replaceUrl=(0,u.D6c)(y)}get replaceUrl(){return this._replaceUrl}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,L,U,te,Ce){return!!(0!==y||L||U||te||Ce||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return x.\u0275fac=function(y){return new(y||x)(u.Y36(Un),u.Y36(Ar),u.Y36(He.S$))},x.\u0275dir=u.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,L){1&y&&u.NdJ("click",function(te){return L.onClick(te.button,te.ctrlKey,te.shiftKey,te.altKey,te.metaKey)}),2&y&&u.uIk("target",L.target)("href",L.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[u.TTD]}),x})(),Ql=(()=>{class x{constructor(y,L,U,te,Ce,Pe){this.router=y,this.element=L,this.renderer=U,this.cdr=te,this.link=Ce,this.linkWithHref=Pe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=y.events.subscribe(gt=>{gt instanceof sr&&this.update()})}ngAfterContentInit(){(0,f.of)(this.links.changes,this.linksWithHrefs.changes,(0,f.of)(null)).pipe((0,Gn.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const y=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(L=>!!L).map(L=>L.onChanges);this.linkInputChangesSubscription=(0,$.D)(y).pipe((0,Gn.J)()).subscribe(L=>{this.isActive!==this.isLinkActive(this.router)(L)&&this.update()})}set routerLinkActive(y){const L=Array.isArray(y)?y:y.split(" ");this.classes=L.filter(U=>!!U)}ngOnChanges(y){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(L=>{y?this.renderer.addClass(this.element.nativeElement,L):this.renderer.removeClass(this.element.nativeElement,L)}),y&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(y))})}isLinkActive(y){const L=function Xl(x){return!!x.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return U=>!!U.urlTree&&y.isActive(U.urlTree,L)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return x.\u0275fac=function(y){return new(y||x)(u.Y36(Un),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(Ir,8),u.Y36(fi,8))},x.\u0275dir=u.lG2({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(y,L,U){if(1&y&&(u.Suo(U,Ir,5),u.Suo(U,fi,5)),2&y){let te;u.iGM(te=u.CRH())&&(L.links=te),u.iGM(te=u.CRH())&&(L.linksWithHrefs=te)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.TTD]}),x})();class Gu{}let th=(()=>{class x{constructor(y,L,U,te,Ce){this.router=y,this.injector=U,this.preloadingStrategy=te,this.loader=Ce}setUpPreloading(){this.subscription=this.router.events.pipe((0,ie.h)(y=>y instanceof sr),(0,st.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,L){const U=[];for(const te of L){te.providers&&!te._injector&&(te._injector=(0,u.MMx)(te.providers,y,`Route: ${te.path}`));const Ce=te._injector??y,Pe=te._loadedInjector??Ce;te.loadChildren&&!te._loadedRoutes&&void 0===te.canLoad||te.loadComponent&&!te._loadedComponent?U.push(this.preloadConfig(Ce,te)):(te.children||te._loadedRoutes)&&U.push(this.processRoutes(Pe,te.children??te._loadedRoutes))}return(0,$.D)(U).pipe((0,Gn.J)())}preloadConfig(y,L){return this.preloadingStrategy.preload(L,()=>{let U;U=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(y,L):(0,f.of)(null);const te=U.pipe((0,je.z)(Ce=>null===Ce?(0,f.of)(void 0):(L._loadedRoutes=Ce.routes,L._loadedInjector=Ce.injector,this.processRoutes(Ce.injector??y,Ce.routes))));if(L.loadComponent&&!L._loadedComponent){const Ce=this.loader.loadComponent(L);return(0,$.D)([te,Ce]).pipe((0,Gn.J)())}return te})}}return x.\u0275fac=function(y){return new(y||x)(u.LFG(Un),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Gu),u.LFG(A))},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();const ba=new u.OlP("");let cl=(()=>{class x{constructor(y,L,U={}){this.router=y,this.viewportScroller=L,this.options=U,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},U.scrollPositionRestoration=U.scrollPositionRestoration||"disabled",U.anchorScrolling=U.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof ur?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof sr&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof Pc&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,L){this.router.triggerEvent(new Pc(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(y){u.$Z()},x.\u0275prov=u.Yz7({token:x,factory:x.\u0275fac}),x})();function Qs(x,w){return{\u0275kind:x,\u0275providers:w}}function Df(x){return[{provide:ce,multi:!0,useValue:x}]}function wi(){const x=(0,u.f3M)(u.zs3);return w=>{const y=x.get(u.z2F);if(w!==y.components[0])return;const L=x.get(Un),U=x.get(yp);1===x.get(ju)&&L.initialNavigation(),x.get(Pf,null,u.XFs.Optional)?.setUpPreloading(),x.get(ba,null,u.XFs.Optional)?.init(),L.resetRootComponentType(y.componentTypes[0]),U.next(),U.complete()}}const yp=new u.OlP("",{factory:()=>new We.x}),ju=new u.OlP("",{providedIn:"root",factory:()=>1});const Pf=new u.OlP("");function bA(x){return Qs(0,[{provide:Pf,useExisting:th},{provide:Gu,useExisting:x}])}const _r=new u.OlP("ROUTER_FORROOT_GUARD"),ul=[He.Ye,{provide:Bn,useClass:$n},{provide:Un,useFactory:yi},Io,{provide:Ar,useFactory:function Wu(x){return x.routerState.root},deps:[Un]},A];function wo(){return new u.PXZ("Router",Un)}let Xs=(()=>{class x{constructor(y){}static forRoot(y,L){return{ngModule:x,providers:[ul,[],Df(y),{provide:_r,useFactory:Go,deps:[[Un,new u.FiY,new u.tp0]]},{provide:ll,useValue:L||{}},L?.useHash?{provide:He.S$,useClass:He.Do}:{provide:He.S$,useClass:He.b0},{provide:ba,useFactory:()=>{const x=(0,u.f3M)(Un),w=(0,u.f3M)(He.EM),y=(0,u.f3M)(ll);return y.scrollOffset&&w.setOffset(y.scrollOffset),new cl(x,w,y)}},L?.preloadingStrategy?bA(L.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:wo},L?.initialNavigation?Wo(L):[],[{provide:wa,useFactory:wi},{provide:u.tb,multi:!0,useExisting:wa}]]}}static forChild(y){return{ngModule:x,providers:[Df(y)]}}}return x.\u0275fac=function(y){return new(y||x)(u.LFG(_r,8))},x.\u0275mod=u.oAB({type:x}),x.\u0275inj=u.cJS({imports:[ks]}),x})();function Go(x){return"guarded"}function Wo(x){return["disabled"===x.initialNavigation?Qs(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const w=(0,u.f3M)(Un);return()=>{w.setUpLocationChangeListener()}}},{provide:ju,useValue:2}]).\u0275providers:[],"enabledBlocking"===x.initialNavigation?Qs(2,[{provide:ju,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:w=>{const y=w.get(He.V_,Promise.resolve());let L=!1;return()=>y.then(()=>new Promise(te=>{const Ce=w.get(Un),Pe=w.get(yp);(function U(te){w.get(Un).events.pipe((0,ie.h)(Pe=>Pe instanceof sr||Pe instanceof fs||Pe instanceof Ro),(0,Me.U)(Pe=>Pe instanceof sr||Pe instanceof fs&&(0===Pe.code||1===Pe.code)&&null),(0,ie.h)(Pe=>null!==Pe),(0,nn.q)(1)).subscribe(()=>{te()})})(()=>{te(!0),L=!0}),Ce.afterPreactivation=()=>(te(!0),L||Pe.closed?(0,f.of)(void 0):Pe),Ce.initialNavigation()}))}}]).\u0275providers:[]]}const wa=new u.OlP("")},9383:(Vt,Be,k)=>{"use strict";k.d(Be,{X$:()=>st,Zw:()=>he,aw:()=>bt,sK:()=>$e});var u=k(4650),$=k(9646),f=k(5191),ye=k(4128),K=k(7272),q=k(9770),Z=k(5698),ae=k(3151),X=k(4004),ne=k(4351),ue=k(3900);class he{}let Ne=(()=>{class ot extends he{getTranslation(Se){return(0,$.of)({})}}return ot.\u0275fac=function(){let Bt;return function(Ge){return(Bt||(Bt=u.n5z(ot)))(Ge||ot)}}(),ot.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class Fe{}let Le=(()=>{class ot{handle(Se){return Se.key}}return ot.\u0275fac=function(Se){return new(Se||ot)},ot.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac}),ot})();function We(ot,Bt){if(ot===Bt)return!0;if(null===ot||null===Bt)return!1;if(ot!=ot&&Bt!=Bt)return!0;let ft,Jt,rn,Se=typeof ot;if(Se==typeof Bt&&"object"==Se){if(!Array.isArray(ot)){if(Array.isArray(Bt))return!1;for(Jt in rn=Object.create(null),ot){if(!We(ot[Jt],Bt[Jt]))return!1;rn[Jt]=!0}for(Jt in Bt)if(!(Jt in rn)&&typeof Bt[Jt]<"u")return!1;return!0}if(!Array.isArray(Bt))return!1;if((ft=ot.length)==Bt.length){for(Jt=0;Jt<ft;Jt++)if(!We(ot[Jt],Bt[Jt]))return!1;return!0}}return!1}function He(ot){return typeof ot<"u"&&null!==ot}function Me(ot){return ot&&"object"==typeof ot&&!Array.isArray(ot)}function mt(ot,Bt){let Se=Object.assign({},ot);return Me(ot)&&Me(Bt)&&Object.keys(Bt).forEach(Ge=>{Me(Bt[Ge])?Ge in ot?Se[Ge]=mt(ot[Ge],Bt[Ge]):Object.assign(Se,{[Ge]:Bt[Ge]}):Object.assign(Se,{[Ge]:Bt[Ge]})}),Se}class nn{}let qe=(()=>{class ot extends nn{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Se,Ge){let ft;return ft="string"==typeof Se?this.interpolateString(Se,Ge):"function"==typeof Se?this.interpolateFunction(Se,Ge):Se,ft}getValue(Se,Ge){let ft="string"==typeof Ge?Ge.split("."):[Ge];Ge="";do{Ge+=ft.shift(),!He(Se)||!He(Se[Ge])||"object"!=typeof Se[Ge]&&ft.length?ft.length?Ge+=".":Se=void 0:(Se=Se[Ge],Ge="")}while(ft.length);return Se}interpolateFunction(Se,Ge){return Se(Ge)}interpolateString(Se,Ge){return Ge?Se.replace(this.templateMatcher,(ft,Jt)=>{let rn=this.getValue(Ge,Jt);return He(rn)?rn:ft}):Se}}return ot.\u0275fac=function(){let Bt;return function(Ge){return(Bt||(Bt=u.n5z(ot)))(Ge||ot)}}(),ot.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class ie{}let je=(()=>{class ot extends ie{compile(Se,Ge){return Se}compileTranslations(Se,Ge){return Se}}return ot.\u0275fac=function(){let Bt;return function(Ge){return(Bt||(Bt=u.n5z(ot)))(Ge||ot)}}(),ot.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac}),ot})();class ve{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new u.vpe,this.onLangChange=new u.vpe,this.onDefaultLangChange=new u.vpe}}const _e=new u.OlP("USE_STORE"),Xe=new u.OlP("USE_DEFAULT_LANG"),be=new u.OlP("DEFAULT_LANGUAGE"),ze=new u.OlP("USE_EXTEND");let $e=(()=>{class ot{constructor(Se,Ge,ft,Jt,rn,Dn=!0,un=!1,Gn=!1,Vn){this.store=Se,this.currentLoader=Ge,this.compiler=ft,this.parser=Jt,this.missingTranslationHandler=rn,this.useDefaultLang=Dn,this.isolate=un,this.extend=Gn,this.pending=!1,this._onTranslationChange=new u.vpe,this._onLangChange=new u.vpe,this._onDefaultLangChange=new u.vpe,this._langs=[],this._translations={},this._translationRequests={},Vn&&this.setDefaultLang(Vn)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Se){this.isolate?this._defaultLang=Se:this.store.defaultLang=Se}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Se){this.isolate?this._currentLang=Se:this.store.currentLang=Se}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Se){this.isolate?this._langs=Se:this.store.langs=Se}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Se){this.isolate?this._translations=Se:this.store.translations=Se}setDefaultLang(Se){if(Se===this.defaultLang)return;let Ge=this.retrieveTranslations(Se);typeof Ge<"u"?(null==this.defaultLang&&(this.defaultLang=Se),Ge.pipe((0,Z.q)(1)).subscribe(ft=>{this.changeDefaultLang(Se)})):this.changeDefaultLang(Se)}getDefaultLang(){return this.defaultLang}use(Se){if(Se===this.currentLang)return(0,$.of)(this.translations[Se]);let Ge=this.retrieveTranslations(Se);return typeof Ge<"u"?(this.currentLang||(this.currentLang=Se),Ge.pipe((0,Z.q)(1)).subscribe(ft=>{this.changeLang(Se)}),Ge):(this.changeLang(Se),(0,$.of)(this.translations[Se]))}retrieveTranslations(Se){let Ge;return(typeof this.translations[Se]>"u"||this.extend)&&(this._translationRequests[Se]=this._translationRequests[Se]||this.getTranslation(Se),Ge=this._translationRequests[Se]),Ge}getTranslation(Se){this.pending=!0;const Ge=this.currentLoader.getTranslation(Se).pipe((0,ae.d)(1),(0,Z.q)(1));return this.loadingTranslations=Ge.pipe((0,X.U)(ft=>this.compiler.compileTranslations(ft,Se)),(0,ae.d)(1),(0,Z.q)(1)),this.loadingTranslations.subscribe({next:ft=>{this.translations[Se]=this.extend&&this.translations[Se]?{...ft,...this.translations[Se]}:ft,this.updateLangs(),this.pending=!1},error:ft=>{this.pending=!1}}),Ge}setTranslation(Se,Ge,ft=!1){Ge=this.compiler.compileTranslations(Ge,Se),this.translations[Se]=(ft||this.extend)&&this.translations[Se]?mt(this.translations[Se],Ge):Ge,this.updateLangs(),this.onTranslationChange.emit({lang:Se,translations:this.translations[Se]})}getLangs(){return this.langs}addLangs(Se){Se.forEach(Ge=>{-1===this.langs.indexOf(Ge)&&this.langs.push(Ge)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Se,Ge,ft){let Jt;if(Ge instanceof Array){let rn={},Dn=!1;for(let un of Ge)rn[un]=this.getParsedResult(Se,un,ft),(0,f.b)(rn[un])&&(Dn=!0);if(Dn){const un=Ge.map(Gn=>(0,f.b)(rn[Gn])?rn[Gn]:(0,$.of)(rn[Gn]));return(0,ye.D)(un).pipe((0,X.U)(Gn=>{let Vn={};return Gn.forEach((dn,Ri)=>{Vn[Ge[Ri]]=dn}),Vn}))}return rn}if(Se&&(Jt=this.parser.interpolate(this.parser.getValue(Se,Ge),ft)),typeof Jt>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Jt=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Ge),ft)),typeof Jt>"u"){let rn={key:Ge,translateService:this};typeof ft<"u"&&(rn.interpolateParams=ft),Jt=this.missingTranslationHandler.handle(rn)}return typeof Jt<"u"?Jt:Ge}get(Se,Ge){if(!He(Se)||!Se.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,ne.b)(ft=>(ft=this.getParsedResult(ft,Se,Ge),(0,f.b)(ft)?ft:(0,$.of)(ft))));{let ft=this.getParsedResult(this.translations[this.currentLang],Se,Ge);return(0,f.b)(ft)?ft:(0,$.of)(ft)}}getStreamOnTranslationChange(Se,Ge){if(!He(Se)||!Se.length)throw new Error('Parameter "key" required');return(0,K.z)((0,q.P)(()=>this.get(Se,Ge)),this.onTranslationChange.pipe((0,ue.w)(ft=>{const Jt=this.getParsedResult(ft.translations,Se,Ge);return"function"==typeof Jt.subscribe?Jt:(0,$.of)(Jt)})))}stream(Se,Ge){if(!He(Se)||!Se.length)throw new Error('Parameter "key" required');return(0,K.z)((0,q.P)(()=>this.get(Se,Ge)),this.onLangChange.pipe((0,ue.w)(ft=>{const Jt=this.getParsedResult(ft.translations,Se,Ge);return(0,f.b)(Jt)?Jt:(0,$.of)(Jt)})))}instant(Se,Ge){if(!He(Se)||!Se.length)throw new Error('Parameter "key" required');let ft=this.getParsedResult(this.translations[this.currentLang],Se,Ge);if((0,f.b)(ft)){if(Se instanceof Array){let Jt={};return Se.forEach((rn,Dn)=>{Jt[Se[Dn]]=Se[Dn]}),Jt}return Se}return ft}set(Se,Ge,ft=this.currentLang){this.translations[ft][Se]=this.compiler.compile(Ge,ft),this.updateLangs(),this.onTranslationChange.emit({lang:ft,translations:this.translations[ft]})}changeLang(Se){this.currentLang=Se,this.onLangChange.emit({lang:Se,translations:this.translations[Se]}),null==this.defaultLang&&this.changeDefaultLang(Se)}changeDefaultLang(Se){this.defaultLang=Se,this.onDefaultLangChange.emit({lang:Se,translations:this.translations[Se]})}reloadLang(Se){return this.resetLang(Se),this.getTranslation(Se)}resetLang(Se){this._translationRequests[Se]=void 0,this.translations[Se]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Se=window.navigator.languages?window.navigator.languages[0]:null;return Se=Se||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Se>"u"?void 0:(-1!==Se.indexOf("-")&&(Se=Se.split("-")[0]),-1!==Se.indexOf("_")&&(Se=Se.split("_")[0]),Se)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Se=window.navigator.languages?window.navigator.languages[0]:null;return Se=Se||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Se}}return ot.\u0275fac=function(Se){return new(Se||ot)(u.LFG(ve),u.LFG(he),u.LFG(ie),u.LFG(nn),u.LFG(Fe),u.LFG(Xe),u.LFG(_e),u.LFG(ze),u.LFG(be))},ot.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),st=(()=>{class ot{constructor(Se,Ge){this.translate=Se,this._ref=Ge,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Se,Ge,ft){let Jt=rn=>{this.value=void 0!==rn?rn:Se,this.lastKey=Se,this._ref.markForCheck()};if(ft){let rn=this.translate.getParsedResult(ft,Se,Ge);(0,f.b)(rn.subscribe)?rn.subscribe(Jt):Jt(rn)}this.translate.get(Se,Ge).subscribe(Jt)}transform(Se,...Ge){if(!Se||!Se.length)return Se;if(We(Se,this.lastKey)&&We(Ge,this.lastParams))return this.value;let ft;if(He(Ge[0])&&Ge.length)if("string"==typeof Ge[0]&&Ge[0].length){let Jt=Ge[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ft=JSON.parse(Jt)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Ge[0]}`)}}else"object"==typeof Ge[0]&&!Array.isArray(Ge[0])&&(ft=Ge[0]);return this.lastKey=Se,this.lastParams=Ge,this.updateValue(Se,ft),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Jt=>{this.lastKey&&Jt.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Se,ft,Jt.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Jt=>{this.lastKey&&(this.lastKey=null,this.updateValue(Se,ft,Jt.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Se,ft))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return ot.\u0275fac=function(Se){return new(Se||ot)(u.Y36($e,16),u.Y36(u.sBO,16))},ot.\u0275pipe=u.Yjl({name:"translate",type:ot,pure:!1}),ot.\u0275prov=u.Yz7({token:ot,factory:ot.\u0275fac}),ot})(),bt=(()=>{class ot{static forRoot(Se={}){return{ngModule:ot,providers:[Se.loader||{provide:he,useClass:Ne},Se.compiler||{provide:ie,useClass:je},Se.parser||{provide:nn,useClass:qe},Se.missingTranslationHandler||{provide:Fe,useClass:Le},ve,{provide:_e,useValue:Se.isolate},{provide:Xe,useValue:Se.useDefaultLang},{provide:ze,useValue:Se.extend},{provide:be,useValue:Se.defaultLanguage},$e]}}static forChild(Se={}){return{ngModule:ot,providers:[Se.loader||{provide:he,useClass:Ne},Se.compiler||{provide:ie,useClass:je},Se.parser||{provide:nn,useClass:qe},Se.missingTranslationHandler||{provide:Fe,useClass:Le},{provide:_e,useValue:Se.isolate},{provide:Xe,useValue:Se.useDefaultLang},{provide:ze,useValue:Se.extend},{provide:be,useValue:Se.defaultLanguage},$e]}}}return ot.\u0275fac=function(Se){return new(Se||ot)},ot.\u0275mod=u.oAB({type:ot}),ot.\u0275inj=u.cJS({}),ot})()},5657:(Vt,Be,k)=>{"use strict";k.d(Be,{N:()=>f});var u=k(4650),$=k(6895);let f=(()=>{class ye{constructor(q,Z){this.document=q,this.platformId=Z,this.documentIsAccessible=(0,$.NF)(this.platformId)}static getCookieRegExp(q){const Z=q.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+Z+"|;\\s*"+Z+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(q){try{return decodeURIComponent(q)}catch{return q}}check(q){return!!this.documentIsAccessible&&(q=encodeURIComponent(q),ye.getCookieRegExp(q).test(this.document.cookie))}get(q){if(this.documentIsAccessible&&this.check(q)){q=encodeURIComponent(q);const ae=ye.getCookieRegExp(q).exec(this.document.cookie);return ae[1]?ye.safeDecodeURIComponent(ae[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const q={},Z=this.document;return Z.cookie&&""!==Z.cookie&&Z.cookie.split(";").forEach(ae=>{const[X,ne]=ae.split("=");q[ye.safeDecodeURIComponent(X.replace(/^ /,""))]=ye.safeDecodeURIComponent(ne)}),q}set(q,Z,ae,X,ne,ue,he){if(!this.documentIsAccessible)return;if("number"==typeof ae||ae instanceof Date||X||ne||ue||he)return void this.set(q,Z,{expires:ae,path:X,domain:ne,secure:ue,sameSite:he||"Lax"});let Ne=encodeURIComponent(q)+"="+encodeURIComponent(Z)+";";const Fe=ae||{};Fe.expires&&(Ne+="number"==typeof Fe.expires?"expires="+new Date((new Date).getTime()+1e3*Fe.expires*60*60*24).toUTCString()+";":"expires="+Fe.expires.toUTCString()+";"),Fe.path&&(Ne+="path="+Fe.path+";"),Fe.domain&&(Ne+="domain="+Fe.domain+";"),!1===Fe.secure&&"None"===Fe.sameSite&&(Fe.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${q} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),Fe.secure&&(Ne+="secure;"),Fe.sameSite||(Fe.sameSite="Lax"),Ne+="sameSite="+Fe.sameSite+";",this.document.cookie=Ne}delete(q,Z,ae,X,ne="Lax"){if(!this.documentIsAccessible)return;const ue=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(q,"",{expires:ue,path:Z,domain:ae,secure:X,sameSite:ne})}deleteAll(q,Z,ae,X="Lax"){if(!this.documentIsAccessible)return;const ne=this.getAll();for(const ue in ne)ne.hasOwnProperty(ue)&&this.delete(ue,q,Z,ae,X)}}return ye.\u0275fac=function(q){return new(q||ye)(u.LFG($.K0),u.LFG(u.Lbi))},ye.\u0275prov=u.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})()},805:(Vt,Be,k)=>{"use strict";k.d(Be,{F0:()=>Fe,Y:()=>qe,b4:()=>Z,ez:()=>Ne,h4:()=>He,iZ:()=>ue,jx:()=>mt,m8:()=>nn,ws:()=>ae});var u=k(4650),$=k(7579),f=k(982),ye=k(6895);const K=["*"];let q=(()=>{class ie{}return ie.STARTS_WITH="startsWith",ie.CONTAINS="contains",ie.NOT_CONTAINS="notContains",ie.ENDS_WITH="endsWith",ie.EQUALS="equals",ie.NOT_EQUALS="notEquals",ie.IN="in",ie.LESS_THAN="lt",ie.LESS_THAN_OR_EQUAL_TO="lte",ie.GREATER_THAN="gt",ie.GREATER_THAN_OR_EQUAL_TO="gte",ie.BETWEEN="between",ie.IS="is",ie.IS_NOT="isNot",ie.BEFORE="before",ie.AFTER="after",ie.DATE_IS="dateIs",ie.DATE_IS_NOT="dateIsNot",ie.DATE_BEFORE="dateBefore",ie.DATE_AFTER="dateAfter",ie})(),Z=(()=>{class ie{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[q.STARTS_WITH,q.CONTAINS,q.NOT_CONTAINS,q.ENDS_WITH,q.EQUALS,q.NOT_EQUALS],numeric:[q.EQUALS,q.NOT_EQUALS,q.LESS_THAN,q.LESS_THAN_OR_EQUAL_TO,q.GREATER_THAN,q.GREATER_THAN_OR_EQUAL_TO],date:[q.DATE_IS,q.DATE_IS_NOT,q.DATE_BEFORE,q.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new $.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(ve){return this.translation[ve]}setTranslation(ve){this.translation={...this.translation,...ve},this.translationSource.next(this.translation)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),ae=(()=>{class ie{}return ie.STARTS_WITH="startsWith",ie.CONTAINS="contains",ie.NOT_CONTAINS="notContains",ie.ENDS_WITH="endsWith",ie.EQUALS="equals",ie.NOT_EQUALS="notEquals",ie.NO_FILTER="noFilter",ie.LT="lt",ie.LTE="lte",ie.GT="gt",ie.GTE="gte",ie.IS="is",ie.IS_NOT="isNot",ie.BEFORE="before",ie.AFTER="after",ie.CLEAR="clear",ie.APPLY="apply",ie.MATCH_ALL="matchAll",ie.MATCH_ANY="matchAny",ie.ADD_RULE="addRule",ie.REMOVE_RULE="removeRule",ie.ACCEPT="accept",ie.REJECT="reject",ie.CHOOSE="choose",ie.UPLOAD="upload",ie.CANCEL="cancel",ie.DAY_NAMES="dayNames",ie.DAY_NAMES_SHORT="dayNamesShort",ie.DAY_NAMES_MIN="dayNamesMin",ie.MONTH_NAMES="monthNames",ie.MONTH_NAMES_SHORT="monthNamesShort",ie.FIRST_DAY_OF_WEEK="firstDayOfWeek",ie.TODAY="today",ie.WEEK_HEADER="weekHeader",ie.WEAK="weak",ie.MEDIUM="medium",ie.STRONG="strong",ie.PASSWORD_PROMPT="passwordPrompt",ie.EMPTY_MESSAGE="emptyMessage",ie.EMPTY_FILTER_MESSAGE="emptyFilterMessage",ie})(),ue=(()=>{class ie{constructor(){this.filters={startsWith:(ve,_e,Xe)=>{if(null==_e||""===_e.trim())return!0;if(null==ve)return!1;let be=f.gb.removeAccents(_e.toString()).toLocaleLowerCase(Xe);return f.gb.removeAccents(ve.toString()).toLocaleLowerCase(Xe).slice(0,be.length)===be},contains:(ve,_e,Xe)=>{if(null==_e||"string"==typeof _e&&""===_e.trim())return!0;if(null==ve)return!1;let be=f.gb.removeAccents(_e.toString()).toLocaleLowerCase(Xe);return-1!==f.gb.removeAccents(ve.toString()).toLocaleLowerCase(Xe).indexOf(be)},notContains:(ve,_e,Xe)=>{if(null==_e||"string"==typeof _e&&""===_e.trim())return!0;if(null==ve)return!1;let be=f.gb.removeAccents(_e.toString()).toLocaleLowerCase(Xe);return-1===f.gb.removeAccents(ve.toString()).toLocaleLowerCase(Xe).indexOf(be)},endsWith:(ve,_e,Xe)=>{if(null==_e||""===_e.trim())return!0;if(null==ve)return!1;let be=f.gb.removeAccents(_e.toString()).toLocaleLowerCase(Xe),ze=f.gb.removeAccents(ve.toString()).toLocaleLowerCase(Xe);return-1!==ze.indexOf(be,ze.length-be.length)},equals:(ve,_e,Xe)=>null==_e||"string"==typeof _e&&""===_e.trim()||null!=ve&&(ve.getTime&&_e.getTime?ve.getTime()===_e.getTime():f.gb.removeAccents(ve.toString()).toLocaleLowerCase(Xe)==f.gb.removeAccents(_e.toString()).toLocaleLowerCase(Xe)),notEquals:(ve,_e,Xe)=>!(null==_e||"string"==typeof _e&&""===_e.trim()||null!=ve&&(ve.getTime&&_e.getTime?ve.getTime()===_e.getTime():f.gb.removeAccents(ve.toString()).toLocaleLowerCase(Xe)==f.gb.removeAccents(_e.toString()).toLocaleLowerCase(Xe))),in:(ve,_e)=>{if(null==_e||0===_e.length)return!0;for(let Xe=0;Xe<_e.length;Xe++)if(f.gb.equals(ve,_e[Xe]))return!0;return!1},between:(ve,_e)=>null==_e||null==_e[0]||null==_e[1]||null!=ve&&(ve.getTime?_e[0].getTime()<=ve.getTime()&&ve.getTime()<=_e[1].getTime():_e[0]<=ve&&ve<=_e[1]),lt:(ve,_e,Xe)=>null==_e||null!=ve&&(ve.getTime&&_e.getTime?ve.getTime()<_e.getTime():ve<_e),lte:(ve,_e,Xe)=>null==_e||null!=ve&&(ve.getTime&&_e.getTime?ve.getTime()<=_e.getTime():ve<=_e),gt:(ve,_e,Xe)=>null==_e||null!=ve&&(ve.getTime&&_e.getTime?ve.getTime()>_e.getTime():ve>_e),gte:(ve,_e,Xe)=>null==_e||null!=ve&&(ve.getTime&&_e.getTime?ve.getTime()>=_e.getTime():ve>=_e),is:(ve,_e,Xe)=>this.filters.equals(ve,_e,Xe),isNot:(ve,_e,Xe)=>this.filters.notEquals(ve,_e,Xe),before:(ve,_e,Xe)=>this.filters.lt(ve,_e,Xe),after:(ve,_e,Xe)=>this.filters.gt(ve,_e,Xe),dateIs:(ve,_e)=>null==_e||null!=ve&&ve.toDateString()===_e.toDateString(),dateIsNot:(ve,_e)=>null==_e||null!=ve&&ve.toDateString()!==_e.toDateString(),dateBefore:(ve,_e)=>null==_e||null!=ve&&ve.getTime()<_e.getTime(),dateAfter:(ve,_e)=>null==_e||null!=ve&&ve.getTime()>_e.getTime()}}filter(ve,_e,Xe,be,ze){let $e=[];if(ve)for(let lt of ve)for(let st of _e){let bt=f.gb.resolveFieldData(lt,st);if(this.filters[be](bt,Xe,ze)){$e.push(lt);break}}return $e}register(ve,_e){this.filters[ve]=_e}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),Ne=(()=>{class ie{constructor(){this.messageSource=new $.x,this.clearSource=new $.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(ve){ve&&this.messageSource.next(ve)}addAll(ve){ve&&ve.length&&this.messageSource.next(ve)}clear(ve){this.clearSource.next(ve||null)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Fe=(()=>{class ie{constructor(){this.clickSource=new $.x,this.clickObservable=this.clickSource.asObservable()}add(ve){ve&&this.clickSource.next(ve)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),He=(()=>{class ie{}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275cmp=u.Xpm({type:ie,selectors:[["p-header"]],ngContentSelectors:K,decls:1,vars:0,template:function(ve,_e){1&ve&&(u.F$t(),u.Hsn(0))},encapsulation:2}),ie})(),mt=(()=>{class ie{constructor(ve){this.template=ve}getType(){return this.name}}return ie.\u0275fac=function(ve){return new(ve||ie)(u.Y36(u.Rgc))},ie.\u0275dir=u.lG2({type:ie,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),ie})(),nn=(()=>{class ie{}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275mod=u.oAB({type:ie}),ie.\u0275inj=u.cJS({imports:[[ye.ez]]}),ie})(),qe=(()=>{class ie{constructor(){this.dragStartSource=new $.x,this.dragStopSource=new $.x,this.dragStart$=this.dragStartSource.asObservable(),this.dragStop$=this.dragStopSource.asObservable()}startDrag(ve){this.dragStartSource.next(ve)}stopDrag(ve){this.dragStopSource.next(ve)}}return ie.\u0275fac=function(ve){return new(ve||ie)},ie.\u0275prov=u.Yz7({token:ie,factory:ie.\u0275fac}),ie})()},5593:(Vt,Be,k)=>{"use strict";k.d(Be,{Hq:()=>Ne,hJ:()=>Le,zx:()=>Fe});var u=k(4650),$=k(9592),f=k(6895),ye=k(1795),K=k(805);function q(We,He){1&We&&u.GkF(0)}const Z=function(We,He,Me,mt){return{"p-button-icon":!0,"p-button-icon-left":We,"p-button-icon-right":He,"p-button-icon-top":Me,"p-button-icon-bottom":mt}};function ae(We,He){if(1&We&&u._UZ(0,"span",4),2&We){const Me=u.oxw();u.Tol(Me.loading?"p-button-loading-icon "+Me.loadingIcon:Me.icon),u.Q6J("ngClass",u.l5B(4,Z,"left"===Me.iconPos&&Me.label,"right"===Me.iconPos&&Me.label,"top"===Me.iconPos&&Me.label,"bottom"===Me.iconPos&&Me.label)),u.uIk("aria-hidden",!0)}}function X(We,He){if(1&We&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&We){const Me=u.oxw();u.uIk("aria-hidden",Me.icon&&!Me.label),u.xp6(1),u.Oqu(Me.label||"\xa0")}}function ne(We,He){if(1&We&&(u.TgZ(0,"span",4),u._uU(1),u.qZA()),2&We){const Me=u.oxw();u.Tol(Me.badgeClass),u.Q6J("ngClass",Me.badgeStyleClass()),u.xp6(1),u.Oqu(Me.badge)}}const ue=function(We,He,Me,mt,nn){return{"p-button p-component":!0,"p-button-icon-only":We,"p-button-vertical":He,"p-disabled":Me,"p-button-loading":mt,"p-button-loading-label-only":nn}},he=["*"];let Ne=(()=>{class We{constructor(Me){this.el=Me,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,$.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let Me=document.createElement("span");this.icon&&!this.label&&Me.setAttribute("aria-hidden","true"),Me.className="p-button-label",this.label?Me.appendChild(document.createTextNode(this.label)):Me.innerHTML="&nbsp;",this.el.nativeElement.appendChild(Me),this.initialized=!0}getStyleClass(){let Me="p-button p-component";return this.icon&&!this.label&&(Me+=" p-button-icon-only"),this.loading&&(Me+=" p-disabled p-button-loading",!this.icon&&this.label&&(Me+=" p-button-loading-label-only")),Me}setStyleClass(){let Me=this.getStyleClass();this.el.nativeElement.className=Me+" "+this._initialStyleClass}createIconEl(){let Me=document.createElement("span");Me.className="p-button-icon",Me.setAttribute("aria-hidden","true");let mt=this.label?"p-button-icon-"+this.iconPos:null;mt&&$.p.addClass(Me,mt);let nn=this.getIconClass();nn&&$.p.addMultipleClasses(Me,nn);let qe=$.p.findSingle(this.el.nativeElement,".p-button-label");qe?this.el.nativeElement.insertBefore(Me,qe):this.el.nativeElement.appendChild(Me)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let Me=$.p.findSingle(this.el.nativeElement,".p-button-icon");Me?Me.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let Me=$.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(Me)}get label(){return this._label}set label(Me){this._label=Me,this.initialized&&($.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(Me){this._icon=Me,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(Me){this._loading=Me,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return We.\u0275fac=function(Me){return new(Me||We)(u.Y36(u.SBq))},We.\u0275dir=u.lG2({type:We,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),We})(),Fe=(()=>{class We{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new u.vpe,this.onFocus=new u.vpe,this.onBlur=new u.vpe}ngAfterContentInit(){this.templates.forEach(Me=>{Me.getType(),this.contentTemplate=Me.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return We.\u0275fac=function(Me){return new(Me||We)},We.\u0275cmp=u.Xpm({type:We,selectors:[["p-button"]],contentQueries:function(Me,mt,nn){if(1&Me&&u.Suo(nn,K.jx,4),2&Me){let qe;u.iGM(qe=u.CRH())&&(mt.templates=qe)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:he,decls:6,vars:17,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(Me,mt){1&Me&&(u.F$t(),u.TgZ(0,"button",0),u.NdJ("click",function(qe){return mt.onClick.emit(qe)})("focus",function(qe){return mt.onFocus.emit(qe)})("blur",function(qe){return mt.onBlur.emit(qe)}),u.Hsn(1),u.YNc(2,q,1,0,"ng-container",1),u.YNc(3,ae,1,9,"span",2),u.YNc(4,X,2,2,"span",3),u.YNc(5,ne,2,4,"span",2),u.qZA()),2&Me&&(u.Tol(mt.styleClass),u.Q6J("ngStyle",mt.style)("disabled",mt.disabled||mt.loading)("ngClass",u.qbA(11,ue,mt.icon&&!mt.label,("top"===mt.iconPos||"bottom"===mt.iconPos)&&mt.label,mt.disabled||mt.loading,mt.loading,mt.loading&&!mt.icon&&mt.label)),u.uIk("type",mt.type)("aria-label",mt.ariaLabel),u.xp6(2),u.Q6J("ngTemplateOutlet",mt.contentTemplate),u.xp6(1),u.Q6J("ngIf",!mt.contentTemplate&&(mt.icon||mt.loading)),u.xp6(1),u.Q6J("ngIf",!mt.contentTemplate),u.xp6(1),u.Q6J("ngIf",!mt.contentTemplate&&mt.badge))},dependencies:[ye.H,f.PC,f.mk,f.tP,f.O5],encapsulation:2,changeDetection:0}),We})(),Le=(()=>{class We{}return We.\u0275fac=function(Me){return new(Me||We)},We.\u0275mod=u.oAB({type:We}),We.\u0275inj=u.cJS({imports:[[f.ez,ye.T]]}),We})()},9592:(Vt,Be,k)=>{"use strict";k.d(Be,{V:()=>$,p:()=>u});let u=(()=>{class f{static addClass(K,q){K.classList?K.classList.add(q):K.className+=" "+q}static addMultipleClasses(K,q){if(K.classList){let Z=q.trim().split(" ");for(let ae=0;ae<Z.length;ae++)K.classList.add(Z[ae])}else{let Z=q.split(" ");for(let ae=0;ae<Z.length;ae++)K.className+=" "+Z[ae]}}static removeClass(K,q){K.classList?K.classList.remove(q):K.className=K.className.replace(new RegExp("(^|\\b)"+q.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(K,q){return K.classList?K.classList.contains(q):new RegExp("(^| )"+q+"( |$)","gi").test(K.className)}static siblings(K){return Array.prototype.filter.call(K.parentNode.children,function(q){return q!==K})}static find(K,q){return Array.from(K.querySelectorAll(q))}static findSingle(K,q){return K?K.querySelector(q):null}static index(K){let q=K.parentNode.childNodes,Z=0;for(var ae=0;ae<q.length;ae++){if(q[ae]==K)return Z;1==q[ae].nodeType&&Z++}return-1}static indexWithinGroup(K,q){let Z=K.parentNode?K.parentNode.childNodes:[],ae=0;for(var X=0;X<Z.length;X++){if(Z[X]==K)return ae;Z[X].attributes&&Z[X].attributes[q]&&1==Z[X].nodeType&&ae++}return-1}static relativePosition(K,q){let Z=K.offsetParent?{width:K.offsetWidth,height:K.offsetHeight}:this.getHiddenElementDimensions(K);const ae=q.offsetHeight,X=q.getBoundingClientRect(),ne=this.getViewport();let ue,he;X.top+ae+Z.height>ne.height?(ue=-1*Z.height,K.style.transformOrigin="bottom",X.top+ue<0&&(ue=-1*X.top)):(ue=ae,K.style.transformOrigin="top"),he=Z.width>ne.width?-1*X.left:X.left+Z.width>ne.width?-1*(X.left+Z.width-ne.width):0,K.style.top=ue+"px",K.style.left=he+"px"}static absolutePosition(K,q){let We,He,Z=K.offsetParent?{width:K.offsetWidth,height:K.offsetHeight}:this.getHiddenElementDimensions(K),ae=Z.height,X=Z.width,ne=q.offsetHeight,ue=q.offsetWidth,he=q.getBoundingClientRect(),Ne=this.getWindowScrollTop(),Fe=this.getWindowScrollLeft(),Le=this.getViewport();he.top+ne+ae>Le.height?(We=he.top+Ne-ae,K.style.transformOrigin="bottom",We<0&&(We=Ne)):(We=ne+he.top+Ne,K.style.transformOrigin="top"),He=he.left+X>Le.width?Math.max(0,he.left+Fe+ue-X):he.left+Fe,K.style.top=We+"px",K.style.left=He+"px"}static getParents(K,q=[]){return null===K.parentNode?q:this.getParents(K.parentNode,q.concat([K.parentNode]))}static getScrollableParents(K){let q=[];if(K){let Z=this.getParents(K);const ae=/(auto|scroll)/,X=ne=>{let ue=window.getComputedStyle(ne,null);return ae.test(ue.getPropertyValue("overflow"))||ae.test(ue.getPropertyValue("overflowX"))||ae.test(ue.getPropertyValue("overflowY"))};for(let ne of Z){let ue=1===ne.nodeType&&ne.dataset.scrollselectors;if(ue){let he=ue.split(",");for(let Ne of he){let Fe=this.findSingle(ne,Ne);Fe&&X(Fe)&&q.push(Fe)}}9!==ne.nodeType&&X(ne)&&q.push(ne)}}return q}static getHiddenElementOuterHeight(K){K.style.visibility="hidden",K.style.display="block";let q=K.offsetHeight;return K.style.display="none",K.style.visibility="visible",q}static getHiddenElementOuterWidth(K){K.style.visibility="hidden",K.style.display="block";let q=K.offsetWidth;return K.style.display="none",K.style.visibility="visible",q}static getHiddenElementDimensions(K){let q={};return K.style.visibility="hidden",K.style.display="block",q.width=K.offsetWidth,q.height=K.offsetHeight,K.style.display="none",K.style.visibility="visible",q}static scrollInView(K,q){let Z=getComputedStyle(K).getPropertyValue("borderTopWidth"),ae=Z?parseFloat(Z):0,X=getComputedStyle(K).getPropertyValue("paddingTop"),ne=X?parseFloat(X):0,ue=K.getBoundingClientRect(),Ne=q.getBoundingClientRect().top+document.body.scrollTop-(ue.top+document.body.scrollTop)-ae-ne,Fe=K.scrollTop,Le=K.clientHeight,We=this.getOuterHeight(q);Ne<0?K.scrollTop=Fe+Ne:Ne+We>Le&&(K.scrollTop=Fe+Ne-Le+We)}static fadeIn(K,q){K.style.opacity=0;let Z=+new Date,ae=0,X=function(){ae=+K.style.opacity.replace(",",".")+((new Date).getTime()-Z)/q,K.style.opacity=ae,Z=+new Date,+ae<1&&(window.requestAnimationFrame&&requestAnimationFrame(X)||setTimeout(X,16))};X()}static fadeOut(K,q){var Z=1,ne=50/q;let ue=setInterval(()=>{(Z-=ne)<=0&&(Z=0,clearInterval(ue)),K.style.opacity=Z},50)}static getWindowScrollTop(){let K=document.documentElement;return(window.pageYOffset||K.scrollTop)-(K.clientTop||0)}static getWindowScrollLeft(){let K=document.documentElement;return(window.pageXOffset||K.scrollLeft)-(K.clientLeft||0)}static matches(K,q){var Z=Element.prototype;return(Z.matches||Z.webkitMatchesSelector||Z.mozMatchesSelector||Z.msMatchesSelector||function(X){return-1!==[].indexOf.call(document.querySelectorAll(X),this)}).call(K,q)}static getOuterWidth(K,q){let Z=K.offsetWidth;if(q){let ae=getComputedStyle(K);Z+=parseFloat(ae.marginLeft)+parseFloat(ae.marginRight)}return Z}static getHorizontalPadding(K){let q=getComputedStyle(K);return parseFloat(q.paddingLeft)+parseFloat(q.paddingRight)}static getHorizontalMargin(K){let q=getComputedStyle(K);return parseFloat(q.marginLeft)+parseFloat(q.marginRight)}static innerWidth(K){let q=K.offsetWidth,Z=getComputedStyle(K);return q+=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight),q}static width(K){let q=K.offsetWidth,Z=getComputedStyle(K);return q-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight),q}static getInnerHeight(K){let q=K.offsetHeight,Z=getComputedStyle(K);return q+=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom),q}static getOuterHeight(K,q){let Z=K.offsetHeight;if(q){let ae=getComputedStyle(K);Z+=parseFloat(ae.marginTop)+parseFloat(ae.marginBottom)}return Z}static getHeight(K){let q=K.offsetHeight,Z=getComputedStyle(K);return q-=parseFloat(Z.paddingTop)+parseFloat(Z.paddingBottom)+parseFloat(Z.borderTopWidth)+parseFloat(Z.borderBottomWidth),q}static getWidth(K){let q=K.offsetWidth,Z=getComputedStyle(K);return q-=parseFloat(Z.paddingLeft)+parseFloat(Z.paddingRight)+parseFloat(Z.borderLeftWidth)+parseFloat(Z.borderRightWidth),q}static getViewport(){let K=window,q=document,Z=q.documentElement,ae=q.getElementsByTagName("body")[0];return{width:K.innerWidth||Z.clientWidth||ae.clientWidth,height:K.innerHeight||Z.clientHeight||ae.clientHeight}}static getOffset(K){var q=K.getBoundingClientRect();return{top:q.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:q.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(K,q){let Z=K.parentNode;if(!Z)throw"Can't replace element";return Z.replaceChild(q,K)}static getUserAgent(){return navigator.userAgent}static isIE(){var K=window.navigator.userAgent;return K.indexOf("MSIE ")>0||(K.indexOf("Trident/")>0?(K.indexOf("rv:"),!0):K.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(K,q){if(this.isElement(q))q.appendChild(K);else{if(!q.el||!q.el.nativeElement)throw"Cannot append "+q+" to "+K;q.el.nativeElement.appendChild(K)}}static removeChild(K,q){if(this.isElement(q))q.removeChild(K);else{if(!q.el||!q.el.nativeElement)throw"Cannot remove "+K+" from "+q;q.el.nativeElement.removeChild(K)}}static removeElement(K){"remove"in Element.prototype?K.remove():K.parentNode.removeChild(K)}static isElement(K){return"object"==typeof HTMLElement?K instanceof HTMLElement:K&&"object"==typeof K&&null!==K&&1===K.nodeType&&"string"==typeof K.nodeName}static calculateScrollbarWidth(K){if(K){let q=getComputedStyle(K);return K.offsetWidth-K.clientWidth-parseFloat(q.borderLeftWidth)-parseFloat(q.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let q=document.createElement("div");q.className="p-scrollbar-measure",document.body.appendChild(q);let Z=q.offsetWidth-q.clientWidth;return document.body.removeChild(q),this.calculatedScrollbarWidth=Z,Z}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let K=document.createElement("div");K.className="p-scrollbar-measure",document.body.appendChild(K);let q=K.offsetHeight-K.clientHeight;return document.body.removeChild(K),this.calculatedScrollbarWidth=q,q}static invokeElementMethod(K,q,Z){K[q].apply(K,Z)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let K=this.resolveUserAgent();this.browser={},K.browser&&(this.browser[K.browser]=!0,this.browser.version=K.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let K=navigator.userAgent.toLowerCase(),q=/(chrome)[ \/]([\w.]+)/.exec(K)||/(webkit)[ \/]([\w.]+)/.exec(K)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(K)||/(msie) ([\w.]+)/.exec(K)||K.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(K)||[];return{browser:q[1]||"",version:q[2]||"0"}}static isInteger(K){return Number.isInteger?Number.isInteger(K):"number"==typeof K&&isFinite(K)&&Math.floor(K)===K}static isHidden(K){return null===K.offsetParent}static getFocusableElements(K){let q=f.find(K,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),Z=[];for(let ae of q)"none"!=getComputedStyle(ae).display&&"hidden"!=getComputedStyle(ae).visibility&&Z.push(ae);return Z}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return f.zindex=1e3,f.calculatedScrollbarWidth=null,f.calculatedScrollbarHeight=null,f})();class ${constructor(ye,K=(()=>{})){this.element=ye,this.listener=K}bindScrollListener(){this.scrollableParents=u.getScrollableParents(this.element);for(let ye=0;ye<this.scrollableParents.length;ye++)this.scrollableParents[ye].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let ye=0;ye<this.scrollableParents.length;ye++)this.scrollableParents[ye].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},1795:(Vt,Be,k)=>{"use strict";k.d(Be,{H:()=>K,T:()=>q});var u=k(4650),$=k(6895),f=k(9592),ye=k(805);let K=(()=>{class Z{constructor(X,ne,ue){this.el=X,this.zone=ne,this.config=ue}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(X){let ne=this.getInk();if(!ne||"none"===getComputedStyle(ne,null).display)return;if(f.p.removeClass(ne,"p-ink-active"),!f.p.getHeight(ne)&&!f.p.getWidth(ne)){let Fe=Math.max(f.p.getOuterWidth(this.el.nativeElement),f.p.getOuterHeight(this.el.nativeElement));ne.style.height=Fe+"px",ne.style.width=Fe+"px"}let ue=f.p.getOffset(this.el.nativeElement),he=X.pageX-ue.left+document.body.scrollTop-f.p.getWidth(ne)/2,Ne=X.pageY-ue.top+document.body.scrollLeft-f.p.getHeight(ne)/2;ne.style.top=Ne+"px",ne.style.left=he+"px",f.p.addClass(ne,"p-ink-active")}getInk(){for(let X=0;X<this.el.nativeElement.children.length;X++)if(-1!==this.el.nativeElement.children[X].className.indexOf("p-ink"))return this.el.nativeElement.children[X];return null}resetInk(){let X=this.getInk();X&&f.p.removeClass(X,"p-ink-active")}onAnimationEnd(X){f.p.removeClass(X.currentTarget,"p-ink-active")}create(){let X=document.createElement("span");X.className="p-ink",this.el.nativeElement.appendChild(X),this.animationListener=this.onAnimationEnd.bind(this),X.addEventListener("animationend",this.animationListener)}remove(){let X=this.getInk();X&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),X.removeEventListener("animationend",this.animationListener),f.p.removeElement(X))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return Z.\u0275fac=function(X){return new(X||Z)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ye.b4,8))},Z.\u0275dir=u.lG2({type:Z,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),Z})(),q=(()=>{class Z{}return Z.\u0275fac=function(X){return new(X||Z)},Z.\u0275mod=u.oAB({type:Z}),Z.\u0275inj=u.cJS({imports:[[$.ez]]}),Z})()},3608:(Vt,Be,k)=>{"use strict";k.d(Be,{u:()=>q,z:()=>Z});var u=k(4650),$=k(6895),f=k(9592),ye=k(982),K=k(805);let q=(()=>{class ae{constructor(ne,ue,he){this.el=ne,this.zone=ue,this.config=he,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!0,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(ne){this._disabled=ne,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(ne){ne.tooltipPosition&&this.setOption({tooltipPosition:ne.tooltipPosition.currentValue}),ne.tooltipEvent&&this.setOption({tooltipEvent:ne.tooltipEvent.currentValue}),ne.appendTo&&this.setOption({appendTo:ne.appendTo.currentValue}),ne.positionStyle&&this.setOption({positionStyle:ne.positionStyle.currentValue}),ne.tooltipStyleClass&&this.setOption({tooltipStyleClass:ne.tooltipStyleClass.currentValue}),ne.tooltipZIndex&&this.setOption({tooltipZIndex:ne.tooltipZIndex.currentValue}),ne.escape&&this.setOption({escape:ne.escape.currentValue}),ne.showDelay&&this.setOption({showDelay:ne.showDelay.currentValue}),ne.hideDelay&&this.setOption({hideDelay:ne.hideDelay.currentValue}),ne.life&&this.setOption({life:ne.life.currentValue}),ne.positionTop&&this.setOption({positionTop:ne.positionTop.currentValue}),ne.positionLeft&&this.setOption({positionLeft:ne.positionLeft.currentValue}),ne.disabled&&this.setOption({disabled:ne.disabled.currentValue}),ne.text&&(this.setOption({tooltipLabel:ne.text.currentValue}),this.active&&(ne.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),ne.tooltipOptions&&(this._tooltipOptions={...this._tooltipOptions,...ne.tooltipOptions.currentValue},this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(ne){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(ne){this.deactivate()}onFocus(ne){this.activate()}onBlur(ne){this.deactivate()}onClick(ne){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let ne=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},ne)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let ne=document.createElement("div");ne.className="p-tooltip-arrow",this.container.appendChild(ne),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?f.p.appendChild(this.container,this.el.nativeElement):f.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),f.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?ye.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&ye.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let ne=this.el.nativeElement.getBoundingClientRect();return{left:ne.left+f.p.getWindowScrollLeft(),top:ne.top+f.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let ne=this.getHostOffset(),ue=ne.left+f.p.getOuterWidth(this.el.nativeElement),he=ne.top+(f.p.getOuterHeight(this.el.nativeElement)-f.p.getOuterHeight(this.container))/2;this.container.style.left=ue+this.getOption("positionLeft")+"px",this.container.style.top=he+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let ne=this.getHostOffset(),ue=ne.left-f.p.getOuterWidth(this.container),he=ne.top+(f.p.getOuterHeight(this.el.nativeElement)-f.p.getOuterHeight(this.container))/2;this.container.style.left=ue+this.getOption("positionLeft")+"px",this.container.style.top=he+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let ne=this.getHostOffset(),ue=ne.left+(f.p.getOuterWidth(this.el.nativeElement)-f.p.getOuterWidth(this.container))/2,he=ne.top-f.p.getOuterHeight(this.container);this.container.style.left=ue+this.getOption("positionLeft")+"px",this.container.style.top=he+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let ne=this.getHostOffset(),ue=ne.left+(f.p.getOuterWidth(this.el.nativeElement)-f.p.getOuterWidth(this.container))/2,he=ne.top+f.p.getOuterHeight(this.el.nativeElement);this.container.style.left=ue+this.getOption("positionLeft")+"px",this.container.style.top=he+this.getOption("positionTop")+"px"}setOption(ne){this._tooltipOptions={...this._tooltipOptions,...ne}}getOption(ne){return this._tooltipOptions[ne]}preAlign(ne){this.container.style.left="-999px",this.container.style.top="-999px";let ue="p-tooltip p-component p-tooltip-"+ne;this.container.className=this.getOption("tooltipStyleClass")?ue+" "+this.getOption("tooltipStyleClass"):ue}isOutOfBounds(){let ne=this.container.getBoundingClientRect(),ue=ne.top,he=ne.left,Ne=f.p.getOuterWidth(this.container),Fe=f.p.getOuterHeight(this.container),Le=f.p.getViewport();return he+Ne>Le.width||he<0||ue<0||ue+Fe>Le.height}onWindowResize(ne){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new f.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):f.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&ye.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return ae.\u0275fac=function(ne){return new(ne||ae)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(K.b4))},ae.\u0275dir=u.lG2({type:ae,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[u.TTD]}),ae})(),Z=(()=>{class ae{}return ae.\u0275fac=function(ne){return new(ne||ae)},ae.\u0275mod=u.oAB({type:ae}),ae.\u0275inj=u.cJS({imports:[[$.ez]]}),ae})()},982:(Vt,Be,k)=>{"use strict";k.d(Be,{P9:()=>K,Th:()=>f,gb:()=>u});class u{static equals(Z,ae,X){return X?this.resolveFieldData(Z,X)===this.resolveFieldData(ae,X):this.equalsByValue(Z,ae)}static equalsByValue(Z,ae){if(Z===ae)return!0;if(Z&&ae&&"object"==typeof Z&&"object"==typeof ae){var ue,he,Ne,X=Array.isArray(Z),ne=Array.isArray(ae);if(X&&ne){if((he=Z.length)!=ae.length)return!1;for(ue=he;0!=ue--;)if(!this.equalsByValue(Z[ue],ae[ue]))return!1;return!0}if(X!=ne)return!1;var Fe=Z instanceof Date,Le=ae instanceof Date;if(Fe!=Le)return!1;if(Fe&&Le)return Z.getTime()==ae.getTime();var We=Z instanceof RegExp,He=ae instanceof RegExp;if(We!=He)return!1;if(We&&He)return Z.toString()==ae.toString();var Me=Object.keys(Z);if((he=Me.length)!==Object.keys(ae).length)return!1;for(ue=he;0!=ue--;)if(!Object.prototype.hasOwnProperty.call(ae,Me[ue]))return!1;for(ue=he;0!=ue--;)if(!this.equalsByValue(Z[Ne=Me[ue]],ae[Ne]))return!1;return!0}return Z!=Z&&ae!=ae}static resolveFieldData(Z,ae){if(Z&&ae){if(this.isFunction(ae))return ae(Z);if(-1==ae.indexOf("."))return Z[ae];{let X=ae.split("."),ne=Z;for(let ue=0,he=X.length;ue<he;++ue){if(null==ne)return null;ne=ne[X[ue]]}return ne}}return null}static isFunction(Z){return!!(Z&&Z.constructor&&Z.call&&Z.apply)}static reorderArray(Z,ae,X){Z&&ae!==X&&(X>=Z.length&&(X%=Z.length,ae%=Z.length),Z.splice(X,0,Z.splice(ae,1)[0]))}static insertIntoOrderedArray(Z,ae,X,ne){if(X.length>0){let ue=!1;for(let he=0;he<X.length;he++)if(this.findIndexInList(X[he],ne)>ae){X.splice(he,0,Z),ue=!0;break}ue||X.push(Z)}else X.push(Z)}static findIndexInList(Z,ae){let X=-1;if(ae)for(let ne=0;ne<ae.length;ne++)if(ae[ne]==Z){X=ne;break}return X}static contains(Z,ae){if(null!=Z&&ae&&ae.length)for(let X of ae)if(this.equals(Z,X))return!0;return!1}static removeAccents(Z){return Z&&Z.search(/[\xC0-\xFF]/g)>-1&&(Z=Z.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),Z}static isEmpty(Z){return null==Z||""===Z||Array.isArray(Z)&&0===Z.length||!(Z instanceof Date)&&"object"==typeof Z&&0===Object.keys(Z).length}static isNotEmpty(Z){return!this.isEmpty(Z)}}var $=0;function f(){return"pr_id_"+ ++$}var K=function ye(){let q=[];const ne=ue=>ue&&parseInt(ue.style.zIndex,10)||0;return{get:ne,set:(ue,he,Ne)=>{he&&(he.style.zIndex=String(((ue,he)=>{let Ne=q.length>0?q[q.length-1]:{key:ue,value:he},Fe=Ne.value+(Ne.key===ue?0:he)+1;return q.push({key:ue,value:Fe}),Fe})(ue,Ne)))},clear:ue=>{ue&&((ue=>{q=q.filter(he=>he.value!==ue)})(ne(ue)),ue.style.zIndex="")},getCurrent:()=>q.length>0?q[q.length-1].value:0}}()},5861:(Vt,Be,k)=>{"use strict";function u(f,ye,K,q,Z,ae,X){try{var ne=f[ae](X),ue=ne.value}catch(he){return void K(he)}ne.done?ye(ue):Promise.resolve(ue).then(q,Z)}function $(f){return function(){var ye=this,K=arguments;return new Promise(function(q,Z){var ae=f.apply(ye,K);function X(ue){u(ae,q,Z,X,ne,"next",ue)}function ne(ue){u(ae,q,Z,X,ne,"throw",ue)}X(void 0)})}}k.d(Be,{Z:()=>$})}},Vt=>{Vt(Vt.s=6246)}]);